"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[1100],{61100:(Ze,z,g)=>{g.r(z),g.d(z,{BookingHunterDetailComponent:()=>su,EditBookingHunterComponent:()=>oe,ManageBookingHunterComponent:()=>Mc,RequestBookingConfigurationComponent:()=>pe,RequestBookingHunterComponent:()=>Ca,RequestBookingHunterModalComponent:()=>Fa,RequestBookingJourneyComponent:()=>he,RequestBookingPassengerComponent:()=>xe,RequestFareOptionModalComponent:()=>me,RequestHunterConfirmBottomSheetComponent:()=>Pe,RequestHunterConfirmModalComponent:()=>Te});var f=g(36895),b=g(37094),D=g(83700),_=g(72506),F=g(44143),T=g(42678),I=g(67460),h=g(15439),e=g(94650),p=g(88516),L=g(72853),j=g(74713),X=g(76331),x=g(24006),W=g(34541),Q=g(77296),q=g(88001),w=g(82761),P=g(97579),U=g(37735),_e=g(2225),G=g(70800),y=g(9381),H=g(9497);function C(n,r){1&n&&e._UZ(0,"cf-hint",37),2&n&&e.Q6J("hint","Ng\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function O(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",38)(1,"div",39)(2,"div",40),e.NdJ("scrolled",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.scrollDown())}),e.TgZ(3,"cf-datepicker-inline",41),e.NdJ("dateSelect",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.dateSelectMobile(o))}),e.qZA()()(),e.TgZ(4,"div",42)(5,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onMobileDatePickerOK())}),e._uU(6,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),e.xp6(1),e.Q6J("minDate",t.minDate)("displayMonths",t.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",t.formInstant().controls.dateExpires)("maxDate",t.maxDate)("fromDate",t.formInstant().controls.dateExpires.value)("displayMonthsOffset",0)}}function R(n,r){1&n&&e._UZ(0,"cf-hint",37),2&n&&e.Q6J("hint","Gi\u1edd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function V(n,r){1&n&&e._UZ(0,"cf-hint",37),2&n&&e.Q6J("hint","Gi\u1edd ch\u1ecdn kh\xf4ng h\u1ee3p l\u1ec7.")}function de(n,r){1&n&&e._UZ(0,"cf-input-hint",51)}function Ye(n,r){if(1&n){const t=e.EpF();e.ynx(0),e._UZ(1,"div",30),e.TgZ(2,"div",44)(3,"div",45)(4,"cf-select",46),e.NdJ("selectedChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onSelectAgent(o))}),e.TgZ(5,"label",47),e._UZ(6,"cf-icon",48),e.TgZ(7,"span",49),e._uU(8,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA()(),e.YNc(9,de,1,0,"cf-input-hint",50),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("status",t.formInstant().controls.agentId.invalid&&(t.formInstant().controls.agentId.dirty||t.formInstant().controls.agentId.touched)?"error":"default")("data",t.agentOption)("ngModel",t.agentSelected)("allowSearch",!0)("formControl",t.formInstant().controls.agentId),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.formInstant().controls.agentId.hasError("required")&&(t.formInstant().controls.agentId.touched||t.formInstant().controls.agentId.dirty))}}const je=function(){return[]};let pe=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E){this.route=t,this.calendar=i,this._cfRegister=o,this._modal=s,this._permissionService=a,this.fb=c,this._cd=l,this._userService=d,this._ticketLowFareService=u,this._requestDataService=m,this._mobileDetectService=v,this._bottomSheetService=Z,this._systemService=E,this.formGroupChange=new e.vpe,this.agentValueChange=new e.vpe,this.timeExpireStr="",this.MAX_TIME_EXECUTE=48,this.timeOptions=[],this.agentOption=[],this.agentInfo=[],this.agentSelected="",this.isMobile=!1,this.numOfMonth=4,this.checkPhoneRequired=this._systemService.isFeatureEnabled(q.Ke.Web_Features_RulePhoneNumber_RulePhoneNumberVJ_Enable),o.registerIcons([_.xgX,_.NYs,_.esH,_.cnj,_.lij,_.gEm]),this.initAgentData()}ngOnInit(){this.timeOptions=this.generateTimeArrays(),this.checkMobile(),this.minDate=this.calendar.getToday(),this.generateTime()}checkMobile(){this._mobileDetectService.mobileSubject.subscribe(t=>{this.isMobile=t})}initAgentData(){var t,i,o,s,a,c;if(this._requestDataService.isAgent2Show()){const l=this._permissionService.getCurrentUser();this.agentSelected=l.userId,null===(t=this._requestDataService.configurationFormGroup)||void 0===t||t.controls.agentId.setValue(l.userId),!this._requestDataService.configurationFormGroup.value.agentPhone&&!this._requestDataService.configurationFormGroup.value.agentPhone&&(!this._requestDataService.hasVJAirline||this._requestDataService.hasVJAirline&&!this.checkPhoneRequired)&&(null===(i=this._requestDataService.configurationFormGroup)||void 0===i||i.controls.agentPhone.setValue(l.phone)),null===(o=this._requestDataService.configurationFormGroup)||void 0===o||o.controls.agentEmail.setValue(l.email),null===(s=this._requestDataService.configurationFormGroup)||void 0===s||s.controls.agentDisplayName.setValue(l.displayName),null===(a=this._requestDataService.configurationFormGroup)||void 0===a||a.controls.agentName.setValue(l.username),null===(c=this._requestDataService.configurationFormGroup)||void 0===c||c.controls.agentAvatar.setValue(l.avatar)}else this._ticketLowFareService.getAgentFilterHuntOrder().subscribe({next:l=>{this.agentInfo=l.data.map(d=>({id:d.id,userName:d.userName,displayName:d.displayName,phone:d.phone,email:d.email,avatar:d.avatar})),this.agentOption=l.data.map(d=>({name:`${d.userName} - ${d.displayName}`,code:d.id,isSelected:!1}))}})}formInstant(){return this._requestDataService.configurationFormGroup}isAgent2(){return this._requestDataService.isAgent2Show()}generateTime(){var t,i;const o=this._requestDataService.journeyFormGroup.value,s=new Date,l=(h(o.departDate).endOf("date").toDate().getTime()-s.getTime())/36e5,d=Math.min(Math.floor(l),this.MAX_TIME_EXECUTE);s.setHours(s.getHours()+d),s.setMinutes(s.getMinutes()),this.timeExpire=s,this.maxDate=(0,p.jy)(this.timeExpire),null===(t=this._requestDataService.configurationFormGroup)||void 0===t||t.controls.dateExpires.setValue(this.timeExpire);const u=this.timeExpire.getMinutes()-this.timeExpire.getMinutes()%15,m=`${this.timeExpire.getHours().toString().padStart(2,"0")}:${u.toString().padStart(2,"0")}`;this.timeOptions=this.generateTimeArrays(0,0,this.timeExpire.getHours(),this.timeExpire.getMinutes()),null===(i=this._requestDataService.configurationFormGroup)||void 0===i||i.controls.timeExpires.setValue(m)}onSelectedTimeExpire(){}onDateSelected(t){const i=h(t).format("DD/MM/YYYY"),o=h(new Date).format("DD/MM/YYYY"),s=h(this.timeExpire).format("DD/MM/YYYY");this.timeOptions=i===o?this.generateTimeArrays((new Date).getHours(),(new Date).getMinutes(),23,60):i===s?this.generateTimeArrays(0,0,this.timeExpire.getHours(),this.timeExpire.getMinutes()):this.generateTimeArrays(0,0,23,60),this.timeOptions.find(c=>c.text===this._requestDataService.configurationFormGroup.controls.timeExpires.value)?this._requestDataService.configurationFormGroup.controls.timeExpires.setErrors(null):this._requestDataService.configurationFormGroup.controls.timeExpires.setErrors({illegal:!0})}generateTimeArrays(t=0,i=0,o=23,s=60){const a=[];let c=t,l=i;for(;c<o&&o<24||c===o&&l<s;){const d=c.toString().padStart(2,"0"),u=l.toString().padStart(2,"0");a.push({value:`${d}:${u}`,text:`${d}:${u}`}),l+=15,l>=s&&(l=0,c++)}return a}onSelectAgent(t){var i,o,s,a,c,l;const d=this.agentInfo.find(u=>u.id===t.code);d&&(this.agentValueChange.emit(d.id),this.agentSelected=t.code,null===(i=this._requestDataService.configurationFormGroup)||void 0===i||i.controls.agentId.setValue(d.id),!this._requestDataService.configurationFormGroup.value.agentPhone&&(!this._requestDataService.hasVJAirline||this._requestDataService.hasVJAirline&&!this.checkPhoneRequired)&&(null===(o=this._requestDataService.configurationFormGroup)||void 0===o||o.controls.agentPhone.setValue(d.phone)),null===(s=this._requestDataService.configurationFormGroup)||void 0===s||s.controls.agentEmail.setValue(d.email),null===(a=this._requestDataService.configurationFormGroup)||void 0===a||a.controls.agentDisplayName.setValue(d.displayName),null===(c=this._requestDataService.configurationFormGroup)||void 0===c||c.controls.agentName.setValue(d.userName),null===(l=this._requestDataService.configurationFormGroup)||void 0===l||l.controls.agentAvatar.setValue(d.avatar))}onNotifyOptionChange(t){this.formInstant().controls.sendNotify.setValue(t)}scrollDown(){this.numOfMonth=this.numOfMonth+4}onMobileDatePickerOK(){var t;this._bottomSheetService.dismiss();const i=h(null===(t=this._requestDataService.configurationFormGroup)||void 0===t?void 0:t.controls.dateExpires.value).format("DD/MM/YYYY"),o=h(new Date).format("DD/MM/YYYY"),s=h(this.timeExpire).format("DD/MM/YYYY");this.timeOptions=i===o?this.generateTimeArrays((new Date).getHours(),(new Date).getMinutes(),23,60):i===s?this.generateTimeArrays(0,0,this.timeExpire.getHours(),this.timeExpire.getMinutes()):this.generateTimeArrays(0,0,23,60),this.timeOptions.find(c=>c.text===this._requestDataService.configurationFormGroup.controls.timeExpires.value)?this._requestDataService.configurationFormGroup.controls.timeExpires.setErrors(null):this._requestDataService.configurationFormGroup.controls.timeExpires.setErrors({illegal:!0})}expireDatePickerClick(t){if(this.isMobile){const i=this._bottomSheetService.open(t,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0});i.containerInstance._leftButtonClick.subscribe(o=>i.dismiss())}}dateSelectMobile(t){var i;null===(i=this._requestDataService.configurationFormGroup)||void 0===i||i.controls.dateExpires.setValue(t)}roundTripFocus(t){if(this.isMobile)return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(p.jH),e.Y36(_.KNP),e.Y36(P.oE),e.Y36(U.$A),e.Y36(x.qu),e.Y36(e.sBO),e.Y36(_e.KD),e.Y36(G.s),e.Y36(T.FH),e.Y36(y.L),e.Y36(b.a2),e.Y36(H.o))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-booking-configuration"]],outputs:{formGroupChange:"formGroupChange",agentValueChange:"agentValueChange"},standalone:!0,features:[e.jDz],decls:59,vars:20,consts:[[1,"bg-white","rounded","shadow-cf-md","flex","flex-col","gap-y-3","p-6","md:px-3"],[1,"flex","flex-col","justify-center","gap-y-0"],[1,"flex","justify-center","items-center","md:items-center"],[1,"flex","items-center","w-[67%]","md:w-[90%]"],[1,"flex","flex-col"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-secondary-7-4","text-secondary-7-4","!bg-white"],["icon","check","size","small",1,"text-secondary-7-4"],[1,"absolute","w-[136px]","top-[130%]","text-[#2C2C2C]","text-body-md","md:max-w-[80px]","text-center"],[1,"flex-grow","h-[1px]","bg-secondary-7-4"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-secondary-7-4","text-neutral-white","!bg-secondary-7-4"],[1,"absolute","w-[100px]","top-[130%]","text-[#2C2C2C]","text-express-md","md:max-w-[80px]","text-center"],[1,"flex","justify-between","items-center","mb-2","mt-12"],[1,"flex","flex-col","gap-y-5","w-full"],[1,"flex","flex-col","gap-y-2.5"],[1,"flex","gap-y-2.5","md:block"],[1,"flex","items-center","gap-x-2"],["icon","clock","size","small"],[1,"text-heading-sm","text-neutral-black"],[1,"py-[2px]","px-2","ml-1","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","md:ml-4"],[1,"flex","justify-between","gap-x-6","md:block"],[1,"!w-1/2","md:!w-full","py-2",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","maxDate","formControl","input","dateSelect","mousedown","click"],["dateFrom","cfDatepicker"],["cfHint","",3,"hint",4,"ngIf"],["datepickerBottomSheet",""],[1,"!w-1/2","md:!w-full","py-2"],["textField","text","valueField","value",1,"!max-w-none","w-full",3,"data","placeholder","allowSearch","formControl","status"],["cfHeadIcon","","icon","clock","size","small"],[4,"ngIf"],[1,"w-full","h-[1px]","bg-neutral-gray-1","mb-2"],[1,"flex","justify-between","items-center"],[1,"flex","justify-between","items-center","gap-x-[4px]"],["icon","bell","size","small"],[1,"text-heading-sm"],[3,"checkedChange"],[1,"text-espressive-md"],["cfHint","",3,"hint"],[1,"flex","w-full","flex-col","justify-between"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","maxDate","fromDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white"],["cf-button","",1,"justify-center","w-full",3,"click"],[1,"mb-6","md:mb-[1px]"],[1,""],["data-id","agentId","textField","name","valueField","code","placeholder","Ch\u1ecdn \u0111\u1ea1i l\xfd",1,"!w-full","!max-w-none",3,"status","data","ngModel","allowSearch","formControl","selectedChange"],["cfLabel","",1,"text-heading-sm","text-neutral-black","flex","gap-x-2","items-center"],["icon","building","cfHeadIcon","","size","small"],[3,"CfRequired"],["cfHint","","hint","\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",4,"ngIf"],["cfHint","","hint","\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span"),e._UZ(7,"cf-icon",6),e.qZA(),e.TgZ(8,"div",7),e._uU(9,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()()(),e._UZ(10,"div",8),e.TgZ(11,"div",4)(12,"div",5)(13,"span"),e._UZ(14,"cf-icon",6),e.qZA(),e.TgZ(15,"div",7),e._uU(16,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()()(),e._UZ(17,"div",8),e.TgZ(18,"div",4)(19,"div",9)(20,"span"),e._uU(21,"3"),e.qZA(),e.TgZ(22,"div",10),e._uU(23,"C\u1ea5u h\xecnh s\u0103n v\xe9"),e.qZA()()()()()(),e.TgZ(24,"div",11)(25,"div",12)(26,"div",13)(27,"div",14)(28,"div",15),e._UZ(29,"cf-icon",16),e.TgZ(30,"span",17),e._uU(31,"Th\u1eddi h\u1ea1n s\u0103n v\xe9"),e.qZA()(),e.TgZ(32,"span",18),e._uU(33),e.ALo(34,"date"),e.qZA()(),e.TgZ(35,"div",19)(36,"cf-input-group",20),e._UZ(37,"cf-icon",21),e.TgZ(38,"input",22,23),e.NdJ("input",function(){e.CHM(o);const a=e.MAs(39);return e.KtG(a.close())})("dateSelect",function(a){e.CHM(o);const c=e.MAs(39);return i.onDateSelected(a),e.KtG(c.close())})("mousedown",function(a){return i.roundTripFocus(a)})("click",function(){e.CHM(o);const a=e.MAs(42);return e.KtG(i.expireDatePickerClick(a))}),e.qZA(),e.YNc(40,C,1,1,"cf-hint",24),e.qZA(),e.YNc(41,O,7,15,"ng-template",null,25,e.W1O),e.TgZ(43,"div",26)(44,"cf-select",27),e._UZ(45,"cf-icon",28),e.YNc(46,R,1,1,"cf-hint",24),e.YNc(47,V,1,1,"cf-hint",24),e.qZA()()()()()(),e.YNc(48,Ye,10,7,"ng-container",29),e._UZ(49,"div",30),e.TgZ(50,"div",31)(51,"div",32),e._UZ(52,"cf-icon",33),e.TgZ(53,"div",34)(54,"span"),e._uU(55,"Th\xf4ng b\xe1o"),e.qZA()()(),e.TgZ(56,"cf-switch",35),e.NdJ("checkedChange",function(a){return i.onNotifyOptionChange(a)}),e.qZA()(),e.TgZ(57,"div",36),e._uU(58,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n s\u0103n v\xe9 tr\u01b0\u1edbc 15 ph\xfat"),e.qZA()()}2&t&&(e.xp6(33),e.hij("Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn th\u1eddi h\u1ea1n \u0111\u1ebfn ",i.timeExpire?e.xi3(34,16,i.timeExpire,"dd/MM/yyyy HH:mm"):""," "),e.xp6(3),e.Q6J("status",i.formInstant().controls.dateExpires.invalid&&(i.formInstant().controls.dateExpires.dirty||i.formInstant().controls.dateExpires.touched)?"error":"default"),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.minDate)("maxDate",i.maxDate)("formControl",i.formInstant().controls.dateExpires),e.xp6(2),e.Q6J("ngIf",(null==i.formInstant().controls.dateExpires.errors?null:i.formInstant().controls.dateExpires.errors.required)&&(i.formInstant().controls.dateExpires.dirty||i.formInstant().controls.dateExpires.touched)),e.xp6(4),e.Q6J("data",i.timeOptions||e.DdM(19,je))("placeholder","Ch\u1ecdn gi\u1edd k\u1ebft th\xfac")("allowSearch",!0)("formControl",i.formInstant().controls.timeExpires)("status",i.formInstant().controls.timeExpires.invalid&&(i.formInstant().controls.timeExpires.dirty||i.formInstant().controls.timeExpires.touched)?"error":"default"),e.xp6(2),e.Q6J("ngIf",(null==i.formInstant().controls.timeExpires.errors?null:i.formInstant().controls.timeExpires.errors.required)&&(i.formInstant().controls.timeExpires.dirty||i.formInstant().controls.timeExpires.touched)),e.xp6(1),e.Q6J("ngIf",(null==i.formInstant().controls.timeExpires.errors?null:i.formInstant().controls.timeExpires.errors.illegal)&&(i.formInstant().controls.timeExpires.dirty||i.formInstant().controls.timeExpires.touched)),e.xp6(1),e.Q6J("ngIf",!i.isAgent2()))},dependencies:[_.AxE,_.Sm8,f.ez,f.O5,f.uU,F.j$,F.ND,F.BN,F.v2,D.N8,D.Xq,b.DW,X.I,j.q,L.m,p.Cs,x.u5,x.Fj,x.JJ,x.UX,x.oH,W.C,Q.Rq,Q.Ry,p._o],encapsulation:2}),n})();var Ae=g(73546),De=g(27361),Ge=g(50633),Ve=g(39646),ge=g(54004),qe=g(27898);function Ke(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onExpandAirline(o))}),e._uU(1," Xem th\xeam "),e._UZ(2,"cf-icon",20),e.qZA()}}function $e(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",19),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onExpandAirline(o))}),e._uU(1," \u1ea8n b\u1edbt "),e._UZ(2,"cf-icon",21),e.qZA()}}function ze(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(3).$implicit,a=e.oxw();return e.KtG(a.onFareTypeExpand(s,o))}),e._uU(1," Xem th\xeam "),e._UZ(2,"cf-icon",20),e.qZA()}}function Le(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(3).$implicit,a=e.oxw();return e.KtG(a.onFareTypeExpand(s,o))}),e._uU(1," \u1ea8n b\u1edbt "),e._UZ(2,"cf-icon",21),e.qZA()}}const Xe=function(n){return{"!bg-[#FFF8E7] border-[#FCB40A]":n}};function We(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",23)(2,"cf-checkbox",24),e.NdJ("checkChange",function(o){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.onFareTypeSelectedChange(o,a))}),e._uU(3),e.TgZ(4,"span",16),e._uU(5),e.qZA()(),e.YNc(6,ze,3,0,"button",25),e.YNc(7,Le,3,0,"button",25),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(7,Xe,t.isExpand)),e.xp6(1),e.Q6J("checked",t.isActive),e.xp6(1),e.hij("",t.name," "),e.xp6(2),e.AsE("(",t.totalSelectedFare||0,"/",t.totalFare,")"),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand)}}function et(n,r){if(1&n&&(e.ynx(0),e.YNc(1,We,8,9,"ng-container",7),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function tt(n,r){if(1&n&&(e.TgZ(0,"div",22),e.YNc(1,et,2,1,"ng-container",7),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}const nt=function(n){return{"bg-[#FCB40A] text-neutral-white":n}};function it(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",29),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(2).$implicit,c=e.oxw(3);return e.KtG(c.onToggleFareSelected(s,a))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(2,nt,t.isActive)),e.xp6(1),e.hij(" ",t.name,"")}}function ot(n,r){if(1&n&&(e.TgZ(0,"div",28),e.YNc(1,it,3,4,"ng-container",7),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function rt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ot,2,1,"div",27),e.BQk()),2&n){const t=r.$implicit,i=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngIf",t.isExpand&&i.isExpand)}}function at(n,r){if(1&n&&(e.ynx(0),e.YNc(1,rt,2,1,"ng-container",7),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function st(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"cf-checkbox",5),e.NdJ("checkChange",function(o){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onSelectedAirlineChange(o,a))}),e.TgZ(3,"div",12)(4,"div",13),e._UZ(5,"img",14),e.TgZ(6,"div",15),e._uU(7),e.TgZ(8,"span",16),e._uU(9),e.qZA()()()()(),e.YNc(10,Ke,3,0,"button",17),e.YNc(11,$e,3,0,"button",17),e.qZA(),e.YNc(12,tt,2,1,"div",18),e.YNc(13,at,2,1,"ng-container",7),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("checked",t.isActive),e.xp6(3),e.Q6J("src",t.icon,e.LSH),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.AsE("(",t.totalSelectedFare||0,"/",t.totalFare,")"),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngForOf",t.childItems)}}let me=(()=>{class n{constructor(t,i,o){this._cfRegister=t,this._cd=i,this._ref=o,t.registerIcons([_.xgX,_.xbi,_.NYs,_.Hge,_.n78,_.fqi,_.esH,_.cnj,_.TM4]),this.fareOptions=o.data.data}ngOnInit(){this.standardizeFareOptionSelected()}onExpandAirline(t){this.fareOptions.forEach(i=>{i.isExpand=i.code.toUpperCase()===t.code.toUpperCase()&&!i.isExpand})}onFareTypeExpand(t,i){i.isExpand=!i.isExpand,t.childItems.forEach(o=>{o.childItems.forEach(s=>{s.code!==i.code&&(s.isExpand=!1)})})}onSelectAllChange(t){this.fareOptions.forEach(i=>{i.isActive=t,i.childItems.forEach(o=>{o.isActive=t,o.childItems.forEach(s=>{s.isActive=t,s.childItems.forEach(a=>{a.isActive=t})})})}),this.standardizeFareOptionSelected()}onFareTypeSelectedChange(t,i){i.isActive=t,i.childItems.forEach(o=>{o.isActive=i.isActive}),this.standardizeFareOptionSelected()}onSelectedAirlineChange(t,i){i.childItems.forEach(o=>{o.isActive=t,o.childItems.forEach(s=>{s.isActive=t,s.childItems.forEach(a=>{a.isActive=t})})}),this.standardizeFareOptionSelected()}onToggleFareSelected(t,i){t.isActive=!t.isActive,i.isActive=i.childItems.some(o=>o.isActive),this.standardizeFareOptionSelected()}close(){this._ref.close(!1)}submit(){this._ref.close(this.fareOptions)}standardizeFareOptionSelected(){let t=!0;this.fareOptions.forEach(i=>{let o=!1;i.childItems.forEach(s=>{s.isActive=s.childItems.some(a=>a.isActive),s.childItems.forEach(a=>{a.isActive=a.childItems.map(c=>c.isActive).reduce((c,l)=>c||l,!1),t=t&&a.childItems.map(c=>c.isActive).reduce((c,l)=>c&&l,!0),a.totalSelectedFare=a.childItems.filter(c=>c.isActive).length,a.isActive&&(o=!0)})}),i.isActive=o,i.totalSelectedFare=i.childItems.reduce((s,a)=>s+a.childItems.map(c=>c.childItems.filter(l=>l.isActive).length).reduce((c,l)=>c+l),0)}),this.selectedAll=t,this._cd.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.KNP),e.Y36(e.sBO),e.Y36(P.gb))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-fare-option-modal"]],standalone:!0,features:[e.jDz],decls:17,vars:2,consts:[[1,"w-[700px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"flex","justify-between","items-center","px-6","py-[13px]","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"px-6","py-[13px]","border-b","border-neutral-gray-1"],["size","medium",3,"checked","checkChange"],[1,"w-full","h-full","flex-1","overflow-auto","flex","flex-col"],[4,"ngFor","ngForOf"],[1,"w-full","p-6","flex","justify-end","gap-x-2"],["cf-button","","size","medium","type","secondary",1,"justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"w-full","flex","justify-between","py-4","px-6"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],[1,"w-6","h-6","object-contain",3,"src"],[1,"text-body-md-long"],[1,"text-express-md"],["class","flex !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4 bottom-0 gap-x-2 items-center text-center","type","secondary",3,"click",4,"ngIf"],["class","flex w-full flex-wrap gap-2 px-6",4,"ngIf"],["type","secondary",1,"flex","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4","bottom-0","gap-x-2","items-center","text-center",3,"click"],["size","small","icon","chevron_down"],["size","small","icon","chevron_up"],[1,"flex","w-full","flex-wrap","gap-2","px-6"],[1,"w-[calc(32%-12px)]","py-2","px-2.5","border","border-[#F2F2F2]","rounded-[0.25rem]","flex","flex-col","justify-between","items-center","gap-y-0.5","cursor-pointer","bg-white","md:border","md:border-neutral-gray-1",3,"ngClass"],["size","medium",1,"w-full",3,"checked","checkChange"],["class","flex w-full text-center !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4 bottom-0","type","secondary",3,"click",4,"ngIf"],["type","secondary",1,"flex","w-full","text-center","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4","bottom-0",3,"click"],["class","flex flex-wrap gap-2 p-2 px-6 justify-start items-center",4,"ngIf"],[1,"flex","flex-wrap","gap-2","p-2","px-6","justify-start","items-center"],[1,"ml-1","mr-1","bg-[#F2F2F2]","text-espressive-md","p-2","text-center","cursor-pointer",3,"ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"Ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"cf-checkbox",5),e.NdJ("checkChange",function(s){return i.onSelectAllChange(s)}),e._uU(7,"Ch\u1ecdn t\u1ea5t c\u1ea3"),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,st,14,9,"ng-container",7),e.qZA(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return i.close()}),e.TgZ(12,"span"),e._uU(13,"H\u1ee7y"),e.qZA()(),e.TgZ(14,"button",10),e.NdJ("click",function(){return i.submit()}),e.TgZ(15,"span"),e._uU(16,"X\xe1c nh\u1eadn"),e.qZA()()()()),2&t&&(e.xp6(6),e.Q6J("checked",i.selectedAll),e.xp6(3),e.Q6J("ngForOf",i.fareOptions))},dependencies:[_.AxE,_.Sm8,f.ez,f.mk,f.sg,f.O5,F.j$,D.N8,D.Xq,b.DW,x.UX,qe.u],encapsulation:2}),n})();var ct=g(99590),fe=g(98184),ke=g(74891),Ie=g(24513),B=g(53820),N=g(62163),J=g(38514),K=g(61545);function lt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",41,42),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("EDIT"))}),e._uU(3," Ch\u1ec9nh s\u1eeda "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.pnrOrderData.canUpdate)("manualHandle",t.pnrOrderData.canUpdate)("placement","topCenter")("cfTooltip","Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda do \u0111\xe3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc \u0111\xf3")}}function ut(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("CANCEL"))}),e._uU(1," H\u1ee7y s\u0103n "),e.qZA()}}function _t(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("CREATE_NEW"))}),e._uU(1," T\u1ea1o l\u1ea1i "),e.qZA()}}const Fe=function(n,r,t){return[n,r,t]},dt=function(n,r){return[n,r]};function pt(n,r){if(1&n&&(e.TgZ(0,"div",38),e.YNc(1,lt,4,4,"button",39),e.YNc(2,ut,2,0,"button",40),e.YNc(3,_t,2,0,"button",40),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.kEZ(3,Fe,t.STATUS_ORDER.CREATE,t.STATUS_ORDER.IN_PROCESS,t.STATUS_ORDER.IN_PROCESS_PRICE_UP).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",e.kEZ(7,Fe,t.STATUS_ORDER.CREATE,t.STATUS_ORDER.IN_PROCESS,t.STATUS_ORDER.IN_PROCESS_PRICE_UP).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",e.WLB(11,dt,t.STATUS_ORDER.CANCEL,t.STATUS_ORDER.EXPIRED).includes(t.pnrOrderData.state))}}function gt(n,r){if(1&n&&(e.TgZ(0,"div",44)(1,"span",45),e._uU(2),e.qZA(),e.TgZ(3,"span",46),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.hij("(+",t.pnrOrderData.representPax.remainingPax,")"),e.xp6(2),e.hij("(+",t.pnrOrderData.representPax.remainingPax," h\xe0nh kh\xe1ch kh\xe1c)")}}function mt(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(3,"div",18),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.pnrOrderData.ownerName||"-")}}function ft(n,r){if(1&n&&(e.TgZ(0,"div",25)(1,"div",26),e._uU(2,"Ng\xe0y y\xeau c\u1ea7u"),e.qZA(),e.TgZ(3,"div",18),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.pnrOrderData.timeCreated||"-")}}function ht(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"H\xe3ng bay"),e.qZA())}function vt(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"Gi\xe1 v\xe9"),e.qZA())}function xt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"a",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAction("BOOKING_DETAIL"))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.pnrOrderData.fareInfo.detectedPnr," ")}}function Tt(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Et(n,r){1&n&&e._UZ(0,"cf-icon",48)}function bt(n,r){1&n&&e._UZ(0,"cf-icon",49)}function yt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("CREATE_NEW"))}),e._UZ(1,"cf-icon",55),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o l\u1ea1i"),e.qZA()()}}const Ct=function(n){return{"!text-neutral-gray-4 pointer-events-none":n}},Zt=function(n){return{"!text-neutral-gray-4":n}};function At(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",56),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("EDIT"))}),e._UZ(1,"cf-icon",57),e.TgZ(2,"span"),e._uU(3,"Ch\u1ec9nh s\u1eeda"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,Ct,!t.pnrOrderData.canUpdate)),e.xp6(1),e.Q6J("ngClass",e.VKq(4,Zt,!t.pnrOrderData.canUpdate))}}function Dt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onConfirmCancel(o))}),e._UZ(1,"cf-icon",58),e.TgZ(2,"span"),e._uU(3,"H\u1ee7y s\u0103n v\xe9"),e.qZA()()}}function qt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onAction("BOOKING_DETAIL"))}),e._UZ(1,"cf-icon",59),e.TgZ(2,"span"),e._uU(3,"M\u1edf \u0111\u1eb7t ch\u1ed7"),e.qZA()()}}const kt=function(){return["CANCEL","EXPIRED"]},Se=function(){return["CREATE","IN_PROCESS","IN_PROCESS_PRICE_UP"]},It=function(){return["COMPLETED"]};function Ft(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",50),e.YNc(1,yt,4,0,"div",51),e.YNc(2,At,4,6,"div",52),e.YNc(3,Dt,4,0,"div",51),e.TgZ(4,"div",53),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onAction("DETAIL"))}),e._UZ(5,"cf-icon",54),e.TgZ(6,"span"),e._uU(7,"Chi ti\u1ebft y\xeau c\u1ea7u"),e.qZA()(),e.YNc(8,qt,4,0,"div",51),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket&&e.DdM(4,kt).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket&&e.DdM(5,Se).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket&&e.DdM(6,Se).includes(t.pnrOrderData.state)),e.xp6(5),e.Q6J("ngIf",e.DdM(7,It).includes(t.pnrOrderData.state))}}function St(n,r){1&n&&(e.TgZ(0,"div",61)(1,"span",62),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",63),e.qZA())}function Nt(n,r){1&n&&(e.TgZ(0,"div",61)(1,"span",62),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",63),e.qZA())}function Bt(n,r){if(1&n&&(e.YNc(0,St,4,0,"div",60),e.YNc(1,Nt,4,0,"div",60)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}const wt=function(n){return{"md:!items-end":n}},re=function(n){return{"md:!hidden":n}};let Ut=(()=>{class n{constructor(t,i,o,s){this._permissionService=i,this._bottomSheetService=o,this._mobileDetectService=s,this.status=B.b.COMPLETED,this.STATUS_ORDER=B.b,this.CARD_HUNTER_STATUS=T.u1,this.MONITOR_TYPE=N.$,this.actionChange=new e.vpe,this.viewListAgentForMonitorHuntFare=this._permissionService.hasPermission(U.or.ViewListAgentForMonitorHuntFare),this.canMonitorHuntFareTicket=this._permissionService.hasPermission(U.or.CanMonitorHuntFareTicket),this.isShowMore=!1,t.registerIcons([_.esH,_.NNX,_.Hge,_.Ffn,_.SlW,_.$PG,_.qDv,_.cnj,_.okA,_.xbi,_.n78,_.fqi,_.BbA,_.QkI,_.$S,_.SK7])}ngOnInit(){this.status=this.pnrOrderData.state,this.availableSlotData={available:this.pnrOrderData.availableSlotInfo.free,type:this.pnrOrderData.availableSlotInfo.type,amount:this.pnrOrderData.availableSlotInfo.type===J.G.DOWN_FARE_TICKET?this.pnrOrderData.availableSlotInfo.percent:this.pnrOrderData.availableSlotInfo.amountPerPax,currency:this.pnrOrderData.availableSlotInfo.type===J.G.DOWN_FARE_TICKET?this.pnrOrderData.availableSlotInfo.currency:"\u0111"}}onAction(t){this._bottomSheetService&&this._bottomSheetService.dismiss(),this.actionChange.emit(t)}onShow(t){t.preventDefault(),t.stopPropagation(),this.isShowMore=!this.isShowMore}onClickDetail(){this._mobileDetectService.isMobile()&&this.onAction("DETAIL")}openBottomSheet(t,i){t.preventDefault(),t.stopPropagation(),this.bottomSheetAction=this._bottomSheetService.open(i,{hasHeader:!1,rightButtonIconClass:"text-neutral-gray-4"})}onConfirmCancel(t){this.bottomSheetAction.dismiss(),t.preventDefault(),t.stopPropagation(),this.mobileConfirmBts=this._bottomSheetService.open(I.Q4,{headerTitle:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:`<div>B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderData.code}?</strong></div>`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}}),this.mobileConfirmBts.containerInstance._rightButtonClick.subscribe(i=>{this.mobileConfirmBts.dismiss()}),this.mobileConfirmBts.afterDismissed().subscribe(i=>{i?this.onAction("CANCEL"):this.onClose()})}onClose(){this.mobileConfirmBts.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.KNP),e.Y36(U.$A),e.Y36(b.a2),e.Y36(y.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["booking-hunter-item"]],inputs:{pnrOrderData:"pnrOrderData"},outputs:{actionChange:"actionChange"},standalone:!0,features:[e.jDz],decls:76,vars:44,consts:[[1,"rounded-lg","overflow-hidden","bg-white"],[1,"px-2.5","py-1.5","flex","justify-between","gap-x-2.5"],[1,"flex","items-center","gap-x-2"],[1,"md:hidden",3,"availableSlotData","content"],[1,"flex","items-center","gap-x-1"],["size","small",3,"icon"],[1,"text-express-md"],["class","flex gap-x-1.5 md:hidden",4,"ngIf"],[1,"hidden","md:block","md:p-2",3,"click"],["icon","options_horizontal","size","small"],[1,"p-3","flex","flex-col","gap-y-2",3,"click"],[1,"flex","justify-between","items-center"],[1,"flex","flex-col","justify-between","gap-y-1.5"],[1,"text-express-xl","text-neutral-gray-6","flex","items-center","gap-x-2.5","md:text-express-md"],["icon","plane","size","small"],["icon","arrow_right","size","small"],[1,"flex","gap-x-[30px]","pl-[26px]"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-express-sm","text-neutral-gray-6"],[1,"flex","gap-x-1","items-center"],["class","text-express-sm text-neutral-gray-4",4,"ngIf"],["cf-button","","size","medium",1,"md:hidden",3,"click"],[1,"p-2","bg-neutral-gray-1","rounded","md:flex","md:gap-x-4","md:justify-center","md:items-center","md:p-3",3,"ngClass"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","md:gap-y-2","md:flex-1"],["class","min-w-[100px] flex flex-col justify-between gap-y-2 md:flex-row md:gap-x-4",4,"ngIf"],[1,"min-w-[100px]","flex","flex-col","justify-between","gap-y-2","md:flex-row","md:gap-x-4"],[1,"text-body-sm","text-neutral-gray-4","md:min-w-[100px]"],[1,"min-w-[100px]","flex","flex-col","justify-between","gap-y-2","md:flex-row","md:gap-x-4",3,"ngClass"],[4,"ngIf"],[1,"text-express-sm","text-neutral-gray-6",3,"click"],["class","text-secondary-3-4 hover:underline cursor-default",3,"click",4,"ngIf"],[1,"md:p-2","hidden","md:block",3,"click"],["icon","chevron_down","size","small",4,"ngIf"],["icon","chevron_up","size","small",4,"ngIf"],[1,"hidden","md:flex"],[3,"availableSlotData","content"],["bottomSheetAction",""],["availableSlotRef",""],[1,"flex","gap-x-1.5","md:hidden"],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium","type","secondary","class","justify-center bg-neutral-white",3,"disabled","manualHandle","placement","cfTooltip","click",4,"ngIf"],["cf-button","","size","medium","type","secondary","class","justify-center bg-neutral-white",3,"click",4,"ngIf"],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium","type","secondary",1,"justify-center","bg-neutral-white",3,"disabled","manualHandle","placement","cfTooltip","click"],["trigger","","originOverlay","cdkOverlayOrigin"],["cf-button","","size","medium","type","secondary",1,"justify-center","bg-neutral-white",3,"click"],[1,"text-express-sm","text-neutral-gray-4"],[1,"hidden","md:block"],[1,"md:hidden"],[1,"text-secondary-3-4","hover:underline","cursor-default",3,"click"],["icon","chevron_down","size","small"],["icon","chevron_up","size","small"],[1,"pb-4","w-full"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"click",4,"ngIf"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"ngClass","click",4,"ngIf"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"click"],["icon","document","size","small"],["icon","refresh","size","small"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"ngClass","click"],["icon","edit_alt","size","small",3,"ngClass"],["icon","coupon_slash","size","small"],["icon","external_link","size","small"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"tooltip-available-slot",3),e.TgZ(4,"div",4),e._UZ(5,"cf-icon",5),e.TgZ(6,"div",6),e._uU(7),e.qZA()()(),e.YNc(8,pt,4,14,"div",7),e.TgZ(9,"div",8),e.NdJ("click",function(a){e.CHM(o);const c=e.MAs(73);return e.KtG(i.openBottomSheet(a,c))}),e._UZ(10,"cf-icon",9),e.qZA()(),e.TgZ(11,"div",10),e.NdJ("click",function(){return i.onClickDetail()}),e.TgZ(12,"div",11)(13,"div",12)(14,"div",13),e._UZ(15,"cf-icon",14),e.TgZ(16,"div"),e._uU(17),e.qZA(),e._UZ(18,"cf-icon",15),e.TgZ(19,"div"),e._uU(20),e.qZA()(),e.TgZ(21,"div",16)(22,"div")(23,"div",17),e._uU(24,"Ng\xe0y kh\u1edfi h\xe0nh:"),e.qZA(),e.TgZ(25,"div",18),e._uU(26),e.qZA()(),e.TgZ(27,"div")(28,"div",17),e._uU(29,"H\xe0nh kh\xe1ch:"),e.qZA(),e.TgZ(30,"div",19)(31,"div",18),e._uU(32),e.qZA(),e.YNc(33,gt,5,2,"div",20),e.qZA()()()(),e.TgZ(34,"button",21),e.NdJ("click",function(){return i.onAction("DETAIL")}),e._uU(35," Chi ti\u1ebft "),e.qZA()(),e.TgZ(36,"div",22)(37,"div",23),e.YNc(38,mt,5,1,"div",24),e.TgZ(39,"div",25)(40,"div",26),e._uU(41,"M\xe3 y\xeau c\u1ea7u"),e.qZA(),e.TgZ(42,"div",18),e._uU(43),e.qZA()(),e.YNc(44,ft,5,1,"div",24),e.TgZ(45,"div",27)(46,"div",26),e._uU(47,"H\u1ea1n s\u0103n v\xe9"),e.qZA(),e.TgZ(48,"div",18),e._uU(49),e.qZA()(),e.TgZ(50,"div",27)(51,"div",26),e._uU(52,"S\u0103n theo"),e.qZA(),e.TgZ(53,"div",18),e.YNc(54,ht,2,0,"span",28),e.YNc(55,vt,2,0,"span",28),e.qZA()(),e.TgZ(56,"div",27)(57,"div",26),e._uU(58,"H\xe3ng bay"),e.qZA(),e.TgZ(59,"div",18),e._uU(60),e.qZA()(),e.TgZ(61,"div",27)(62,"div",26),e._uU(63,"PNR m\u1edbi"),e.qZA(),e.TgZ(64,"div",29),e.NdJ("click",function(){return i.onAction("BOOKING_DETAIL")}),e.YNc(65,xt,2,1,"a",30),e.YNc(66,Tt,2,0,"span",28),e.qZA()()(),e.TgZ(67,"div",31),e.NdJ("click",function(a){return i.onShow(a)}),e.YNc(68,Et,1,0,"cf-icon",32),e.YNc(69,bt,1,0,"cf-icon",33),e.qZA()(),e.TgZ(70,"div",34),e._UZ(71,"tooltip-available-slot",35),e.qZA()()(),e.YNc(72,Ft,9,8,"ng-template",null,36,e.W1O),e.YNc(74,Bt,2,2,"ng-template",null,37,e.W1O)}if(2&t){const o=e.MAs(75);e.xp6(1),e.Tol(i.CARD_HUNTER_STATUS[i.pnrOrderData.state].backgroundColor),e.xp6(2),e.Q6J("availableSlotData",i.availableSlotData)("content",o),e.xp6(1),e.Tol(i.CARD_HUNTER_STATUS[i.pnrOrderData.state].textColor),e.xp6(1),e.Q6J("icon",i.CARD_HUNTER_STATUS[i.pnrOrderData.state].icon),e.xp6(2),e.Oqu(i.CARD_HUNTER_STATUS[i.pnrOrderData.state].description),e.xp6(1),e.Q6J("ngIf",i.canMonitorHuntFareTicket),e.xp6(9),e.AsE("",i.pnrOrderData.startPointName," (",i.pnrOrderData.startPoint,")"),e.xp6(3),e.AsE("",i.pnrOrderData.endPointName," (",i.pnrOrderData.endPoint,")"),e.xp6(6),e.Oqu(i.pnrOrderData.departTime),e.xp6(6),e.Oqu(i.pnrOrderData.representPax.name),e.xp6(1),e.Q6J("ngIf",i.pnrOrderData.representPax.remainingPax),e.xp6(3),e.Q6J("ngClass",e.VKq(34,wt,i.isShowMore)),e.xp6(2),e.Q6J("ngIf",i.viewListAgentForMonitorHuntFare),e.xp6(5),e.Oqu(i.pnrOrderData.code||"-"),e.xp6(1),e.Q6J("ngIf",!i.viewListAgentForMonitorHuntFare),e.xp6(1),e.Q6J("ngClass",e.VKq(36,re,!i.isShowMore)),e.xp6(4),e.Oqu(i.pnrOrderData.timeExpired||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(38,re,!i.isShowMore)),e.xp6(4),e.Q6J("ngIf",i.pnrOrderData.monitorType===i.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",i.pnrOrderData.monitorType===i.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngClass",e.VKq(40,re,!i.isShowMore)),e.xp6(4),e.Oqu(i.pnrOrderData.airline||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(42,re,!i.isShowMore)),e.xp6(4),e.Q6J("ngIf",i.pnrOrderData.fareInfo.detectedPnr),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderData.fareInfo.detectedPnr),e.xp6(2),e.Q6J("ngIf",!i.isShowMore),e.xp6(1),e.Q6J("ngIf",i.isShowMore),e.xp6(2),e.Q6J("availableSlotData",i.availableSlotData)("content",o)}},dependencies:[f.ez,f.mk,f.O5,_.AxE,_.Sm8,D.N8,D.Xq,Ie.Lk,ke.f,fe.xu,fe.U8,b.DW,K._],encapsulation:2}),n})();const Ot=function(n,r,t){return{"!bg-primary-2-4 !border-0":n,"opacity-[0.4]":r,"md:col-span-2":t}},Jt=function(n){return{"!text-neutral-white opacity-[0.6]":n}},Pt=function(n){return{"!text-neutral-white":n}};function Ht(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw();return e.KtG(a.onSelectedTime(s))}),e.TgZ(2,"div",8),e._uU(3),e.qZA(),e.TgZ(4,"div",9),e._uU(5),e.qZA()(),e.BQk()}if(2&n){const t=r.$implicit,i=r.last;e.xp6(1),e.Q6J("ngClass",e.kEZ(5,Ot,t.isActive,t.disable,i)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,Jt,t.isActive)),e.xp6(1),e.hij(" ",t.name,""),e.xp6(1),e.Q6J("ngClass",e.VKq(11,Pt,t.isActive)),e.xp6(1),e.hij(" ",t.start+" - "+t.end!="00:00 - 23:59"?t.start+" - "+t.end:"Gi\u1edd c\u1ee5 th\u1ec3","")}}function Rt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11),e._uU(2,"T\xf9y ch\u1ec9nh gi\u1edd kh\u1edfi h\xe0nh"),e.qZA(),e.TgZ(3,"div",12)(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"cf-slider",13),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.customRangeItem.rangeValues=o)})("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.timeChange(o,s.customRangeItem))})("onSlideEnd",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.end())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Oqu(t.customRangeItem.startTimeStr),e.xp6(2),e.Oqu(t.customRangeItem.endTimeStr),e.xp6(1),e.Q6J("ngModel",t.customRangeItem.rangeValues)("min",0)("max",1439)("step",1)("range",!0)}}let Mt=(()=>{class n{constructor(t,i,o,s){this._cd=i,this.data=o,this.cfBottomSheetRef=s,this.optionDepartureTime=[{name:"S\xe1ng s\u1edbm",code:"early_morning",start:"00:00",end:"05:59",isActive:!1,disable:!1,startTime:0,endTime:360,totalAvailable:0},{name:"Bu\u1ed5i s\xe1ng",code:"morning",start:"06:00",end:"11:59",isActive:!1,disable:!1,startTime:360,endTime:720,totalAvailable:0},{name:"Bu\u1ed5i chi\u1ec1u",code:"afternoon",start:"12:00",end:"17:59",isActive:!1,disable:!1,startTime:720,endTime:1080,totalAvailable:0},{name:"Bu\u1ed5i t\u1ed1i",code:"evening",start:"18:00",end:"23:59",isActive:!1,disable:!1,startTime:1080,endTime:1439,totalAvailable:0},{name:"T\xf9y ch\u1ecdn",code:"custom",start:"00:00",end:"23:59",isActive:!1,disable:!1,startTime:0,endTime:1439,totalAvailable:0}],this.customRangeItem={rangeValues:[0,1439],startTimeStr:"00:00",endTimeStr:"23:59"},t.registerIcons([]),this.orgOptionDepartureTime=JSON.parse(JSON.stringify(o.timeRanges)),this.optionDepartureTime=JSON.parse(JSON.stringify(o.timeRanges)),this.orgOptionDepartureTime.forEach(a=>{"custom"===a.code&&(this.customRangeItem.rangeValues=[a.startTime,a.endTime],this.customRangeItem.startTimeStr=a.start,this.customRangeItem.endTimeStr=a.end)}),s.containerInstance._rightButtonClick.subscribe(a=>{this.cfBottomSheetRef.dismiss(!1)})}onSelectedTime(t){t.disable||(t.isActive=!t.isActive),"custom"===t.code&&!0===t.isActive?this.optionDepartureTime.forEach(i=>{"custom"!==i.code&&(i.isActive=!1)}):"custom"!==t.code&&!0===t.isActive&&(this.optionDepartureTime[4].isActive=!1)}timeChange(t,i){i.startTimeStr=this.minuteToString(t[0]),i.endTimeStr=this.minuteToString(t[1])}minuteToString(t){const i=Math.floor(t/60),o=t%60;let s=`${i}`,a=`${o}`;return i<10&&(s=`0${i}`),o<10&&(a=`0${o}`),`${s}:${a}`}end(){this.optionDepartureTime[4].start=this.customRangeItem.startTimeStr,this.optionDepartureTime[4].end=this.customRangeItem.endTimeStr,this.optionDepartureTime[4].startTime=this.customRangeItem.rangeValues[0],this.optionDepartureTime[4].endTime=this.customRangeItem.rangeValues[1]}submit(){this.cfBottomSheetRef.dismiss(this.optionDepartureTime)}reset(){this.optionDepartureTime.forEach(t=>{t.isActive=!1}),this._cd.detectChanges()}close(){this.cfBottomSheetRef.dismiss()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.KNP),e.Y36(e.sBO),e.Y36(b.Rr),e.Y36(b.Zu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["time-range-options-modal"]],hostAttrs:[1,"!w-full"],standalone:!0,features:[e.jDz],decls:10,vars:2,consts:[[1,"flex","flex-wrap","justify-center","items-center","md:grid","md:grid-cols-2","gap-x-4","gap-y-4","px-4"],[4,"ngFor","ngForOf"],["class","flex flex-col gap-y-2 border border-[#F2F2F2] rounded p-4 mt-4",4,"ngIf"],[1,"p-6"],[1,"flex","justify-end","gap-x-2"],["cf-button","","size","medium","type","secondary",1,"justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"w-[40%]","md:!w-full","border","border-[#F2F2F2]","rounded-[0.25rem]","flex","flex-col","justify-center","items-center","gap-y-0.5","cursor-pointer","bg-white","md:border","md:border-neutral-gray-1","py-2.5",3,"ngClass","click"],[1,"text-espressive-sm","text-neutral-gray-4",3,"ngClass"],[1,"text-espressive-md","text-neutral-black",3,"ngClass"],[1,"flex","flex-col","gap-y-2","border","border-[#F2F2F2]","rounded","p-4","mt-4"],[1,"text-center","items-center","text-espressive-xs","w-full","text-neutral-gray-4"],[1,"flex","justify-between","text-espressive-sm"],[1,"px-2.5",3,"ngModel","min","max","step","range","ngModelChange","onSlideEnd"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Ht,6,13,"ng-container",1),e.qZA(),e.YNc(2,Rt,9,7,"div",2),e.TgZ(3,"div",3)(4,"div",4)(5,"button",5),e.NdJ("click",function(){return i.reset()}),e._uU(6," \u0110\u1eb7t l\u1ea1i "),e.qZA(),e.TgZ(7,"button",6),e.NdJ("click",function(){return i.submit()}),e.TgZ(8,"span"),e._uU(9,"Xong"),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.optionDepartureTime),e.xp6(1),e.Q6J("ngIf",i.optionDepartureTime[4].isActive))},dependencies:[_.AxE,f.ez,f.mk,f.sg,f.O5,Ae.nA,x.u5,x.JJ,x.On,D.N8,D.Xq],encapsulation:2}),n})();function Qt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onExpandAirline(o))}),e._UZ(1,"cf-icon",18),e.qZA()}}function Yt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw();return e.KtG(s.onExpandAirline(o))}),e._UZ(1,"cf-icon",19),e.qZA()}}function jt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(3).$implicit,a=e.oxw();return e.KtG(a.onFareTypeExpand(s,o))}),e._UZ(1,"cf-icon",18),e.qZA()}}function Gt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,s=e.oxw(3).$implicit,a=e.oxw();return e.KtG(a.onFareTypeExpand(s,o))}),e._UZ(1,"cf-icon",19),e.qZA()}}const Vt=function(n){return{"bg-[#FCB40A] text-neutral-white":n}};function Kt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",24),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(6);return e.KtG(a.onToggleFareSelected(s))}),e._uU(2),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.VKq(2,Vt,t.isActive)),e.xp6(1),e.hij(" ",t.name,"")}}function $t(n,r){if(1&n&&(e.TgZ(0,"div",23),e.YNc(1,Kt,3,4,"ng-container",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function zt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",21)(2,"cf-checkbox",3),e.NdJ("checkChange",function(o){const a=e.CHM(t).$implicit,c=e.oxw(4);return e.KtG(c.onFareTypeSelectedChange(o,a))}),e.TgZ(3,"div",10)(4,"div",11)(5,"div",13),e._uU(6),e.TgZ(7,"span",14),e._uU(8),e.qZA()()()()(),e.YNc(9,jt,2,0,"button",15),e.YNc(10,Gt,2,0,"button",15),e.qZA(),e.YNc(11,$t,2,1,"div",22),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("checked",t.isActive),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.AsE("(",t.totalSelectedFare||0,"/",t.totalFare,")"),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand)}}function Lt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,zt,12,7,"ng-container",5),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Xt(n,r){if(1&n&&(e.TgZ(0,"div",20),e.YNc(1,Lt,2,1,"ng-container",5),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Wt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",9)(2,"cf-checkbox",3),e.NdJ("checkChange",function(o){const a=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.onSelectedAirlineChange(o,a))}),e.TgZ(3,"div",10)(4,"div",11),e._UZ(5,"img",12),e.TgZ(6,"div",13),e._uU(7),e.TgZ(8,"span",14),e._uU(9),e.qZA()()()()(),e.YNc(10,Qt,2,0,"button",15),e.YNc(11,Yt,2,0,"button",15),e.qZA(),e.YNc(12,Xt,2,1,"div",16),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(2),e.Q6J("checked",t.isActive),e.xp6(3),e.Q6J("src",t.icon,e.LSH),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.AsE("(",t.totalSelectedFare||0,"/",t.totalFare,")"),e.xp6(1),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand)}}let en=(()=>{class n{constructor(t,i,o,s,a,c,l,d){this.route=t,this._cfRegister=i,this._permissionService=o,this._modal=s,this._route=a,this._cd=c,this.data=l,this.cfBottomSheetRef=d,i.registerIcons([_.xgX,_.xbi,_.NYs,_.Hge,_.n78,_.fqi,_.esH,_.cnj,_.TM4]),d.containerInstance._rightButtonClick.subscribe(u=>{this.cfBottomSheetRef.dismiss(!1)}),this.fareOptions=l.fareOptions}ngOnInit(){this.standardizeFareOptionSelected()}onExpandAirline(t){this.fareOptions.forEach(i=>{i.isExpand=i.code.toUpperCase()===t.code.toUpperCase()&&!i.isExpand})}onFareTypeExpand(t,i){i.isExpand=!i.isExpand,t.childItems.forEach(o=>{o.childItems.forEach(s=>{s.code!==i.code&&(s.isExpand=!1)})})}onSelectAllChange(t){this.fareOptions.forEach(i=>{i.isActive=t,i.childItems.forEach(o=>{o.isActive=t,o.childItems.forEach(s=>{s.isActive=t,s.childItems.forEach(a=>{a.isActive=t})})})}),this.standardizeFareOptionSelected()}onFareTypeSelectedChange(t,i){i.isActive=t,i.childItems.forEach(o=>{o.isActive=i.isActive}),this.standardizeFareOptionSelected()}onSelectedAirlineChange(t,i){i.childItems.forEach(o=>{o.isActive=t,o.childItems.forEach(s=>{s.isActive=t,s.childItems.forEach(a=>{a.isActive=t})})}),this.standardizeFareOptionSelected()}onToggleFareSelected(t){t.isActive=!t.isActive,this.standardizeFareOptionSelected()}close(){this.cfBottomSheetRef.dismiss()}submit(){this.cfBottomSheetRef.dismiss(this.fareOptions)}standardizeFareOptionSelected(){let t=!0;this.fareOptions.forEach(i=>{let o=!1;i.childItems.forEach(s=>{s.childItems.forEach(a=>{a.isActive=a.childItems.map(c=>c.isActive).reduce((c,l)=>c||l,!1),t=t&&a.childItems.map(c=>c.isActive).reduce((c,l)=>c&&l,!0),a.totalSelectedFare=a.childItems.filter(c=>c.isActive).length,a.isActive&&(o=!0)})}),i.isActive=o,i.totalSelectedFare=i.childItems.reduce((s,a)=>s+a.childItems.map(c=>c.childItems.filter(l=>l.isActive).length).reduce((c,l)=>c+l),0)}),this.selectedAll=t,this._cd.detectChanges()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(_.KNP),e.Y36(U.$A),e.Y36(P.oE),e.Y36(w.F0),e.Y36(e.sBO),e.Y36(b.Rr),e.Y36(b.Zu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-fare-option-bottom-sheet"]],standalone:!0,features:[e.jDz],decls:14,vars:2,consts:[[1,"overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"px-3","w-full","h-full","flex-1","overflow-auto","flex","flex-col","gap-y-4"],[1,"px-3","py-[13px]","border-b","border-neutral-gray-1"],["size","medium",3,"checked","checkChange"],[1,"w-full","h-full","flex-1","flex","flex-col"],[4,"ngFor","ngForOf"],[1,"fixed","bottom-0","left-0","w-screen","bg-white","shadow-cf-large-top","p-3","flex","items-center","justify-end","gap-x-2","z-1000"],["cf-button","","size","medium","type","secondary",1,"justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"w-full","flex","justify-between","py-4","px-3","items-center"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],[1,"w-6","h-6","object-contain",3,"src"],[1,"text-body-md-long"],[1,"text-express-md"],["class","flex !outline-none !outline-transparent gap-x-2 items-center","type","secondary",3,"click",4,"ngIf"],["class","flex w-full flex-wrap gap-2 pl-4",4,"ngIf"],["type","secondary",1,"flex","!outline-none","!outline-transparent","gap-x-2","items-center",3,"click"],["size","small","icon","chevron_down"],["size","small","icon","chevron_up"],[1,"flex","w-full","flex-wrap","gap-2","pl-4"],[1,"w-full","flex","justify-between","py-2","px-3","items-center"],["class","flex flex-wrap gap-2 p-2 justify-start items-center",4,"ngIf"],[1,"flex","flex-wrap","gap-2","p-2","justify-start","items-center"],[1,"ml-1","mr-1","bg-[#F2F2F2]","text-espressive-md","p-2","text-center","cursor-pointer",3,"ngClass","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"cf-checkbox",3),e.NdJ("checkChange",function(s){return i.onSelectAllChange(s)}),e._uU(4,"Ch\u1ecdn t\u1ea5t c\u1ea3"),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Wt,13,8,"ng-container",5),e.qZA()(),e.TgZ(7,"div",6)(8,"button",7),e.NdJ("click",function(){return i.close()}),e.TgZ(9,"span"),e._uU(10,"H\u1ee7y"),e.qZA()(),e.TgZ(11,"button",8),e.NdJ("click",function(){return i.submit()}),e.TgZ(12,"span"),e._uU(13,"X\xe1c nh\u1eadn"),e.qZA()()()()),2&t&&(e.xp6(3),e.Q6J("checked",i.selectedAll),e.xp6(3),e.Q6J("ngForOf",i.fareOptions))},dependencies:[_.AxE,_.Sm8,f.ez,f.mk,f.sg,f.O5,F.j$,D.N8,D.Xq,b.DW,x.UX,qe.u],encapsulation:2}),n})();var ee=g(28490),te=g(62733),$=g(77492);const tn=["passengerNumber"],nn=["passengerNumberMB"];function on(n,r){1&n&&e._UZ(0,"cf-hint",52),2&n&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function rn(n,r){1&n&&e._UZ(0,"cf-hint",52),2&n&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function an(n,r){1&n&&e._UZ(0,"cf-hint",53),2&n&&e.Q6J("hint","Ng\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}const ae=function(n){return[n]},se=function(){return{"text-express-md":!0}};function sn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",28),e.ynx(2),e.TgZ(3,"cf-select",29),e.NdJ("selectedChange",function(o){e.CHM(t);const s=e.MAs(13),a=e.oxw();return a.startPointChange(o),e.KtG(a.nextPosition(s))}),e._UZ(4,"cf-icon",30),e.TgZ(5,"label",31),e._uU(6," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),e.qZA(),e._UZ(7,"input",32,33),e.YNc(9,on,1,1,"cf-hint",34),e.qZA(),e.TgZ(10,"button",35),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.swapPoint(o.formInstant().controls.startPoint,o.formInstant().controls.endPoint))}),e._UZ(11,"cf-icon",36),e.qZA(),e.TgZ(12,"cf-select",37,38),e.NdJ("selectedChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.endPointChange(o))}),e._UZ(14,"cf-icon",30),e.TgZ(15,"label",39),e._uU(16," \u0110i\u1ec3m \u0111\u1ebfn "),e.qZA(),e._UZ(17,"input",40,33),e.YNc(19,rn,1,1,"cf-hint",34),e.qZA(),e.BQk(),e.qZA(),e.TgZ(20,"div",41)(21,"cf-field-group",42),e._UZ(22,"cf-icon",43),e.TgZ(23,"label",44),e._uU(24," Ng\xe0y kh\u1edfi h\xe0nh "),e.qZA(),e.TgZ(25,"input",45,46),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(26);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(26);return e.KtG(o.close())}),e.qZA(),e.YNc(27,an,1,1,"cf-hint",47),e.qZA(),e.TgZ(28,"div",48)(29,"div",49),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.openPassengerNumber(o))}),e.TgZ(30,"cf-number-of-passenger",50,51),e.NdJ("numberOfPassengerChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.numberOfPassengerChange(o))}),e.qZA()()()(),e.BQk()}if(2&n){const t=e.oxw(),i=e.MAs(61);e.xp6(3),e.Q6J("maxHeight",230)("typeInput","FIELD")("status",t.formInstant().controls.startPoint.invalid&&(t.formInstant().controls.startPoint.dirty||t.formInstant().controls.startPoint.touched)?"error":"default")("data",t.data)("optionTmp",i)("excludes",t.excludesStartPoint||e.VKq(30,ae,t.formInstant().controls.endPoint.value))("formControl",t.formInstant().controls.startPoint),e.xp6(2),e.Q6J("ngClass",e.DdM(32,se)),e.xp6(4),e.Q6J("ngIf",(null==t.formInstant().controls.startPoint.errors?null:t.formInstant().controls.startPoint.errors.required)&&(t.formInstant().controls.startPoint.dirty||t.formInstant().controls.startPoint.touched)),e.xp6(3),e.Q6J("maxHeight",230)("typeInput","FIELD")("status",t.formInstant().controls.endPoint.invalid&&(t.formInstant().controls.endPoint.dirty||t.formInstant().controls.endPoint.touched)?"error":"default")("data",t.data)("excludes",t.excludesEndPoint||e.VKq(33,ae,t.formInstant().controls.startPoint.value))("optionTmp",i)("formControl",t.formInstant().controls.endPoint),e.xp6(3),e.Q6J("ngClass",e.DdM(35,se)),e.xp6(4),e.Q6J("ngIf",(null==t.formInstant().controls.endPoint.errors?null:t.formInstant().controls.endPoint.errors.required)&&(t.formInstant().controls.endPoint.dirty||t.formInstant().controls.endPoint.touched)),e.xp6(2),e.Q6J("valid",t.formInstant().controls.departDate.valid)("status",t.formInstant().controls.departDate.invalid&&(t.formInstant().controls.departDate.dirty||t.formInstant().controls.departDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",t.minDate)("maxDate",t.maxDate)("formControl",t.formInstant().controls.departDate),e.xp6(2),e.Q6J("ngIf",(null==t.formInstant().controls.departDate.errors?null:t.formInstant().controls.departDate.errors.required)&&(t.formInstant().controls.departDate.dirty||t.formInstant().controls.departDate.touched)),e.xp6(3),e.Q6J("adultNumber",t.numberOfPassenger.adult)("childNumber",t.numberOfPassenger.child)("infantNumber",t.numberOfPassenger.infant)("showIcon",!1)}}function cn(n,r){1&n&&e._UZ(0,"cf-hint",52),2&n&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m kh\u1edfi h\xe0nh")}function ln(n,r){1&n&&e._UZ(0,"cf-hint",52),2&n&&e.Q6J("hint","Ch\u01b0a ch\u1ecdn \u0111i\u1ec3m \u0111\u1ebfn")}function un(n,r){1&n&&e._UZ(0,"cf-hint",53),2&n&&e.Q6J("hint","Ng\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function _n(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",67)(1,"div",68)(2,"div",69),e.NdJ("scrolled",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.scrollDown())}),e.TgZ(3,"cf-datepicker-inline",70),e.NdJ("dateSelect",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.dateSelectMobile(o))}),e.qZA()()(),e.TgZ(4,"div",71)(5,"button",72),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onMobileDatePickerOK())}),e._uU(6,"X\xe1c nh\u1eadn"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),e.xp6(1),e.Q6J("minDate",t.minDate)("displayMonths",t.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",t.formInstant().controls.departDate)("fromDate",t.formInstant().controls.departDate.value)("displayMonthsOffset",0)}}function dn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",54)(2,"div",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openAirportBottomSheet(o.formInstant().controls.startPoint,o.formInstant().controls.endPoint))}),e.TgZ(3,"cf-select",56),e._UZ(4,"cf-icon",30),e.TgZ(5,"label",31),e._uU(6," \u0110i\u1ec3m kh\u1edfi h\xe0nh "),e.qZA(),e._UZ(7,"input",32,33),e.YNc(9,cn,1,1,"cf-hint",34),e.qZA()(),e.TgZ(10,"button",57),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.swapPoint(o.formInstant().controls.startPoint,o.formInstant().controls.endPoint))}),e._UZ(11,"cf-icon",36),e.qZA(),e.TgZ(12,"div",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openAirportBottomSheet(o.formInstant().controls.endPoint,o.formInstant().controls.startPoint))}),e.TgZ(13,"cf-select",58),e._UZ(14,"cf-icon",30),e.TgZ(15,"label",39),e._uU(16," \u0110i\u1ec3m \u0111\u1ebfn "),e.qZA(),e._UZ(17,"input",40,33),e.YNc(19,ln,1,1,"cf-hint",34),e.qZA()()(),e.TgZ(20,"div",59)(21,"cf-field-group",60),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(32),s=e.oxw();return e.KtG(s.departDatePickerClick(o))}),e._UZ(22,"cf-icon",43),e.TgZ(23,"label",61),e._uU(24," Ng\xe0y kh\u1edfi h\xe0nh "),e.qZA(),e.TgZ(25,"input",62,46),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(26);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(26);return e.KtG(o.close())})("mousedown",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.roundTripFocus(o))}),e.qZA(),e.YNc(27,un,1,1,"cf-hint",47),e.qZA(),e.TgZ(28,"div",63),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.openPassengerNumber(o))}),e.TgZ(29,"cf-number-of-passenger",64,65),e.NdJ("numberOfPassengerChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.numberOfPassengerChange(o))}),e.qZA()(),e.YNc(31,_n,7,14,"ng-template",null,66,e.W1O),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(),i=e.MAs(61);e.xp6(3),e.Q6J("typeInput","FIELD")("status",t.formInstant().controls.startPoint.invalid&&(t.formInstant().controls.startPoint.dirty||t.formInstant().controls.startPoint.touched)?"error":"default")("customSearch",t.positionSearchCustom)("excludes",t.excludesStartPoint||e.VKq(30,ae,t.formInstant().controls.endPoint.value))("formControl",t.formInstant().controls.startPoint)("data",t.data)("optionTmp",i),e.xp6(2),e.Q6J("ngClass",e.DdM(32,se)),e.xp6(4),e.Q6J("ngIf",(null==t.formInstant().controls.startPoint.errors?null:t.formInstant().controls.startPoint.errors.required)&&(t.formInstant().controls.startPoint.dirty||t.formInstant().controls.startPoint.touched)),e.xp6(4),e.Q6J("typeInput","FIELD")("status",t.formInstant().controls.endPoint.invalid&&(t.formInstant().controls.endPoint.dirty||t.formInstant().controls.endPoint.touched)?"error":"default")("customSearch",t.positionSearchCustom)("excludes",t.excludesEndPoint||e.VKq(33,ae,t.formInstant().controls.startPoint.value))("formControl",t.formInstant().controls.endPoint)("data",t.data)("optionTmp",i),e.xp6(2),e.Q6J("ngClass",e.DdM(35,se)),e.xp6(4),e.Q6J("ngIf",(null==t.formInstant().controls.endPoint.errors?null:t.formInstant().controls.endPoint.errors.required)&&(t.formInstant().controls.endPoint.dirty||t.formInstant().controls.endPoint.touched)),e.xp6(2),e.Q6J("valid",t.formInstant().controls.departDate.valid)("status",t.formInstant().controls.departDate.invalid&&(t.formInstant().controls.departDate.dirty||t.formInstant().controls.departDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",t.minDate)("maxDate",t.maxDate)("formControl",t.formInstant().controls.departDate),e.xp6(2),e.Q6J("ngIf",(null==t.formInstant().controls.departDate.errors?null:t.formInstant().controls.departDate.errors.required)&&(t.formInstant().controls.departDate.dirty||t.formInstant().controls.departDate.touched)),e.xp6(2),e.Q6J("adultNumber",t.numberOfPassenger.adult)("childNumber",t.numberOfPassenger.child)("infantNumber",t.numberOfPassenger.infant)("showIcon",!1)}}function pn(n,r){1&n&&(e.TgZ(0,"div",81),e._uU(1," Ch\u1ecdn h\xe3ng bay mong mu\u1ed1n"),e.qZA())}function gn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",83),e._uU(1),e.TgZ(2,"cf-icon",84),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.onRemoveAirlineOption(o,s))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function mn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",83),e._uU(1),e.TgZ(2,"cf-icon",84),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(3).$implicit,c=e.oxw(2);return e.KtG(c.onRemoveFareTypeOption(o,s,a))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",i.name+"-"+t.name,"")}}function fn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",86),e._uU(1),e.TgZ(2,"cf-icon",84),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(5).$implicit,c=e.oxw(2);return e.KtG(c.onRemoveFareOption(o,s,a))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit,o=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",o.name+"-"+i.name+"-"+t.name,"")}}function hn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,fn,3,1,"div",85),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function vn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,hn,2,1,"ng-container",78),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function xn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,mn,3,1,"div",82),e.YNc(2,vn,2,1,"ng-container",12),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive&&t.totalFare===t.totalSelectedFare&&0!==t.totalFare),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function Tn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,xn,3,2,"ng-container",78),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function En(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Tn,2,1,"ng-container",78),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function bn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,gn,3,1,"div",82),e.YNc(2,En,2,1,"ng-container",12),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive&&t.totalFare===t.totalSelectedFare&&0!==t.totalFare),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function yn(n,r){1&n&&(e.TgZ(0,"div",87)(1,"div"),e._uU(2,"Vui l\xf2ng ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n."),e.qZA()())}function Cn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74),e._uU(2,"S\u0103n v\xe9 thu\u1ed9c (c\xe1c) h\xe3ng bay d\u01b0\u1edbi \u0111\xe2y"),e.qZA(),e.TgZ(3,"div",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openFareOptions())}),e.TgZ(4,"div",76),e.YNc(5,pn,2,0,"div",77),e.YNc(6,bn,3,2,"ng-container",78),e.qZA(),e._UZ(7,"cf-icon",79),e.qZA(),e.YNc(8,yn,3,0,"div",80),e.qZA()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!(t.formInstant().controls.fareOptions.value&&t.formInstant().controls.fareOptions.value.length>0)),e.xp6(1),e.Q6J("ngForOf",t.dataServiceInstant().selectedFaresTree),e.xp6(2),e.Q6J("ngIf",t.validFareOptionState())}}function Zn(n,r){1&n&&(e.TgZ(0,"label",88),e._uU(1," Gi\u1eef ch\u1ed7 n\u1ebfu gi\xe1 v\xe9 (c\u1ee7a 1 ng\u01b0\u1eddi l\u1edbn \u0111\u1ea1i di\u1ec7n) th\u1ea5p h\u01a1n ho\u1eb7c b\u1eb1ng m\u1ee9c d\u01b0\u1edbi \u0111\xe2y "),e.qZA()),2&n&&e.Q6J("CfRequired",!1)}function An(n,r){1&n&&(e.TgZ(0,"div",87)(1,"div"),e._uU(2,"Vui l\xf2ng nh\u1eadp gi\xe1 \xedt nh\u1ea5t 1 h\xe3ng bay."),e.qZA()())}function Dn(n,r){1&n&&(e.TgZ(0,"div",87)(1,"div"),e._uU(2,"Gi\u1edbi h\u1ea1n gi\xe1 v\xe9 kh\xf4ng h\u1ee3p l\u1ec7."),e.qZA()())}function qn(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",89)(2,"div",90)(3,"div",91),e._UZ(4,"img",92),e.TgZ(5,"span",93),e._uU(6,"VNA"),e.qZA()(),e._UZ(7,"cf-input-number",94),e.TgZ(8,"span",95),e._uU(9,"\u0111"),e.qZA()(),e.TgZ(10,"div",90)(11,"div",91),e._UZ(12,"img",96),e.TgZ(13,"span",93),e._uU(14,"QH"),e.qZA()(),e._UZ(15,"cf-input-number",94),e.TgZ(16,"span",95),e._uU(17,"\u0111"),e.qZA()(),e.TgZ(18,"div",90)(19,"div",91),e._UZ(20,"img",97),e.TgZ(21,"span",93),e._uU(22,"VJ"),e.qZA()(),e._UZ(23,"cf-input-number",94),e.TgZ(24,"span",95),e._uU(25,"\u0111"),e.qZA()(),e.YNc(26,An,3,0,"div",80),e.YNc(27,Dn,3,0,"div",80),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(7),e.Q6J("placeholder","0")("negative",!1)("formControl",t.formInstant().controls.targetVNPrice)("min",0),e.xp6(8),e.Q6J("placeholder","0")("negative",!1)("formControl",t.formInstant().controls.targetQHPrice)("min",0),e.xp6(8),e.Q6J("placeholder","0")("negative",!1)("formControl",t.formInstant().controls.targetVJPrice)("min",0),e.xp6(3),e.Q6J("ngIf",t.validPriceState()),e.xp6(1),e.Q6J("ngIf",t.negativePriceState())}}const kn=function(n,r){return{"!bg-primary-2-4 !border-0":n,"opacity-[0.4]":r}},In=function(n){return{"!text-neutral-white opacity-[0.6]":n}},Fn=function(n){return{"!text-neutral-white":n}};function Sn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",101),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.oxw(3);return e.KtG(a.onSelectedTime(s))}),e.TgZ(2,"div",102),e._uU(3),e.qZA(),e.TgZ(4,"div",103),e._uU(5),e.qZA()(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngClass",e.WLB(5,kn,t.isActive,t.disable)),e.xp6(1),e.Q6J("ngClass",e.VKq(8,In,t.isActive)),e.xp6(1),e.hij(" ",t.name,""),e.xp6(1),e.Q6J("ngClass",e.VKq(10,Fn,t.isActive)),e.xp6(1),e.hij(" ",t.start+" - "+t.end!="00:00 - 23:59"?t.start+" - "+t.end:"Gi\u1edd c\u1ee5 th\u1ec3"," ")}}function Nn(n,r){if(1&n&&(e.TgZ(0,"div",100),e.YNc(1,Sn,6,12,"ng-container",78),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.dataServiceInstant().optionDepartureTime)}}function Bn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",104)(1,"div",105),e._uU(2,"T\xf9y ch\u1ec9nh gi\u1edd kh\u1edfi h\xe0nh"),e.qZA(),e.TgZ(3,"div",106)(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA()(),e.TgZ(8,"cf-slider",107),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.dataServiceInstant().customRangeItem.rangeValues=o)})("ngModelChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.timeChange(o,s.dataServiceInstant().customRangeItem))})("onSlideEnd",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.end())}),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(5),e.Oqu(t.dataServiceInstant().customRangeItem.startTimeStr),e.xp6(2),e.Oqu(t.dataServiceInstant().customRangeItem.endTimeStr),e.xp6(1),e.Q6J("ngModel",t.dataServiceInstant().customRangeItem.rangeValues)("min",0)("max",1439)("step",1)("range",!0)}}function wn(n,r){1&n&&(e.TgZ(0,"div",87)(1,"div"),e._uU(2,"Vui l\xf2ng ch\u1ecdn th\u1eddi gian bay."),e.qZA()())}function Un(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Nn,2,1,"div",98),e.YNc(2,Bn,9,7,"div",99),e.YNc(3,wn,3,0,"div",80),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dataServiceInstant().showTimeStartOption),e.xp6(1),e.Q6J("ngIf",t.dataServiceInstant().optionDepartureTime[4].isActive&&t.dataServiceInstant().showTimeStartOption),e.xp6(1),e.Q6J("ngIf",t.validTimeRangeState())}}function On(n,r){if(1&n&&(e.TgZ(0,"span",111),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.start+" - "+t.end," ")}}function Jn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,On,2,1,"span",110),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function Pn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",109),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.openTimeRangeOptions())}),e.YNc(1,Jn,2,1,"ng-container",78),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.dataServiceInstant().optionDepartureTime)}}function Hn(n,r){1&n&&(e.TgZ(0,"div",87)(1,"div"),e._uU(2,"Vui l\xf2ng ch\u1ecdn th\u1eddi gian bay."),e.qZA()())}function Rn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Pn,2,1,"div",108),e.YNc(2,Hn,3,0,"div",80),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.dataServiceInstant().showTimeStartOption),e.xp6(1),e.Q6J("ngIf",t.validTimeRangeState())}}function Mn(n,r){if(1&n&&(e.TgZ(0,"div",4),e._UZ(1,"div",112),e.ALo(2,"highlighter"),e._UZ(3,"div",113),e.ALo(4,"highlighter"),e.qZA()),2&n){const t=r.item,i=r.search;e.xp6(1),e.Q6J("innerHtml",e.xi3(2,2,t.CityName+", "+t.Title,i.text),e.oJD),e.xp6(2),e.Q6J("innerHtml",e.xi3(4,5,t.Code+" - "+t.AirportName,i.text),e.oJD)}}function Qn(n,r){1&n&&e._UZ(0,"cf-spinner")}let he=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E,k){this.route=t,this.calendar=i,this._cfRegister=o,this.fb=s,this._modal=a,this._locationDataService=c,this._permissionService=l,this._requestDataService=d,this._bookingHunterService=u,this._flightDataService=m,this._cd=v,this._mobileDetectService=Z,this._bottomSheetService=E,this._eventLogService=k,this.requestJourneyFormChanges=new e.vpe,this.isLoading=!1,this.data=[],this.isMobile=!1,this.numOfMonth=4,this.positionSearchCustom=(S,A)=>{const Y=this.removeAccents(S.Code.toLowerCase()),ye=this.removeAccents(S.Title.toLowerCase()),Ce=this.removeAccents(S.CityName.toLowerCase()),le=this.removeAccents(S.AirportName.toLowerCase()),ue=this.removeAccents(A.toLowerCase());return Y.includes(ue)||ye.includes(ue)||Ce.includes(ue)||le.includes(ue)},o.registerIcons([_.xgX,_.NYs,_.Hge,_.esH,_.cnj,_._tC,_.qDv,_.okA,_.o1t,_.n78,_.gll,_.PcQ,_.Ffn]),this.data=c.getAllOption(),this.minDate=i.getToday()}ngOnInit(){this.checkMobile(),this.numberOfPassenger=this._requestDataService.numberOfPassenger,this._requestDataService.reloadPassengerForm()}formInstant(){return this._requestDataService.journeyFormGroup}dataServiceInstant(){return this._requestDataService}swapPoint(t,i){if(""!=t.value&&""!=i.value){const o=t.value;t.setValue(null),t.setValue(i.value),i.setValue(null),i.setValue(o)}}onShowFareOptionChange(t){t.stopPropagation(),t.preventDefault();const i=this._requestDataService.journeyFormGroup.value;if(this._requestDataService.showPriceOption&&!this._requestDataService.showFareOption&&(i.targetVNPrice||i.targetVJPrice||i.targetQHPrice))if(this.isMobile){const s=this._bottomSheetService.open(I.Q4,{headerTitle:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>S\u0103n theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});s.containerInstance._rightButtonClick.subscribe(()=>{s.dismiss()}),s.afterDismissed().subscribe(a=>{a&&(this._requestDataService.showPriceOption=this._requestDataService.showFareOption,this._requestDataService.showFareOption=!this._requestDataService.showFareOption,this._requestDataService.journeyFormGroup.controls.enablePriceOption.setValue(this._requestDataService.showPriceOption),this._requestDataService.journeyFormGroup.controls.enableFareOption.setValue(this._requestDataService.showFareOption),this._cd.detectChanges())})}else this._modal.open(I.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>S\u0103n theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:a=>{a.data&&(this._requestDataService.showPriceOption=this._requestDataService.showFareOption,this._requestDataService.showFareOption=!this._requestDataService.showFareOption,this._requestDataService.journeyFormGroup.controls.enablePriceOption.setValue(this._requestDataService.showPriceOption),this._requestDataService.journeyFormGroup.controls.enableFareOption.setValue(this._requestDataService.showFareOption),this._cd.detectChanges())}});else this._requestDataService.showPriceOption=this._requestDataService.showFareOption,this._requestDataService.showFareOption=!this._requestDataService.showFareOption,this._requestDataService.journeyFormGroup.controls.enablePriceOption.setValue(this._requestDataService.showPriceOption),this._requestDataService.journeyFormGroup.controls.enableFareOption.setValue(this._requestDataService.showFareOption),this._cd.detectChanges()}onPriceOptionChange(t){if(t.stopPropagation(),t.preventDefault(),!this._requestDataService.showPriceOption&&this._requestDataService.showFareOption&&this._requestDataService.journeyFormGroup.value.fareOptions&&this._requestDataService.journeyFormGroup.value.fareOptions.length)if(this.isMobile){const o=this._bottomSheetService.open(I.Q4,{headerTitle:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>S\u0103n theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c s\u0103n theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});o.containerInstance._rightButtonClick.subscribe(()=>{o.dismiss()}),o.afterDismissed().subscribe(s=>{s&&(this._requestDataService.showFareOption=this._requestDataService.showPriceOption,this._requestDataService.showPriceOption=!this._requestDataService.showPriceOption,this._requestDataService.journeyFormGroup.controls.enablePriceOption.setValue(this._requestDataService.showPriceOption),this._requestDataService.journeyFormGroup.controls.enableFareOption.setValue(this._requestDataService.showFareOption),this._cd.detectChanges())})}else this._modal.open(I.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>S\u0103n theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c s\u0103n theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:s=>{s.data&&(this._requestDataService.showFareOption=this._requestDataService.showPriceOption,this._requestDataService.showPriceOption=!this._requestDataService.showPriceOption,this._requestDataService.journeyFormGroup.controls.enablePriceOption.setValue(this._requestDataService.showPriceOption),this._requestDataService.journeyFormGroup.controls.enableFareOption.setValue(this._requestDataService.showFareOption),this._cd.detectChanges())}});else this._requestDataService.showFareOption=this._requestDataService.showPriceOption,this._requestDataService.showPriceOption=!this._requestDataService.showPriceOption,this._requestDataService.journeyFormGroup.controls.enablePriceOption.setValue(this._requestDataService.showPriceOption),this._requestDataService.journeyFormGroup.controls.enableFareOption.setValue(this._requestDataService.showFareOption),this._cd.detectChanges()}onTimeOptionChange(t){this._requestDataService.showTimeStartOption=t,this._requestDataService.journeyFormGroup.controls.enableTimeStart.setValue(t),t&&this.isMobile&&this.openTimeRangeOptions()}openTimeRangeOptions(){this._bottomSheetService.open(Mt,{headerTitle:"Gi\u1edd kh\u1edfi h\xe0nh",data:{timeRanges:this._requestDataService.optionDepartureTime}}).afterDismissed().subscribe(i=>{i&&(this._requestDataService.optionDepartureTime=i,this.updateStartTimeRangeForm()),this._requestDataService.optionDepartureTime.some(s=>s.isActive)||(this._requestDataService.showTimeStartOption=!1,this._requestDataService.journeyFormGroup.controls.enableTimeStart.setValue(!1))})}onSelectedTime(t){t.disable||(t.isActive=!t.isActive),"custom"===t.code&&!0===t.isActive?this._requestDataService.optionDepartureTime.forEach(i=>{"custom"!==i.code&&(i.isActive=!1)}):"custom"!==t.code&&!0===t.isActive&&(this._requestDataService.optionDepartureTime[4].isActive=!1),this.updateStartTimeRangeForm()}updateStartTimeRangeForm(){this._requestDataService.journeyFormGroup.controls.startTimeRange.setValue(this._requestDataService.optionDepartureTime.filter(t=>t.isActive))}openFareOptions(){this.isLoading=!0,this.loadFareOptions().subscribe({next:t=>{this.isLoading=!1,this.isMobile?this._bottomSheetService.open(en,{headerTitle:"H\xe3ng bay/H\u1ea1ng gh\u1ebf",containerFullHeigh:!0,data:{fareOptions:t}}).afterDismissed().subscribe({next:o=>{o&&(this._requestDataService.selectedFaresTree=o,this._requestDataService.selectedFares=o.map(s=>s.childItems.map(a=>a.childItems.map(c=>c.childItems.filter(l=>l.isActive)).reduce((c,l)=>[...c,...l],[])).reduce((a,c)=>[...a,...c],[])).reduce((s,a)=>[...s,...a],[]),this._requestDataService.journeyFormGroup.controls.fareOptions.setValue(this._requestDataService.selectedFares))}}):this._modal.open(me,{data:t}).afterClosed$.subscribe({next:o=>{o.data&&(this._requestDataService.selectedFaresTree=o.data,this._requestDataService.selectedFares=o.data.map(s=>s.childItems.map(a=>a.childItems.map(c=>c.childItems.filter(l=>l.isActive)).reduce((c,l)=>[...c,...l],[])).reduce((a,c)=>[...a,...c],[])).reduce((s,a)=>[...s,...a],[]),this._requestDataService.journeyFormGroup.controls.fareOptions.setValue(this._requestDataService.selectedFares))}})},error:t=>{this.isLoading=!1,console.log(t)}})}loadFareOptions(){var t;return(null===(t=this._requestDataService.selectedFaresTree)||void 0===t?void 0:t.length)>0?(0,Ve.of)(this._requestDataService.selectedFaresTree):this._bookingHunterService.getLstAirlineFareoptions().pipe((0,ge.U)(i=>this.formatAirlineFareOptions(i.data)))}formatAirlineFareOptions(t){return t.map(i=>{var o;return{name:this._flightDataService.getAirlineNameByCode(null===(o=i.airline)||void 0===o?void 0:o.toUpperCase()),code:i.airline,icon:this._flightDataService.getAirlineIconByCode(i.airline),isActive:!1,isDisable:!1,totalFare:this.countAirlineTotalFare(i),childItems:i.cabin.map(s=>({code:s.code,name:s.name,isActive:!1,isDisable:!1,childItems:s.fareType.map(a=>{var c;return{code:a.code,name:a.description,isActive:!1,isDisable:!1,totalFare:(null===(c=a.fareClass)||void 0===c?void 0:c.length)||0,childItems:a.fareClass.map(l=>({code:l.code,name:l.name,isActive:!1,childItems:[],isDisable:!1}))}})}))}})}countAirlineTotalFare(t){var i;let o=0;return null===(i=t.cabin)||void 0===i||i.forEach(s=>{var a;null===(a=s.fareType)||void 0===a||a.forEach(c=>{o+=c.fareClass.length||0})}),o}startPointChange(t){this.excludesEndPoint=[t.Code]}endPointChange(t){this.excludesStartPoint=[t.Code]}nextPosition(t){setTimeout(()=>{t.selectFocus()})}numberOfPassengerChange(t){this._requestDataService.numberOfPassenger=this.numberOfPassenger={adult:t.adult,child:t.child,infant:t.infant}}timeChange(t,i){i.startTimeStr=this._requestDataService.minuteToString(t[0]),i.endTimeStr=this._requestDataService.minuteToString(t[1])}end(){this._requestDataService.optionDepartureTime[4].start=this._requestDataService.customRangeItem.startTimeStr,this._requestDataService.optionDepartureTime[4].end=this._requestDataService.customRangeItem.endTimeStr,this._requestDataService.optionDepartureTime[4].startTime=this._requestDataService.customRangeItem.rangeValues[0],this._requestDataService.optionDepartureTime[4].endTime=this._requestDataService.customRangeItem.rangeValues[1]}openPassengerNumber(t){var i,o;this.isMobile?null===(i=this.passengerNumberMB)||void 0===i||i.openBottomSheet():null===(o=this.passengerNumber)||void 0===o||o.click(t)}validPriceState(){const t=Object.values(this.formInstant().controls||{});return this.formInstant().hasError("invalidPrice")&&(null==t?void 0:t.map(i=>i.touched).reduce((i,o)=>i&&o,!0))}validTimeRangeState(){const t=Object.values(this.formInstant().controls||{});return this.formInstant().hasError("invalidTimeRanges")&&(null==t?void 0:t.map(i=>i.touched).reduce((i,o)=>i&&o,!0))}negativePriceState(){const t=Object.values(this.formInstant().controls||{});return this.formInstant().hasError("negativePrice")&&(null==t?void 0:t.map(i=>i.touched).reduce((i,o)=>i&&o,!0))}validFareOptionState(){const t=Object.values(this.formInstant().controls||{});return this.formInstant().hasError("invalidFares")&&(null==t?void 0:t.map(i=>i.touched).reduce((i,o)=>i&&o,!0))}onRemoveFareOption(t,i,o){t.preventDefault(),t.stopPropagation(),i.isActive=!1,this.standardizeAirlineOptionSelected(o)}onRemoveFareTypeOption(t,i,o){t.preventDefault(),t.stopPropagation(),i.isActive=!1,i.childItems.forEach(s=>{s.isActive=!1}),this.standardizeAirlineOptionSelected(o)}onRemoveAirlineOption(t,i){t.preventDefault(),t.stopPropagation(),i.isActive=!1,i.childItems.forEach(o=>{o.childItems.forEach(s=>{s.childItems.forEach(a=>a.isActive=!1)})}),this.standardizeAirlineOptionSelected(i)}inputNumberChange(t){0==isNaN(t.value)&&t.setValue(0)}standardizeAirlineOptionSelected(t){let i=!1;t.childItems.forEach(o=>{o.childItems.forEach(s=>{s.isActive=s.childItems.map(a=>a.isActive).reduce((a,c)=>a||c,!1),s.totalSelectedFare=s.childItems.filter(a=>a.isActive).length,s.isActive&&(i=!0)})}),t.isActive=i,t.totalSelectedFare=t.childItems.reduce((o,s)=>o+s.childItems.map(a=>a.childItems.filter(c=>c.isActive).length).reduce((a,c)=>a+c),0),this.bindingSelectedFares(),this._cd.detectChanges()}bindingSelectedFares(){this._requestDataService.selectedFares=this._requestDataService.selectedFaresTree.map(t=>t.childItems.map(i=>i.childItems.map(o=>o.childItems.filter(s=>s.isActive)).reduce((o,s)=>[...o,...s],[])).reduce((i,o)=>[...i,...o],[])).reduce((t,i)=>[...t,...i],[]),this._requestDataService.journeyFormGroup.controls.fareOptions.setValue(this._requestDataService.selectedFares)}checkMobile(){this._mobileDetectService.mobileSubject.subscribe(t=>{this.isMobile=t})}openAirportBottomSheet(t,i){const o=this._bottomSheetService.open(De.hm,{headerTitle:"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,restoreFocus:!1,data:{airportOptions:this.data,currentSelected:this._locationDataService.getCityNameByCode(t.value),excludes:[i.value]}});o.containerInstance._leftButtonClick.subscribe(s=>{o.dismiss()}),o.afterDismissed().subscribe(s=>{s&&t.setValue(s.Code)})}removeAccents(t){return t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\u0111/g,"d").replace(/\u0110/g,"D")}scrollDown(){this.numOfMonth=this.numOfMonth+4}dateSelectMobile(t){this._requestDataService.journeyFormGroup.controls.departDate.setValue(t)}onMobileDatePickerOK(){this._bottomSheetService.dismiss()}departDatePickerClick(t){if(this.isMobile){const i=this._bottomSheetService.open(t,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0});i.containerInstance._leftButtonClick.subscribe(o=>i.dismiss())}}resetDate(t){t.setValue(null)}roundTripFocus(t){if(this.isMobile)return t.preventDefault(),!1}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(p.jH),e.Y36(_.KNP),e.Y36(x.qu),e.Y36(P.oE),e.Y36(ee._),e.Y36(U.$A),e.Y36(T.FH),e.Y36(T.yL),e.Y36(te.G),e.Y36(e.sBO),e.Y36(y.L),e.Y36(b.a2),e.Y36($.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-booking-journey"]],viewQuery:function(t,i){if(1&t&&(e.Gf(tn,5),e.Gf(nn,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.passengerNumber=o.first),e.iGM(o=e.CRH())&&(i.passengerNumberMB=o.first)}},outputs:{requestJourneyFormChanges:"requestJourneyFormChanges"},standalone:!0,features:[e.jDz],decls:63,vars:11,consts:[[1,"h-full","bg-white","rounded","shadow-cf-md","gap-y-3","p-6","md:px-3"],[1,"flex","flex-col","justify-center"],[1,"flex","justify-center","items-center","md:items-center"],[1,"flex","items-center","w-[67%]","md:w-[90%]"],[1,"flex","flex-col"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","text-neutral-white","!bg-secondary-7-4","border"],[1,"absolute","w-[136px]","top-[130%]","text-[#2C2C2C]","text-express-md","md:max-w-[80px]","text-center"],[1,"flex-grow","h-[1px]","bg-neutral-gray-3"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-neutral-gray-3","text-neutral-gray-3","!bg-white"],[1,"absolute","w-[136px]","top-[130%]","text-neutral-gray-3","text-body-md","md:max-w-[80px]","text-center"],[1,"absolute","w-[100px]","top-[130%]","text-neutral-gray-3","text-body-md","md:max-w-[80px]","text-center"],[1,"text-heading-md","py-4","mt-12"],[4,"ngIf"],[1,"w-full","h-[1px]","bg-neutral-gray-1","mt-4","mb-4"],[1,"flex","justify-between","items-center"],[1,"flex","justify-between","items-center","gap-x-[4px]"],["icon","plane","size","small"],[1,"text-heading-sm"],[1,"cursor-pointer",3,"click"],[1,"pointer-events-none",3,"checked"],["class","",4,"ngIf"],[1,"w-full","h-[1px]","bg-neutral-gray-1","mb-2","mt-4","mb-4"],[1,"mb-3"],["icon","money","size","small"],["cfLabel","","class","text-body-md-short text-black ml-4",3,"CfRequired",4,"ngIf"],["icon","clock","size","small"],[3,"checked","checkedChange"],["optionTemplate",""],[1,"flex","items-start","gap-x-2","md:flex-wrap","md:gap-x-0","md:gap-y-4","pb-2"],["placeholder","T\u1eeb?","textField","AirportDisplay","valueField","Code",1,"grow-[293]","md:flex-grow-0","w-full","max-w-full",3,"maxHeight","typeInput","status","data","optionTmp","excludes","formControl","selectedChange"],["cf-head-icon","","icon","plane","size","medium",1,"text-neutral-gray-4"],["cf-label","","for","startPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","startPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],["cfInputElement",""],["cf-hint","",3,"hint",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","md:top-[45px]","md:!bg-neutral-white","mt-2","md:m-0",3,"click"],["icon","switch","size","small",1,"text-primary-1-4","md:rotate-90"],["textField","AirportDisplay","valueField","Code","valueField","Code","placeholder","\u0110\u1ebfn?",1,"grow-[293]","md:flex-grow-0","w-full","max-w-full",3,"maxHeight","typeInput","status","data","excludes","optionTmp","formControl","selectedChange"],["endPoint",""],["cf-label","","for","endPoint",1,"text-body-sm","text-neutral-gray-4","cursor-text",3,"ngClass"],["type","text","id","endPoint","type","text","size","medium","autocomplete","off","cf-field","",1,"!p-0","placeholder-neutral-gray-6","placeholder:text-express-md"],[1,"flex","items-center","gap-x-4","md:flex-wrap","md:gap-x-0","md:gap-y-4","justify-between"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-full","w-[calc(50%-12px)]",3,"valid","status"],["cfHeadIcon","","icon","calendar","size","medium",1,"text-neutral-gray-4"],["cfLabel","","for","departDate",1,"text-express-md","text-neutral-gray-4","cursor-text"],["type","text","size","medium","cf-input","","autocomplete","off","id","departDate","cfDatepicker","",1,"!p-0",3,"secondaryCalendar","displayMonths","minDate","maxDate","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["cfHint","",3,"hint",4,"ngIf"],[1,"grow-[293]","!max-w-none","md:flex-grow-0","md:w-[calc(50%-12px)]","w-[calc(50%-12px)]","justify-end","items-end"],[1,"bg-neutral-gray-0.5","p-2","rounded-lg","flex","justify-between","cursor-pointer",3,"click"],[3,"adultNumber","childNumber","infantNumber","showIcon","numberOfPassengerChange"],["passengerNumber",""],["cf-hint","",3,"hint"],["cfHint","",3,"hint"],[1,"flex","items-start","gap-x-2","md:flex-col","md:gap-y-4","pb-4","relative"],[1,"grow-[293]","md:flex-grow-0","md:w-full","hidden","md:block",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","T\u1eeb?",1,"pointer-events-none","!max-w-full","w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],["cf-button","","size","medium","type","secondary",1,"rounded-full","md:absolute","md:right-[10px]","md:bottom-[38%]","md:!bg-neutral-white",3,"click"],["textField","AirportDisplay","valueField","Code","placeholder","\u0110\u1ebfn?",1,"pointer-events-none","!max-w-full","w-full",3,"typeInput","status","customSearch","excludes","formControl","data","optionTmp"],[1,"flex","items-center","gap-x-4","md:gap-y-4","justify-between"],[1,"grow-[293]","md:flex-grow-0","w-full",3,"valid","status","click"],["cfLabel","",1,"text-express-md","text-neutral-gray-4","cursor-text"],["type","text","size","medium","cf-input","","cfDatepicker","","autocomplete","off",1,"!p-0",3,"secondaryCalendar","displayMonths","minDate","maxDate","formControl","input","dateSelect","mousedown"],[1,"bg-neutral-gray-0.5","p-2","rounded-lg","flex","justify-between","cursor-pointer","w-full",3,"click"],[1,"pointer-events-none",3,"adultNumber","childNumber","infantNumber","showIcon","numberOfPassengerChange"],["passengerNumberMB",""],["departDatepickerBottomSheet",""],[1,"flex","w-full","flex-col","justify-between"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","fromDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white"],["cf-button","",1,"justify-center","w-full",3,"click"],[1,""],[1,"text-espressive-sm"],[1,"flex","border","border-[#CCCCCC]","justify-between","items-center","rounded","mt-2","mb-2","cursor-pointer",3,"click"],["id","faresgroup",1,"flex","flex-wrap","p-2","gap-2","max-h-[7em]","overflow-y-auto"],["class","text-neutral-gray-4 text-body-md-short",4,"ngIf"],[4,"ngFor","ngForOf"],["icon","chevron_down","size","small",1,"p-2","cursor-pointer"],["class","text-body-sm mt-1.5 empty:!m-0 text-secondary-6-5",4,"ngIf"],[1,"text-neutral-gray-4","text-body-md-short"],["class","border border-neutral-gray-1 bg-[#F2F2F2] text-espressive-sm p-1",4,"ngIf"],[1,"border","border-neutral-gray-1","bg-[#F2F2F2]","text-espressive-sm","p-1"],["icon","close","size","small",1,"px-2","float-right","text-[#999999]",3,"click"],["class","border border-neutral-gray-1 bg-[#F2F2F2] text-espressive-sm p-1 flex items-center",4,"ngIf"],[1,"border","border-neutral-gray-1","bg-[#F2F2F2]","text-espressive-sm","p-1","flex","items-center"],[1,"text-body-sm","mt-1.5","empty:!m-0","text-secondary-6-5"],["cfLabel","",1,"text-body-md-short","text-black","ml-4",3,"CfRequired"],[1,"grid","grid-cols-2","gap-x-5","gap-y-3","md:grid-cols-1"],[1,"w-full","h-10","flex","justify-between","border","border-neutral-gray-2","rounded","!col-span-2","items-center"],[1,"w-[120px]","shrink-0","flex","gap-x-2","border-r","border-neutral-gray-2","py-2","px-3"],["src","assets/icons/vn-icon.svg",1,"h-5","w-10","object-contain"],[1,"text-body-md"],["size","medium",1,"pl-4",3,"placeholder","negative","formControl","min"],[1,"text-body-md-short","px-3","py-2"],["src","assets/icons/qh-icon.svg",1,"h-5","w-10","object-contain"],["src","assets/icons/vj-icon.svg",1,"h-5","w-10","object-contain"],["class","flex flex-wrap justify-start items-center md:justify-between md:items-center gap-x-8 gap-y-2",4,"ngIf"],["class","flex flex-col gap-y-2 border border-[#F2F2F2] rounded p-4",4,"ngIf"],[1,"flex","flex-wrap","justify-start","items-center","md:justify-between","md:items-center","gap-x-8","gap-y-2"],[1,"py-2","px-2.5","min-w-[106px]","border","border-[#F2F2F2]","rounded-[0.25rem]","flex","flex-col","justify-center","items-center","gap-y-0.5","cursor-pointer","bg-white","md:border","md:border-neutral-gray-1",3,"ngClass","click"],[1,"text-espressive-sm","text-neutral-gray-4",3,"ngClass"],[1,"text-espressive-md","text-neutral-black",3,"ngClass"],[1,"flex","flex-col","gap-y-2","border","border-[#F2F2F2]","rounded","p-4"],[1,"text-center","items-center","text-espressive-xs","w-full","text-neutral-gray-4"],[1,"flex","justify-between","text-espressive-sm"],[1,"px-2.5",3,"ngModel","min","max","step","range","ngModelChange","onSlideEnd"],["class","flex flex-wrap gap-2 mt-4 cursor-pointer",3,"click",4,"ngIf"],[1,"flex","flex-wrap","gap-2","mt-4","cursor-pointer",3,"click"],["class","bg-neutral-gray-1 text-express-md p-2",4,"ngIf"],[1,"bg-neutral-gray-1","text-express-md","p-2"],[1,"text-body-md-short","text-neutral-gray-6",3,"innerHtml"],[1,"text-body-sm","text-neutral-gray-4",3,"innerHtml"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span"),e._uU(7,"1"),e.qZA(),e.TgZ(8,"div",6),e._uU(9,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()()(),e._UZ(10,"div",7),e.TgZ(11,"div",4)(12,"div",8)(13,"span"),e._uU(14,"2"),e.qZA(),e.TgZ(15,"div",9),e._uU(16," Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()()(),e._UZ(17,"div",7),e.TgZ(18,"div",4)(19,"div",8)(20,"span"),e._uU(21,"3"),e.qZA(),e.TgZ(22,"div",10),e._uU(23,"C\u1ea5u h\xecnh s\u0103n v\xe9"),e.qZA()()()()()(),e.TgZ(24,"div",11),e._uU(25,"T\xf9y ch\u1ecdn chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),e.qZA(),e.YNc(26,sn,32,36,"ng-container",12),e.YNc(27,dn,33,36,"ng-container",12),e._UZ(28,"div",13),e.TgZ(29,"div",14)(30,"div",15),e._UZ(31,"cf-icon",16),e.TgZ(32,"div",17)(33,"span"),e._uU(34,"Ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n"),e.qZA()()(),e.TgZ(35,"div",18),e.NdJ("click",function(s){return i.onShowFareOptionChange(s)}),e._UZ(36,"cf-switch",19),e.qZA()(),e.YNc(37,Cn,9,3,"div",20),e._UZ(38,"div",21),e.TgZ(39,"div",22)(40,"div",14)(41,"div",15),e._UZ(42,"cf-icon",23),e.TgZ(43,"div",17)(44,"span"),e._uU(45,"S\u0103n theo gi\xe1"),e.qZA()()(),e.TgZ(46,"div",18),e.NdJ("click",function(s){return i.onPriceOptionChange(s)}),e._UZ(47,"cf-switch",19),e.qZA()(),e.YNc(48,Zn,2,1,"label",24),e.qZA(),e.YNc(49,qn,28,14,"ng-container",12),e._UZ(50,"div",13),e.TgZ(51,"div",14)(52,"div",15),e._UZ(53,"cf-icon",25),e.TgZ(54,"div",17)(55,"span"),e._uU(56,"Gi\u1edd kh\u1edfi h\xe0nh"),e.qZA()()(),e.TgZ(57,"cf-switch",26),e.NdJ("checkedChange",function(s){return i.onTimeOptionChange(s)}),e.qZA()(),e.YNc(58,Un,4,3,"ng-container",12),e.YNc(59,Rn,3,2,"ng-container",12),e.qZA(),e.YNc(60,Mn,5,8,"ng-template",null,27,e.W1O),e.YNc(62,Qn,1,0,"cf-spinner",12)),2&t&&(e.xp6(26),e.Q6J("ngIf",!i.isMobile),e.xp6(1),e.Q6J("ngIf",i.isMobile),e.xp6(9),e.Q6J("checked",i.dataServiceInstant().showFareOption),e.xp6(1),e.Q6J("ngIf",i.dataServiceInstant().showFareOption),e.xp6(10),e.Q6J("checked",i.dataServiceInstant().showPriceOption),e.xp6(1),e.Q6J("ngIf",i.dataServiceInstant().showPriceOption),e.xp6(1),e.Q6J("ngIf",i.dataServiceInstant().showPriceOption),e.xp6(8),e.Q6J("checked",i.dataServiceInstant().showTimeStartOption),e.xp6(1),e.Q6J("ngIf",!i.isMobile),e.xp6(1),e.Q6J("ngIf",i.isMobile),e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[_.AxE,_.Sm8,f.ez,f.mk,f.sg,f.O5,x.u5,x.Fj,x.JJ,x.On,I.OR,F.j$,F.BN,F.lt,D.N8,D.Xq,b.DW,j.q,L.m,W.C,X.I,Ge.T,De.z6,x.UX,x.oH,p.Cs,Ae.nA,Q.Rq,Q.Ry,p._o,ct.C],styles:["#faresgroup[_ngcontent-%COMP%]{scrollbar-width:auto;scrollbar-color:#c4c4c4 #ffffff}#faresgroup[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}#faresgroup[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff}#faresgroup[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#c4c4c4;border-radius:8px;border:2px solid #ffffff}  .mb-passenger-number-section cf-number-of-passenger div{border:none;padding:0}"]}),n})();var Ne=g(87683),Be=g(19123),we=g(67997),Yn=g(7453),jn=g(25614),Gn=g(3447),Ue=g(35650),ve=g(43201),Oe=g(78372),M=g(28746),Vn=g(25283),Kn=g(85522),$n=g(86938),ne=g(62331);const zn=["parentSelectInfant"];function Ln(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",31)(1,"input",32,33),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onFilesSelected(o))}),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin t\u1ea5t c\u1ea3 kh\xe1ch "),e.qZA()()}}function Xn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",35)(1,"input",32,33),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.onFilesSelected(o))}),e.qZA(),e.TgZ(3,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin t\u1ea5t c\u1ea3 kh\xe1ch "),e.qZA()()}}function Wn(n,r){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Ng\u01b0\u1eddi l\u1edbn ",t+1," ")}}function ei(n,r){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function ti(n,r){if(1&n&&(e.YNc(0,Wn,2,1,"div",43),e.YNc(1,ei,2,1,"div",43)),2&n){const t=e.oxw().$implicit;e.Q6J("ngIf",!(t.controls.firstName.valid&&t.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",t.controls.firstName.valid&&t.controls.lastName.valid)}}function ni(n,r){if(1&n&&(e.TgZ(0,"div",67),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Ng\u01b0\u1eddi l\u1edbn ",t+1," ")}}function ii(n,r){if(1&n&&(e.TgZ(0,"div",67),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function oi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",68,69),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.onFilesSelected(o,s))}),e.qZA(),e.TgZ(3,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin kh\xe1ch n\xe0y "),e.qZA()()}}function ri(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.gender)}}function ai(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.lastName)}}function si(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.firstName)}}function ci(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBAdult)}}function li(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.cccdNumber)}}function ui(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlengthCccdNumber)}}function _i(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthCccdNumber)}}function di(n,r){if(1&n&&(e.TgZ(0,"div")(1,"cf-input-group",53),e._UZ(2,"input",80),e.YNc(3,li,1,1,"cf-input-hint",52),e.YNc(4,ui,1,1,"cf-input-hint",52),e.YNc(5,_i,1,1,"cf-input-hint",52),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.cccdNumber.invalid&&(t.controls.cccdNumber.dirty||t.controls.cccdNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",i.getFormControlInArray(t,"cccdNumber")),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("required")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("minlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("maxlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty))}}function pi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthPassportNumber)}}function gi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.passportNumber)}}function mi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.nationality)}}function fi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceCountry)}}function hi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDate)}}function vi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDateInvalid)}}function xi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.expiryDate)}}function Ti(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",81)(1,"cf-input-group",53)(2,"label",54),e._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(4,"input",82),e.YNc(5,pi,1,1,"cf-input-hint",52),e.YNc(6,gi,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(7,"cf-select",83)(8,"label",54),e._uU(9," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(10,mi,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(11,"cf-select",84)(12,"label",54),e._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(14,fi,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(15,"div")(16,"cf-input-group",53),e._UZ(17,"cf-icon",58),e.TgZ(18,"label",54),e._uU(19," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(20,"input",85,86),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())}),e.qZA(),e.YNc(22,hi,1,1,"cf-input-hint",52),e.YNc(23,vi,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(24,"div")(25,"cf-input-group",53),e._UZ(26,"cf-icon",58),e.TgZ(27,"label",54),e._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(29,"input",87,88),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())}),e.qZA(),e.YNc(31,xi,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(32,"div",89),e._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),e.qZA()()()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.number.invalid&&(t.controls.number.dirty||t.controls.number.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("maxlength")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("status",t.controls.nationality.invalid&&(t.controls.nationality.dirty||t.controls.nationality.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(3),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("status",t.controls.issuanceCountry.invalid&&(t.controls.issuanceCountry.dirty||t.controls.issuanceCountry.touched)?"error":"default")("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(3),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status",t.controls.expiryDate.invalid&&(t.controls.expiryDate.dirty||t.controls.expiryDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function Ei(n,r){1&n&&(e.TgZ(0,"div",90),e._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),e.qZA())}function bi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"label",74),e._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),e.qZA(),e.TgZ(4,"div")(5,"div",47)(6,"cf-radio-group",75),e.NdJ("checkChange",function(o){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.onIdentityChange(o,s))}),e.TgZ(7,"cf-radio",76),e._uU(8," CCCD "),e.qZA(),e.TgZ(9,"cf-radio",77),e._uU(10," H\u1ed9 chi\u1ebfu "),e.qZA(),e.TgZ(11,"cf-radio",76),e._uU(12,"Kh\xf4ng c\xf3"),e.qZA()(),e.YNc(13,di,6,5,"div",30),e.YNc(14,Ti,34,27,"div",78),e.YNc(15,Ei,2,0,"div",79),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(4),e.Q6J("formControl",i.getFormControlInArray(t,"documentType")),e.xp6(1),e.Q6J("disabled",i.hasAirportInternational)("value",i.IDENTIFY_TYPE.CCCD),e.xp6(2),e.Q6J("value",i.IDENTIFY_TYPE.PASSPORT),e.xp6(2),e.Q6J("disabled",i.hasVJAirline&&i.hasRouteGroupRequire)("value",i.IDENTIFY_TYPE.NON_IDENTIFY),e.xp6(2),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.CCCD),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.PASSPORT),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.NON_IDENTIFY)}}function yi(n,r){1&n&&(e.TgZ(0,"div",91),e._UZ(1,"cf-icon",92),e.TgZ(2,"span"),e._uU(3,"Th\xf4ng tin b\u1ed5 sung"),e.qZA()())}function Ci(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div"),e.YNc(2,ni,2,1,"div",46),e.YNc(3,ii,2,1,"div",46),e.qZA(),e.YNc(4,oi,5,0,"div",30),e.qZA(),e.TgZ(5,"div",47)(6,"div",48)(7,"div",49)(8,"cf-select",50)(9,"label",51),e._uU(10," Gi\u1edbi t\xednh "),e.qZA(),e.YNc(11,ri,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(12,"div",49)(13,"cf-input-group",53)(14,"label",54)(15,"span",55),e._uU(16,"H\u1ecd"),e.qZA()(),e.TgZ(17,"input",56),e.NdJ("blur",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onBlurInput(o,s,"lastName"))}),e.qZA(),e.YNc(18,ai,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(19,"div",49)(20,"cf-input-group",53)(21,"label",54)(22,"span",55),e._uU(23,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(24,"input",57),e.NdJ("blur",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onBlurInput(o,s,"firstName"))}),e.qZA(),e.YNc(25,si,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(26,"div",49)(27,"cf-input-group",53),e._UZ(28,"cf-icon",58),e.TgZ(29,"label",54)(30,"span"),e._uU(31,"Ng\xe0y sinh"),e.qZA(),e._uU(32,"\xa0 "),e.TgZ(33,"span",59),e._uU(34," (L\u1edbn h\u01a1n 12 tu\u1ed5i) "),e.qZA()(),e.TgZ(35,"input",60,61),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(36);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(36);return e.KtG(o.close())}),e.qZA(),e.YNc(37,ci,1,1,"cf-input-hint",52),e.qZA()()(),e.YNc(38,bi,16,10,"div",62),e.TgZ(39,"cf-collapse",63)(40,"cf-collapse-panel",64),e.YNc(41,yi,4,0,"ng-template",null,39,e.W1O),e.TgZ(43,"div",47)(44,"cf-input-group",65)(45,"label",54),e._uU(46," Bamboo Airways (QH) "),e.qZA(),e._UZ(47,"input",66),e.qZA(),e.TgZ(48,"cf-input-group",65)(49,"label",54),e._uU(50," Vietnam Airlines (VNA) "),e.qZA(),e._UZ(51,"input",66),e.qZA()()()()()}if(2&n){const t=e.MAs(42),i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",!(i.controls.firstName.valid&&i.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.valid&&i.controls.lastName.valid),e.xp6(1),e.Q6J("ngIf",o.canExtractImageToDocument),e.xp6(4),e.Q6J("status",i.controls.gender.invalid&&(i.controls.gender.dirty||i.controls.gender.touched)?"error":"default")("data",o.optionsGender)("allowSearch",!1)("formControl",o.getFormControlInArray(i,"gender")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.controls.gender.hasError("required")&&(i.controls.gender.touched||i.controls.gender.dirty)),e.xp6(2),e.Q6J("status",i.controls.lastName.invalid&&(i.controls.lastName.dirty||i.controls.lastName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"lastName")),e.xp6(1),e.Q6J("ngIf",i.controls.lastName.hasError("required")&&(i.controls.lastName.touched||i.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",i.controls.firstName.invalid&&(i.controls.firstName.dirty||i.controls.firstName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"firstName")),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.hasError("required")&&(i.controls.firstName.touched||i.controls.firstName.dirty)),e.xp6(2),e.Q6J("status",i.controls.birthday.invalid&&(i.controls.birthday.dirty||i.controls.birthday.touched)?"error":"default"),e.xp6(8),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",o.getFormControlInArray(i,"birthday")),e.xp6(2),e.Q6J("ngIf",i.controls.birthday.hasError("DoBAdult")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",o.hasAirportInternational||o.hasVJAirline),e.xp6(2),e.Q6J("title",t)("active",!1),e.xp6(7),e.Q6J("formControl",o.getFormControlInArray(i,"membershipQH")),e.xp6(4),e.Q6J("formControl",o.getFormControlInArray(i,"membershipVN"))}}function Zi(n,r){if(1&n&&(e.TgZ(0,"div",null,36)(2,"cf-collapse",37)(3,"cf-collapse-panel",38),e.YNc(4,ti,2,2,"ng-template",null,39,e.W1O),e.GkF(6,40),e.qZA()(),e.TgZ(7,"div",41),e.GkF(8,40),e.YNc(9,Ci,52,27,"ng-template",null,42,e.W1O),e.qZA()()),2&n){const t=e.MAs(5),i=e.MAs(10);e.xp6(3),e.Q6J("title",t)("active",!0),e.xp6(3),e.Q6J("ngTemplateOutlet",i),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function Ai(n,r){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Tr\u1ebb em ",t+1," ")}}function Di(n,r){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function qi(n,r){if(1&n&&(e.YNc(0,Ai,2,1,"div",43),e.YNc(1,Di,2,1,"div",43)),2&n){const t=e.oxw().$implicit;e.Q6J("ngIf",!(t.controls.firstName.valid&&t.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",t.controls.firstName.valid&&t.controls.lastName.valid)}}function ki(n,r){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Tr\u1ebb em ",t+1," ")}}function Ii(n,r){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function Fi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",68,69),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.onFilesSelected(o,s))}),e.qZA(),e.TgZ(3,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin kh\xe1ch n\xe0y "),e.qZA()()}}function Si(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.gender)}}function Ni(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.lastName)}}function Bi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.firstName)}}function wi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.birthday)}}function Ui(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChild)}}function Oi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChildUnder)}}function Ji(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBChildUpper)}}function Pi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.cccdNumber)}}function Hi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlengthCccdNumber)}}function Ri(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthCccdNumber)}}function Mi(n,r){if(1&n&&(e.TgZ(0,"div")(1,"cf-input-group",53),e._UZ(2,"input",80),e.YNc(3,Pi,1,1,"cf-input-hint",52),e.YNc(4,Hi,1,1,"cf-input-hint",52),e.YNc(5,Ri,1,1,"cf-input-hint",52),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.cccdNumber.invalid&&(t.controls.cccdNumber.dirty||t.controls.cccdNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",i.getFormControlInArray(t,"cccdNumber")),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("required")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("minlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("maxlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty))}}function Qi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthPassportNumber)}}function Yi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.passportNumber)}}function ji(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.nationality)}}function Gi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceCountry)}}function Vi(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDate)}}function Ki(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDateInvalid)}}function $i(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.expiryDate)}}function zi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",81)(1,"cf-input-group",53)(2,"label",54),e._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(4,"input",82),e.YNc(5,Qi,1,1,"cf-input-hint",52),e.YNc(6,Yi,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(7,"cf-select",83)(8,"label",54),e._uU(9," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(10,ji,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(11,"cf-select",84)(12,"label",54),e._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(14,Gi,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(15,"div")(16,"cf-input-group",53),e._UZ(17,"cf-icon",58),e.TgZ(18,"label",54),e._uU(19," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(20,"input",85,86),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())}),e.qZA(),e.YNc(22,Vi,1,1,"cf-input-hint",52),e.YNc(23,Ki,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(24,"div")(25,"cf-input-group",53),e._UZ(26,"cf-icon",58),e.TgZ(27,"label",54),e._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(29,"input",87,88),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())}),e.qZA(),e.YNc(31,$i,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(32,"div",89),e._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),e.qZA()()()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.number.invalid&&(t.controls.number.dirty||t.controls.number.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("maxlength")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("status",t.controls.nationality.invalid&&(t.controls.nationality.dirty||t.controls.nationality.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(3),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("status",t.controls.issuanceCountry.invalid&&(t.controls.issuanceCountry.dirty||t.controls.issuanceCountry.touched)?"error":"default")("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(3),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status",t.controls.expiryDate.invalid&&(t.controls.expiryDate.dirty||t.controls.expiryDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function Li(n,r){1&n&&(e.TgZ(0,"div",90),e._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),e.qZA())}function Xi(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"label",74),e._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),e.qZA(),e.TgZ(4,"div")(5,"div",47)(6,"cf-radio-group",75),e.NdJ("checkChange",function(o){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.onIdentityChange(o,s))}),e.TgZ(7,"cf-radio",76),e._uU(8," CCCD "),e.qZA(),e.TgZ(9,"cf-radio",77),e._uU(10," H\u1ed9 chi\u1ebfu "),e.qZA(),e.TgZ(11,"cf-radio",76),e._uU(12,"Kh\xf4ng c\xf3"),e.qZA()(),e.YNc(13,Mi,6,5,"div",30),e.YNc(14,zi,34,27,"div",78),e.YNc(15,Li,2,0,"div",79),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(4),e.Q6J("formControl",i.getFormControlInArray(t,"documentType")),e.xp6(1),e.Q6J("disabled",i.hasAirportInternational)("value",i.IDENTIFY_TYPE.CCCD),e.xp6(2),e.Q6J("value",i.IDENTIFY_TYPE.PASSPORT),e.xp6(2),e.Q6J("disabled",i.hasVJAirline&&i.hasRouteGroupRequire)("value",i.IDENTIFY_TYPE.NON_IDENTIFY),e.xp6(2),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.CCCD),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.PASSPORT),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.NON_IDENTIFY)}}function Wi(n,r){1&n&&(e.TgZ(0,"div",99),e._uU(1," Th\xf4ng tin b\u1ed5 sung "),e.qZA())}function eo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div"),e.YNc(2,ki,2,1,"div",95),e.YNc(3,Ii,2,1,"div",95),e.qZA(),e.YNc(4,Fi,5,0,"div",30),e.qZA(),e.TgZ(5,"div",47)(6,"div",48)(7,"div",49)(8,"cf-select",50)(9,"label",51),e._uU(10,"Gi\u1edbi t\xednh"),e.qZA(),e.YNc(11,Si,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(12,"div",49)(13,"cf-input-group",53)(14,"label",54)(15,"span",55),e._uU(16,"H\u1ecd"),e.qZA()(),e.TgZ(17,"input",96),e.NdJ("blur",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onBlurInput(o,s,"lastName"))}),e.qZA(),e.YNc(18,Ni,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(19,"div",49)(20,"cf-input-group",53)(21,"label",54)(22,"span",55),e._uU(23,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(24,"input",57),e.NdJ("blur",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onBlurInput(o,s,"firstName"))}),e.qZA(),e.YNc(25,Bi,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(26,"div",49)(27,"cf-input-group",53),e._UZ(28,"cf-icon",58),e.TgZ(29,"label",54)(30,"span",55),e._uU(31,"Ng\xe0y sinh"),e.qZA(),e._uU(32,"\xa0 "),e.TgZ(33,"span",59),e._uU(34," (Tu\u1ed5i 2 - 12) "),e.qZA()(),e.TgZ(35,"input",60,61),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(36);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(36);return e.KtG(o.close())}),e.qZA(),e.YNc(37,wi,1,1,"cf-input-hint",52),e.YNc(38,Ui,1,1,"cf-input-hint",52),e.YNc(39,Oi,1,1,"cf-input-hint",52),e.YNc(40,Ji,1,1,"cf-input-hint",52),e.qZA()()(),e.YNc(41,Xi,16,10,"div",62),e.TgZ(42,"cf-collapse",63)(43,"cf-collapse-panel",64),e.YNc(44,Wi,2,0,"ng-template",null,39,e.W1O),e.TgZ(46,"div",47)(47,"cf-input-group",65)(48,"label",54),e._uU(49," Bamboo Airways (QH) "),e.qZA(),e._UZ(50,"input",97),e.qZA(),e.TgZ(51,"cf-input-group",65)(52,"label",54),e._uU(53," Vietnam Airlines (VNA) "),e.qZA(),e._UZ(54,"input",97),e.qZA()()()()()}if(2&n){const t=e.MAs(45),i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",!(i.controls.firstName.valid&&i.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.valid&&i.controls.lastName.valid),e.xp6(1),e.Q6J("ngIf",o.canExtractImageToDocument),e.xp6(4),e.Q6J("status",i.controls.gender.invalid&&(i.controls.gender.dirty||i.controls.gender.touched)?"error":"default")("data",o.optionsGender)("allowSearch",!1)("formControl",o.getFormControlInArray(i,"gender")),e.xp6(1),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.controls.gender.hasError("required")&&(i.controls.gender.touched||i.controls.gender.dirty)),e.xp6(2),e.Q6J("status",i.controls.lastName.invalid&&(i.controls.lastName.dirty||i.controls.lastName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"lastName")),e.xp6(1),e.Q6J("ngIf",i.controls.lastName.hasError("required")&&(i.controls.lastName.touched||i.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",i.controls.firstName.invalid&&(i.controls.firstName.dirty||i.controls.firstName.touched)?"error":"default")("status","default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"firstName")),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.hasError("required")&&(i.controls.firstName.touched||i.controls.firstName.dirty)),e.xp6(2),e.Q6J("status",i.controls.birthday.invalid&&(i.controls.birthday.dirty||i.controls.birthday.touched)?"error":"default")("status","default"),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(5),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",o.getFormControlInArray(i,"birthday")),e.xp6(2),e.Q6J("ngIf",i.controls.birthday.hasError("required")&&(i.controls.birthday.touched||i.controls.birthday.dirty)),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBChild")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBChildUnder")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBChildUpper")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",o.hasAirportInternational),e.xp6(2),e.Q6J("title",t)("active",!1),e.xp6(7),e.Q6J("formControl",o.getFormControlInArray(i,"membershipQH")),e.xp6(4),e.Q6J("formControl",o.getFormControlInArray(i,"membershipVN"))}}function to(n,r){if(1&n&&(e.ynx(0,null,93),e.TgZ(2,"cf-collapse",37)(3,"cf-collapse-panel",38),e.YNc(4,qi,2,2,"ng-template",null,39,e.W1O),e.GkF(6,40),e.qZA()(),e.TgZ(7,"div",41),e.GkF(8,40),e.YNc(9,eo,55,34,"ng-template",null,94,e.W1O),e.qZA(),e.BQk()),2&n){const t=e.MAs(5),i=e.MAs(10);e.xp6(3),e.Q6J("title",t)("active",!0),e.xp6(3),e.Q6J("ngTemplateOutlet",i),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function no(n,r){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Em b\xe9 ",t+1," ")}}function io(n,r){if(1&n&&(e.TgZ(0,"div",44),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function oo(n,r){if(1&n&&(e.YNc(0,no,2,1,"div",43),e.YNc(1,io,2,1,"div",43)),2&n){const t=e.oxw().$implicit;e.Q6J("ngIf",!(t.controls.firstName.valid&&t.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",t.controls.firstName.valid&&t.controls.lastName.valid)}}function ro(n,r){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).index;e.xp6(1),e.hij(" Em b\xe9 ",t+1,"")}}function ao(n,r){if(1&n&&(e.TgZ(0,"div",98),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.hij(" ",t.controls.lastName.value.toUpperCase()+" "+t.controls.firstName.value.toUpperCase()," ")}}function so(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",68,69),e.NdJ("change",function(o){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.onFilesSelected(o,s))}),e.qZA(),e.TgZ(3,"button",70),e.NdJ("click",function(){e.CHM(t);const o=e.MAs(2);return e.KtG(o.click())}),e._uU(4," Upload th\xf4ng tin kh\xe1ch n\xe0y "),e.qZA()()}}function co(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.gender)}}function lo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.lastName)}}function uo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.firstName)}}function _o(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.birthday)}}function po(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.DoBInfant)}}function go(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.cccdNumber)}}function mo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.minlengthCccdNumber)}}function fo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthCccdNumber)}}function ho(n,r){if(1&n&&(e.TgZ(0,"div")(1,"cf-input-group",53),e._UZ(2,"input",80),e.YNc(3,go,1,1,"cf-input-hint",52),e.YNc(4,mo,1,1,"cf-input-hint",52),e.YNc(5,fo,1,1,"cf-input-hint",52),e.qZA()()),2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.cccdNumber.invalid&&(t.controls.cccdNumber.dirty||t.controls.cccdNumber.touched)?"error":"default"),e.xp6(1),e.Q6J("formControl",i.getFormControlInArray(t,"cccdNumber")),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("required")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("minlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.cccdNumber.hasError("maxlength")&&(t.controls.cccdNumber.touched||t.controls.cccdNumber.dirty))}}function vo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.maxlengthPassportNumber)}}function xo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.passportNumber)}}function To(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.nationality)}}function Eo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceCountry)}}function bo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDate)}}function yo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.issuanceDateInvalid)}}function Co(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(5);e.Q6J("hint",t.errorMessage.expiryDate)}}function Zo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",81)(1,"cf-input-group",53)(2,"label",54),e._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),e.qZA(),e._UZ(4,"input",82),e.YNc(5,vo,1,1,"cf-input-hint",52),e.YNc(6,xo,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(7,"cf-select",83)(8,"label",54),e._uU(9," Qu\u1ed1c t\u1ecbch "),e.qZA(),e.YNc(10,To,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(11,"cf-select",84)(12,"label",54),e._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),e.qZA(),e.YNc(14,Eo,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(15,"div")(16,"cf-input-group",53),e._UZ(17,"cf-icon",58),e.TgZ(18,"label",54),e._uU(19," Ng\xe0y c\u1ea5p "),e.qZA(),e.TgZ(20,"input",85,86),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(21);return e.KtG(o.close())}),e.qZA(),e.YNc(22,bo,1,1,"cf-input-hint",52),e.YNc(23,yo,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(24,"div")(25,"cf-input-group",53),e._UZ(26,"cf-icon",58),e.TgZ(27,"label",54),e._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(29,"input",87,88),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(30);return e.KtG(o.close())}),e.qZA(),e.YNc(31,Co,1,1,"cf-input-hint",52),e.qZA(),e.TgZ(32,"div",89),e._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),e.qZA()()()}if(2&n){const t=e.oxw(3).$implicit,i=e.oxw();e.xp6(1),e.Q6J("status",t.controls.number.invalid&&(t.controls.number.dirty||t.controls.number.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",i.getFormControlInArray(t,"number")),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("maxlength")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.number.hasError("required")&&(t.controls.number.touched||t.controls.number.dirty)),e.xp6(1),e.Q6J("status",t.controls.nationality.invalid&&(t.controls.nationality.dirty||t.controls.nationality.touched)?"error":"default")("data",i.countryOption)("allowSearch",!0)("formControl",i.getFormControlInArray(t,"nationality")),e.xp6(3),e.Q6J("ngIf",t.controls.nationality.hasError("required")&&(t.controls.nationality.touched||t.controls.nationality.dirty)),e.xp6(1),e.Q6J("data",i.countryOption)("status",t.controls.issuanceCountry.invalid&&(t.controls.issuanceCountry.dirty||t.controls.issuanceCountry.touched)?"error":"default")("allowSearch",!0)("formControl",i.getFormControlInArray(t,"issuanceCountry")),e.xp6(3),e.Q6J("ngIf",t.controls.issuanceCountry.hasError("required")&&(t.controls.issuanceCountry.touched||t.controls.issuanceCountry.dirty)),e.xp6(2),e.Q6J("status",t.controls.issuanceDate.invalid&&(t.controls.issuanceDate.dirty||t.controls.issuanceDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",i.currentDate)("formControl",i.getFormControlInArray(t,"issuanceDate")),e.xp6(2),e.Q6J("ngIf",t.controls.issuanceDate.hasError("required")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(1),e.Q6J("ngIf",t.controls.issuanceDate.hasError("issuanceDateInvalid")&&(t.controls.issuanceDate.touched||t.controls.issuanceDate.dirty)),e.xp6(2),e.Q6J("status",t.controls.expiryDate.invalid&&(t.controls.expiryDate.dirty||t.controls.expiryDate.touched)?"error":"default"),e.xp6(4),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",i.currentDate)("formControl",i.getFormControlInArray(t,"expiryDate")),e.xp6(2),e.Q6J("ngIf",t.controls.expiryDate.hasError("required")&&(t.controls.expiryDate.touched||t.controls.expiryDate.dirty))}}function Ao(n,r){1&n&&(e.TgZ(0,"div",90),e._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),e.qZA())}function Do(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",72)(1,"div",73)(2,"label",74),e._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),e.qZA(),e.TgZ(4,"div")(5,"div",47)(6,"cf-radio-group",75),e.NdJ("checkChange",function(o){e.CHM(t);const s=e.oxw(2).$implicit,a=e.oxw();return e.KtG(a.onIdentityChange(o,s))}),e.TgZ(7,"cf-radio",76),e._uU(8," CCCD "),e.qZA(),e.TgZ(9,"cf-radio",77),e._uU(10," H\u1ed9 chi\u1ebfu "),e.qZA(),e.TgZ(11,"cf-radio",77),e._uU(12,"Kh\xf4ng c\xf3"),e.qZA()(),e.YNc(13,ho,6,5,"div",30),e.YNc(14,Zo,34,27,"div",78),e.YNc(15,Ao,2,0,"div",79),e.qZA()()()()}if(2&n){const t=e.oxw(2).$implicit,i=e.oxw();e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(4),e.Q6J("formControl",i.getFormControlInArray(t,"documentType")),e.xp6(1),e.Q6J("disabled",i.hasAirportInternational)("value",i.IDENTIFY_TYPE.CCCD),e.xp6(2),e.Q6J("value",i.IDENTIFY_TYPE.PASSPORT),e.xp6(2),e.Q6J("value",i.IDENTIFY_TYPE.NON_IDENTIFY),e.xp6(2),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.CCCD),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.PASSPORT),e.xp6(1),e.Q6J("ngIf",t.value.documentType===i.IDENTIFY_TYPE.NON_IDENTIFY)}}function qo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.parentIndex)}}function ko(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(3);e.Q6J("hint",t.errorMessage.ParentInfantDupplicate)}}function Io(n,r){1&n&&(e.TgZ(0,"div",99),e._uU(1," Th\xf4ng tin b\u1ed5 sung "),e.qZA())}function Fo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div"),e.YNc(2,ro,2,1,"div",95),e.YNc(3,ao,2,1,"div",95),e.qZA(),e.YNc(4,so,5,0,"div",30),e.qZA(),e.TgZ(5,"div",47)(6,"div",48)(7,"div",49)(8,"cf-select",50)(9,"label",54)(10,"span",55),e._uU(11,"Gi\u1edbi t\xednh"),e.qZA()(),e.YNc(12,co,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(13,"div",49)(14,"cf-input-group",53)(15,"label",54)(16,"span",55),e._uU(17,"H\u1ecd"),e.qZA()(),e.TgZ(18,"input",96),e.NdJ("blur",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onBlurInput(o,s,"lastName"))}),e.qZA(),e.YNc(19,lo,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(20,"div",49)(21,"cf-input-group",53)(22,"label",54)(23,"span",55),e._uU(24,"T\xean \u0111\u1ec7m v\xe0 T\xean"),e.qZA()(),e.TgZ(25,"input",57),e.NdJ("blur",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw();return e.KtG(a.onBlurInput(o,s,"firstName"))}),e.qZA(),e.YNc(26,uo,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(27,"div",49)(28,"div")(29,"cf-input-group",53),e._UZ(30,"cf-icon",58),e.TgZ(31,"label",54)(32,"span",55),e._uU(33,"Ng\xe0y sinh"),e.qZA(),e._uU(34,"\xa0 "),e.TgZ(35,"span",59),e._uU(36," (Nh\u1ecf h\u01a1n 2 tu\u1ed5i) "),e.qZA()(),e.TgZ(37,"input",60,61),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(38);return e.KtG(o.close())})("dateSelect",function(){e.CHM(t);const o=e.MAs(38);return e.KtG(o.close())}),e.qZA(),e.YNc(39,_o,1,1,"cf-input-hint",52),e.YNc(40,po,1,1,"cf-input-hint",52),e.qZA()()(),e.YNc(41,Do,16,9,"div",62),e.TgZ(42,"div",49)(43,"cf-select",102,103)(45,"label",54)(46,"span",55),e._uU(47,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),e.qZA()(),e.YNc(48,qo,1,1,"cf-input-hint",52),e.YNc(49,ko,1,1,"cf-input-hint",52),e.qZA()()(),e.TgZ(50,"cf-collapse",63)(51,"cf-collapse-panel",64),e.YNc(52,Io,2,0,"ng-template",null,39,e.W1O),e.TgZ(54,"div",47)(55,"cf-input-group",65)(56,"label",54),e._uU(57," Bamboo Airways (QH) "),e.qZA(),e._UZ(58,"input",66),e.qZA(),e.TgZ(59,"cf-input-group",65)(60,"label",54),e._uU(61," Vietnam Airlines (VNA) "),e.qZA(),e._UZ(62,"input",66),e.qZA()()()()()}if(2&n){const t=e.MAs(53),i=e.oxw().$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",!(i.controls.firstName.valid&&i.controls.lastName.valid)),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.valid&&i.controls.lastName.valid),e.xp6(1),e.Q6J("ngIf",o.canExtractImageToDocument),e.xp6(4),e.Q6J("status",i.controls.gender.invalid&&(i.controls.gender.dirty||i.controls.gender.touched)?"error":"default")("data",o.optionsGender)("allowSearch",!1)("formControl",o.getFormControlInArray(i,"gender")),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.controls.gender.hasError("required")&&(i.controls.gender.touched||i.controls.gender.dirty)),e.xp6(2),e.Q6J("status",i.controls.lastName.invalid&&(i.controls.lastName.dirty||i.controls.lastName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"lastName")),e.xp6(1),e.Q6J("ngIf",i.controls.lastName.hasError("required")&&(i.controls.lastName.touched||i.controls.lastName.dirty)),e.xp6(2),e.Q6J("status",i.controls.firstName.invalid&&(i.controls.firstName.dirty||i.controls.firstName.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",o.getFormControlInArray(i,"firstName")),e.xp6(1),e.Q6J("ngIf",i.controls.firstName.hasError("required")&&(i.controls.firstName.touched||i.controls.firstName.dirty)),e.xp6(3),e.Q6J("status",i.controls.birthday.invalid&&(i.controls.birthday.dirty||i.controls.birthday.touched)?"error":"default"),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(5),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("formControl",o.getFormControlInArray(i,"birthday")),e.xp6(2),e.Q6J("ngIf",i.controls.birthday.hasError("required")&&(i.controls.birthday.touched||i.controls.birthday.dirty)),e.xp6(1),e.Q6J("ngIf",i.controls.birthday.hasError("DoBInfant")&&i.controls.birthday.touched),e.xp6(1),e.Q6J("ngIf",o.hasAirportInternational),e.xp6(2),e.Q6J("status",i.controls.parentIndex.invalid&&(i.controls.parentIndex.dirty||i.controls.parentIndex.touched)?"error":"default")("data",o.optionsAdultPassenger)("allowSearch",!1)("formControl",i.controls.parentIndex),e.xp6(3),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",i.controls.parentIndex.hasError("required")&&(i.controls.parentIndex.touched||i.controls.parentIndex.dirty)),e.xp6(1),e.Q6J("ngIf",i.controls.parentIndex.hasError("ParentInfantDupplicate")&&(i.controls.parentIndex.touched||i.controls.parentIndex.dirty)),e.xp6(2),e.Q6J("title",t)("active",!1),e.xp6(7),e.Q6J("formControl",o.getFormControlInArray(i,"membershipQH")),e.xp6(4),e.Q6J("formControl",o.getFormControlInArray(i,"membershipVN"))}}function So(n,r){if(1&n&&(e.ynx(0,null,100),e.TgZ(2,"cf-collapse",37)(3,"cf-collapse-panel",38),e.YNc(4,oo,2,2,"ng-template",null,39,e.W1O),e.GkF(6,40),e.qZA()(),e.TgZ(7,"div",41),e.GkF(8,40),e.YNc(9,Fo,63,36,"ng-template",null,101,e.W1O),e.qZA(),e.BQk()),2&n){const t=e.MAs(5),i=e.MAs(10);e.xp6(3),e.Q6J("title",t)("active",!0),e.xp6(3),e.Q6J("ngTemplateOutlet",i),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function No(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.agentPhoneArea)}}function Bo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.phone)}}function wo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.minlengthPhone)}}function Uo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.maxlengthPhone)}}function Oo(n,r){if(1&n&&e._UZ(0,"cf-input-hint",71),2&n){const t=e.oxw(2);e.Q6J("hint",t.errorMessage.phoneBlacklisted)}}const Jo=function(){return[]};function Po(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16)(2,"div",17)(3,"div",104)(4,"div",105),e._UZ(5,"div",106),e.TgZ(6,"div",107),e._uU(7,"Sdt kh\xe1ch h\xe0ng \u0111\u1ec3 s\u0103n v\xe9 Vietjet"),e.qZA()()(),e.TgZ(8,"div",108)(9,"div",48)(10,"div",109)(11,"cf-select",110),e.NdJ("selectedChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeAreaCode())}),e.TgZ(12,"label",54)(13,"span",55),e._uU(14,"M\xe3 v\xf9ng"),e.qZA()(),e.YNc(15,No,1,1,"cf-input-hint",52),e.qZA()(),e.TgZ(16,"div",111)(17,"cf-input-group",112)(18,"label",54)(19,"span",55),e._uU(20,"\u0110i\u1ec7n tho\u1ea1i"),e.qZA()(),e.TgZ(21,"input",113),e.NdJ("input",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.checkValidWhitelist())}),e.qZA(),e.YNc(22,Bo,1,1,"cf-input-hint",52),e.YNc(23,wo,1,1,"cf-input-hint",52),e.YNc(24,Uo,1,1,"cf-input-hint",52),e.YNc(25,Oo,1,1,"cf-input-hint",52),e.qZA()()()()()()()}if(2&n){const t=e.oxw();e.xp6(11),e.Q6J("status",t.configurationFormGroup.controls.agentPhoneArea.invalid&&(t.configurationFormGroup.controls.agentPhoneArea.dirty||t.configurationFormGroup.controls.agentPhoneArea.touched)?"error":"default")("data",t.optionsAreaCode||e.DdM(14,Jo))("allowSearch",!0)("formControl",t.configurationFormGroup.controls.agentPhoneArea),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("ngIf",t.configurationFormGroup.controls.agentPhoneArea.hasError("required")&&(t.configurationFormGroup.controls.agentPhoneArea.touched||t.configurationFormGroup.controls.agentPhoneArea.dirty)),e.xp6(2),e.Q6J("tooltipContent",t.hasVJAirline&&t.checkPhoneRequired?"Theo quy ch\u1ebf ban h\xe0nh b\u1edfi VietJet Air, sdt khi \u0111\u1eb7t v\xe9 b\u1eaft bu\u1ed9c ph\u1ea3i c\u1ee7a kh\xe1ch h\xe0ng, vui l\xf2ng kh\xf4ng nh\u1eadp sdt c\u1ee7a \u0111\u1ea1i l\xfd":"")("status",t.configurationFormGroup.controls.agentPhone.invalid&&(t.configurationFormGroup.controls.agentPhone.dirty||t.configurationFormGroup.controls.agentPhone.touched)?"error":"default"),e.xp6(2),e.Q6J("CfRequired",!0),e.xp6(2),e.Q6J("formControl",t.configurationFormGroup.controls.agentPhone),e.xp6(1),e.Q6J("ngIf",t.configurationFormGroup.controls.agentPhone.hasError("required")&&(t.configurationFormGroup.controls.agentPhone.touched||t.configurationFormGroup.controls.agentPhone.dirty)),e.xp6(1),e.Q6J("ngIf",t.configurationFormGroup.controls.agentPhone.hasError("minlength")&&(t.configurationFormGroup.controls.agentPhone.touched||t.configurationFormGroup.controls.agentPhone.dirty)),e.xp6(1),e.Q6J("ngIf",t.configurationFormGroup.controls.agentPhone.hasError("maxlength")&&(t.configurationFormGroup.controls.agentPhone.touched||t.configurationFormGroup.controls.agentPhone.dirty)),e.xp6(1),e.Q6J("ngIf",t.configurationFormGroup.controls.agentPhone.hasError("blacklisted")&&(t.configurationFormGroup.controls.agentPhone.touched||t.configurationFormGroup.controls.agentPhone.dirty))}}function Ho(n,r){1&n&&e._UZ(0,"cf-spinner")}function Ro(n,r){1&n&&(e.TgZ(0,"cf-spinner")(1,"div",114),e._uU(2,"Flychills cam k\u1ebft kh\xf4ng l\u01b0u tr\u1eef files ho\u1eb7c s\u1eed d\u1ee5ng cho b\u1ea5t k\xec m\u1ee5c \u0111\xedch kh\xe1c."),e.qZA()())}let xe=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E,k,S,A,Y){this.route=t,this.fb=i,this._cfRegister=o,this._modal=s,this._permissionService=a,this.calendar=c,this._requestDataService=l,this._eventLogService=d,this._cd=u,this._bookFlightService=m,this._phoneDataService=v,this._systemService=Z,this._locationDataService=E,this._aiService=k,this._toastService=S,this._mobileDetectService=A,this._bottomSheetService=Y,this.formGroupChange=new e.vpe,this.optionsAdultPassenger=[],this.hasVJAirline=!1,this.checkPhoneRequired=this._systemService.isFeatureEnabled(q.Ke.Web_Features_RulePhoneNumber_RulePhoneNumberVJ_Enable),this.optionsAreaCode=this._phoneDataService.optionsAreaCode,this.optionsGender=[{name:"Nam",code:"male"},{name:"N\u1eef",code:"female"}],this.passengerText="",this.errorMessage={lastName:"H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",firstName:"T\xean \u0111\u1ec7m v\xe0 T\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",birthday:"Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",DoBChild:"Ng\xe0y sinh kh\xf4ng h\u1ee3p l\u1ec7",DoBChildUnder:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0} tr\u1edf v\u1ec1 tr\u01b0\u1edbc",DoBChildUpper:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0} tr\u1edf v\u1ec1 sau",DoBInfant:"Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y {0}",gender:"Gi\u1edbi t\xednh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",email:"Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",emailFormat:"\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7",phone:"Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",phoneBlacklisted:"Vui l\xf2ng nh\u1eadp sdt kh\xe1ch h\xe0ng, kh\xf4ng nh\u1eadp sdt c\u1ee7a \u0111\u1ea1i l\xfd",parentIndex:"Ng\u01b0\u1eddi l\u1edbn \u0111i k\xe8m kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",areaCode:"M\xe3 v\xf9ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",minlengthPhone:"\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1",maxlengthPhone:"\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1",agentId:"\u0110\u1ea1i l\xfd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",ParentInfantDupplicate:"M\u1ed7i ng\u01b0\u1eddi l\u1edbn ch\u1ec9 c\xf3 t\u1ed1i \u0111a 1 em b\xe9 ph\u1ee5 thu\u1ed9c",DoBAdult:"Ng\u01b0\u1eddi l\u1edbn ph\u1ea3i l\u1edbn h\u01a1n 12 tu\u1ed5i",maxlengthPassportNumber:"S\u1ed1 h\u1ed9 chi\u1ebfu t\u1ed1i \u0111a 9 k\xfd t\u1ef1",minlengthCccdNumber:"S\u1ed1 CCCD t\u1ed1i thi\u1ec3u 9 k\xfd t\u1ef1",maxlengthCccdNumber:"S\u1ed1 CCCD t\u1ed1i \u0111a 12 k\xfd t\u1ef1",passportNumber:"S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",cccdNumber:"S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",nationality:"Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceCountry:"Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",expiryDate:"Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceDate:"Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng",issuanceDateInvalid:"Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n"},this.defaultBirthdayAdt=q.H_,this.IDENTIFY_TYPE=q.FV,this.identityType=q.FV.CCCD,this.loading=!1,this.isExtractingDocument=!1,this.canExtractImageToDocument=this._permissionService.hasPermission(U.or.CanExtractImageToDocument),this.numberOfPaxUpload=0,this.hasAirportInternational=!1,this.hasRouteGroupRequire=!1,this.ROUTE_GROUP_REQUIRE=q.nl,o.registerIcons([_.xgX,_.Ey$,_.tLH,_.NYs,_.n78,_.fqi,_.esH,_.cnj,_.NNX,_.ILM,_.gW0]),this.departureTime=h().toDate().getTime(),this.earliestDoBChild=(0,ve.Z)(this.departureTime,-2),this.earliestDoBChild=(0,Ue.Z)(this.earliestDoBChild,-1),this.earliestDoBInfant=h().toDate(),this.lastestDoBChild=(0,ve.Z)(this.departureTime,-11),this.lastestDoBInfant=(0,ve.Z)(this.departureTime,-2),this.lastestDoBInfant=(0,Ue.Z)(this.lastestDoBInfant,1),this.errorMessage.DoBChildUnder=this.errorMessage.DoBChildUnder.replace("{0}",(0,f.p6)(this.earliestDoBChild,"dd/MM/yyyy","vi-VN")),this.errorMessage.DoBChildUpper=this.errorMessage.DoBChildUpper.replace("{0}",(0,f.p6)(this.lastestDoBChild,"dd/MM/yyyy","vi-VN")),this.errorMessage.DoBInfant=this.errorMessage.DoBInfant.replace("{0}",(0,f.p6)(this.lastestDoBInfant,"dd/MM/yyyy","vi-VN")),this.configurationFormGroup=l.configurationFormGroup,this.hasVJAirline=l.hasVJAirline,(this._locationDataService.checkAirportInternational(l.journeyFormGroup.value.startPoint)||this._locationDataService.checkAirportInternational(l.journeyFormGroup.value.endPoint))&&(this.hasAirportInternational=!0),this.initFormProcess(),this.getNumberOfPassenger(),this.countryOption=this._locationDataService.getAllCountryOption(),this.checkValidateIdentify(),this.hasRouteGroupRequire=this.ROUTE_GROUP_REQUIRE.has(`${l.journeyFormGroup.value.startPoint}-${l.journeyFormGroup.value.endPoint}`)}ngOnInit(){this.checkValidWhitelist(0)}initFormProcess(){this._requestDataService.passengerFormGroup.valueChanges.subscribe(()=>{this.getAdultPassenger()})}checkValidateIdentify(){this.hasAirportInternational&&this.getFormArray("adultPassenger").controls.forEach(t=>{var i;["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var s,a,c,l;"number"===o?(null===(s=t.get(o))||void 0===s||s.setValidators([x.kI.required,x.kI.maxLength(9)]),null===(a=t.get(o))||void 0===a||a.updateValueAndValidity()):(null===(c=t.get(o))||void 0===c||c.setValidators([x.kI.required]),null===(l=t.get(o))||void 0===l||l.updateValueAndValidity())}),null===(i=t.get("documentType"))||void 0===i||i.setValue(q.FV.PASSPORT)}),!this.hasAirportInternational&&this.hasVJAirline&&this.getFormArray("adultPassenger").controls.forEach(t=>{["cccdNumber"].forEach(i=>{var o,s,a,c;"cccdNumber"===i?(null===(o=t.get(i))||void 0===o||o.setValidators([x.kI.required,x.kI.minLength(9),x.kI.maxLength(12)]),null===(s=t.get(i))||void 0===s||s.updateValueAndValidity()):(null===(a=t.get(i))||void 0===a||a.setValidators([x.kI.required]),null===(c=t.get(i))||void 0===c||c.updateValueAndValidity())})})}getNumberOfPassenger(){this.numberOfPassenger=Object.assign({},this._requestDataService.numberOfPassenger),this.numberOfPaxUpload=this._requestDataService.numberOfPassenger.adult+this._requestDataService.numberOfPassenger.child+this._requestDataService.numberOfPassenger.infant,this.initAdultPassengerOptions()}getFormArray(t){return this._requestDataService.passengerFormGroup.controls[t]}getFormControlInArray(t,i){return t.controls[i]}onBlurInput(t,i,o){var s;const a=this.unicodeAndUppercase(t.target.value);null===(s=i.get(o))||void 0===s||s.setValue(a)}unicodeAndUppercase(t){return t=t.replace(/ +(?= )/g,""),(0,Gn.E)(t.trim()).toUpperCase()}initAdultPassengerOptions(){for(let t=0;t<this._requestDataService.numberOfPassenger.adult;t++)this.optionsAdultPassenger.push({code:t+"",name:`Ng\u01b0\u1eddi l\u1edbn ${t+1}`});this.getFormArray("adultPassenger").value&&this.getAdultPassenger()}getAdultPassenger(){this.getFormArray("adultPassenger").value.forEach((t,i)=>{var o;this.optionsAdultPassenger[i].name=t.lastName&&t.firstName?t.lastName+" "+t.firstName:`Ng\u01b0\u1eddi l\u1edbn ${i+1}`,null===(o=this.parentSelectInfants)||void 0===o||o.forEach(s=>{s.data=this.optionsAdultPassenger,this.optionsAdultPassenger.forEach(a=>{s.selectedText&&a.code===s.selectedText.code&&s.writeValue(s.selectedText.code)})})})}quickParseInfo(){if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(we.i7,{headerTitle:"Nh\u1eadp nhanh th\xf4ng tin h\xe0nh kh\xe1ch",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0,data:{passengerText:this.passengerText,departureTime:this.departureTime,numberOfPassenger:this.numberOfPassenger}});t.containerInstance._rightButtonClick.subscribe(()=>{t.dismiss()}),t.afterDismissed().subscribe(i=>{i?this.processQuickParse(i.text,i.passengers,i.passengerInputRows):this._eventLogService.captureFastPaxInput({action:"cancel"})})}else this._modal.open(we.i7,{passengerText:this.passengerText,departureTime:this.departureTime,numberOfPassenger:this.numberOfPassenger}).afterClosed$.subscribe({next:i=>{i.data?this.processQuickParse(i.data.text,i.data.passengers,i.data.passengerInputRows):this._eventLogService.captureFastPaxInput({action:"cancel"})}})}processQuickParse(t,i,o){this.passengerText=t;const s=i;s.forEach(u=>{u.firstName&&(u.firstName=this.unicodeAndUppercase(u.firstName)),u.lastName&&(u.lastName=this.unicodeAndUppercase(u.lastName)),u.parentName&&(u.parentName=this.unicodeAndUppercase(u.parentName))});const a=s.filter(u=>"ADULT"===u.type),c=s.filter(u=>"CHILD"===u.type),l=s.filter(u=>"INFANT"===u.type);this._eventLogService.captureFastPaxInput({action:"ok",numInput:o,numPass:s.length,numAdt:a.length,numChd:c.length,numInf:l.length});for(let u=0;u<this._requestDataService.passengerFormGroup.controls.adultPassenger.controls.length&&u<a.length;u++)this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.lastName.setValue(a[u].lastName),this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.firstName.setValue(a[u].firstName),this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.gender.setValue(a[u].gender),this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.birthday.setValue(a[u].birthday),(a[u].documentNumber&&!this.hasAirportInternational||this.hasAirportInternational&&a[u].documentType!==this.IDENTIFY_TYPE.CCCD)&&this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.documentType.setValue(a[u].documentType),a[u].documentType===this.IDENTIFY_TYPE.CCCD?this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.cccdNumber.setValue(a[u].documentNumber):a[u].documentType===this.IDENTIFY_TYPE.PASSPORT?this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.number.setValue(a[u].documentNumber):(this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.cccdNumber.setValue(null),this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).controls.number.setValue(null)),this._requestDataService.passengerFormGroup.controls.adultPassenger.at(u).markAllAsTouched();this.getAdultPassenger();for(let u=0;u<this._requestDataService.passengerFormGroup.controls.childPassenger.controls.length&&u<c.length;u++)this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).controls.lastName.setValue(c[u].lastName),this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).controls.firstName.setValue(c[u].firstName),this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).controls.gender.setValue(c[u].gender),this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).controls.birthday.setValue(c[u].birthday),(c[u].documentNumber&&!this.hasAirportInternational||this.hasAirportInternational&&a[u].documentType!==this.IDENTIFY_TYPE.CCCD)&&this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).controls.documentType.setValue(c[u].documentType),c[u].documentType===this.IDENTIFY_TYPE.CCCD?this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).controls.cccdNumber.setValue(c[u].documentNumber):c[u].documentType===this.IDENTIFY_TYPE.PASSPORT&&this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).controls.number.setValue(c[u].documentNumber),this._requestDataService.passengerFormGroup.controls.childPassenger.at(u).markAllAsTouched();const d=[];for(let u=0;u<this._requestDataService.passengerFormGroup.controls.infantPassenger.controls.length&&u<l.length;u++){if(this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.lastName.setValue(l[u].lastName),this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.firstName.setValue(l[u].firstName),this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.gender.setValue(l[u].gender),this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.birthday.setValue(l[u].birthday),(l[u].documentNumber&&!this.hasAirportInternational||this.hasAirportInternational&&a[u].documentType!==this.IDENTIFY_TYPE.CCCD)&&this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.documentType.setValue(l[u].documentType),l[u].documentType===this.IDENTIFY_TYPE.CCCD?this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.cccdNumber.setValue(l[u].documentNumber):l[u].documentType===this.IDENTIFY_TYPE.PASSPORT?this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.number.setValue(l[u].documentNumber):(this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.cccdNumber.setValue(null),this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.number.setValue(null)),void 0!==l[u].parentName){const m=this.getParentIndex(l[u].parentName,d);void 0!==m&&(d.push(m),this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.parentIndex.setValue(String(m)))}this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).markAllAsTouched()}for(let u=0;u<this._requestDataService.passengerFormGroup.controls.infantPassenger.controls.length;u++)if(!this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.parentIndex.value)for(let m=0;m<this._requestDataService.passengerFormGroup.controls.adultPassenger.controls.length;m++)if(!d.includes(m)){this._requestDataService.passengerFormGroup.controls.infantPassenger.at(u).controls.parentIndex.setValue(String(m)),d.push(m);break}}getParentIndex(t,i){for(let o=0;o<this._requestDataService.passengerFormGroup.controls.adultPassenger.controls.length;o++)if(!i.includes(o)&&t===this._requestDataService.passengerFormGroup.controls.adultPassenger.at(o).controls.lastName.value+" "+this._requestDataService.passengerFormGroup.controls.adultPassenger.at(o).controls.firstName.value)return o}onKeydown(t){t.preventDefault(),t.stopPropagation()}onChangeAreaCode(){this.configurationFormGroup.controls.phone.hasError("blacklisted")&&this.configurationFormGroup.get("phone").setErrors(null),this.checkValidWhitelist()}checkValidWhitelist(t=1e3){this.hasVJAirline&&this.checkPhoneRequired&&this.configurationFormGroup.controls.agentPhoneArea.valid&&this.configurationFormGroup.controls.agentPhone.valid&&this._bookFlightService.checkValidWhitelist({phone:this.configurationFormGroup.value.agentPhone,phoneArea:this.configurationFormGroup.value.agentPhoneArea}).pipe((0,Oe.b)(t)).subscribe({next:o=>{"OK"===o.status&&!o.data.phoneValid&&this.configurationFormGroup.get("agentPhone").setErrors({blacklisted:!0})}})}onIdentityChange(t,i){t===q.FV.PASSPORT?(["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var s,a,c,l;"number"===o?(null===(s=i.get(o))||void 0===s||s.setValidators([x.kI.required,x.kI.maxLength(9)]),null===(a=i.get(o))||void 0===a||a.updateValueAndValidity()):(null===(c=i.get(o))||void 0===c||c.setValidators([x.kI.required]),null===(l=i.get(o))||void 0===l||l.updateValueAndValidity())}),["cccdNumber"].forEach(o=>{var s,a;null===(s=i.get(o))||void 0===s||s.setValidators(null),null===(a=i.get(o))||void 0===a||a.updateValueAndValidity()})):t===q.FV.CCCD?(["cccdNumber"].forEach(o=>{var s,a;null===(s=i.get(o))||void 0===s||s.setValidators([x.kI.required,x.kI.minLength(9),x.kI.maxLength(12)]),null===(a=i.get(o))||void 0===a||a.updateValueAndValidity()}),["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var s,a;null===(s=i.get(o))||void 0===s||s.setValidators(null),null===(a=i.get(o))||void 0===a||a.updateValueAndValidity()})):["issuanceDate","expiryDate","issuanceCountry","nationality","number","cccdNumber"].forEach(o=>{var s,a;null===(s=i.get(o))||void 0===s||s.setValidators(null),null===(a=i.get(o))||void 0===a||a.updateValueAndValidity()})}onFilesSelected(t,i){const o=t.target;if(o.files&&o.files.length>0){const s=o.files,a=new FormData;Array.from(s).forEach((c,l)=>{l<this.numberOfPaxUpload&&a.append("files",c)}),this.isExtractingDocument=!0,this._aiService.extractDocument(a).pipe((0,M.x)(()=>{o.value="",this.isExtractingDocument=!1})).subscribe({next:c=>{var l;try{if(i){if(this.hasAirportInternational&&(null===(l=c[0].type)||void 0===l?void 0:l.toUpperCase())===q.FV.CCCD||this.checkAgeRange(c[0].birthday,this.departureTime)!==i.value.type)throw{code:"FE-TYPEPAX",discription:"File kh\xf4ng h\u1ee3p l\u1ec7 v\u1edbi lo\u1ea1i h\xe0nh kh\xe1ch"};this.convertDocument(c[0],i)}else this.convertListDocument(c);this._toastService.add({severity:"success",summary:"Tr\xedch xu\u1ea5t th\xe0nh c\xf4ng",detail:"Th\xf4ng tin h\xe0nh kh\xe1ch v\u1eeba \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt. Vui l\xf2ng ki\u1ec3m tra v\xe0 \u0111\u1ed1i chi\u1ebfu l\u1ea1i!",sticky:!1,life:5e3})}catch(d){this._toastService.add({severity:"error",summary:"Tr\xedch xu\u1ea5t th\u1ea5t b\u1ea1i",detail:d&&"FE-TYPEPAX"===d.code?d.discription:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau!",sticky:!0})}},error:()=>{this._toastService.add({severity:"error",summary:"Tr\xedch xu\u1ea5t th\u1ea5t b\u1ea1i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau!",sticky:!0})}})}}convertDocument(t,i){var o,s,a,c,l,d,u,m,v,Z,E;i.patchValue({firstName:t.first_name?this.unicodeAndUppercase(t.first_name):"",lastName:t.last_name?this.unicodeAndUppercase(t.last_name):"",gender:t.sex,birthday:t.birthday?new Date(t.birthday):null,issuanceDate:(null===(o=t.type)||void 0===o?void 0:o.toUpperCase())===q.FV.PASSPORT&&t.date_of_issue?new Date(t.date_of_issue):null,expiryDate:(null===(s=t.type)||void 0===s?void 0:s.toUpperCase())===q.FV.PASSPORT&&t.date_of_expiry?new Date(t.date_of_expiry):null,issuanceCountry:(null===(a=t.type)||void 0===a?void 0:a.toUpperCase())===q.FV.PASSPORT?this._locationDataService.convertCountryCodeAlpha3ToAlpha2(t.issuing_country_code):"",nationality:(null===(c=t.type)||void 0===c?void 0:c.toUpperCase())===q.FV.PASSPORT?this._locationDataService.convertCountryCodeAlpha3ToAlpha2(t.nationality_code):"",number:(null===(l=t.type)||void 0===l?void 0:l.toUpperCase())===q.FV.PASSPORT?t.no:"",cccdNumber:(null===(d=t.type)||void 0===d?void 0:d.toUpperCase())===q.FV.CCCD?t.no:"",documentType:null===(u=t.type)||void 0===u?void 0:u.toUpperCase()}),(null===(m=t.type)||void 0===m?void 0:m.toUpperCase())===q.FV.PASSPORT&&(null===(v=i.get("cccdNumber"))||void 0===v||v.setValidators(null),null===(Z=i.get("cccdNumber"))||void 0===Z||Z.updateValueAndValidity()),(null===(E=t.type)||void 0===E?void 0:E.toUpperCase())===q.FV.CCCD&&["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(k=>{var S,A;null===(S=i.get(k))||void 0===S||S.setValidators(null),null===(A=i.get(k))||void 0===A||A.updateValueAndValidity()})}convertListDocument(t){var i,o;const s=[];t.filter(a=>a).forEach(a=>{"ADT"===this.checkAgeRange(a.birthday,this.departureTime)&&s.push(a)}),null===(o=null===(i=this.getFormArray("adultPassenger"))||void 0===i?void 0:i.controls)||void 0===o||o.forEach((a,c)=>{const l=s[c];l&&this.convertDocument(l,a)})}checkAgeRange(t,i){const o=h(t),a=h(i).diff(o,"years");return a<2?"INF":a>=2&&a<=12?"CHD":"ADT"}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(x.qu),e.Y36(_.KNP),e.Y36(P.oE),e.Y36(U.$A),e.Y36(p.jH),e.Y36(T.FH),e.Y36($.x),e.Y36(e.sBO),e.Y36(Vn.Fj),e.Y36(Kn.l),e.Y36(H.o),e.Y36(ee._),e.Y36($n.Y),e.Y36(ne.BX),e.Y36(y.L),e.Y36(b.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-booking-passenger"]],viewQuery:function(t,i){if(1&t&&e.Gf(zn,5),2&t){let o;e.iGM(o=e.CRH())&&(i.parentSelectInfants=o)}},outputs:{formGroupChange:"formGroupChange"},standalone:!0,features:[e.jDz],decls:48,vars:9,consts:[[1,"h-full","justify-center","bg-white","rounded","shadow-cf-md","flex","flex-col","gap-y-3","p-6","md:p-2","md:px-3"],[1,"flex","flex-col","justify-center","gap-y-0","p-5"],[1,"flex","justify-center","items-center","md:items-center"],[1,"flex","items-center","w-[67%]","md:w-[90%]"],[1,"flex","flex-col"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-secondary-7-4","text-secondary-7-4","!bg-white"],["icon","check","size","small",1,"text-secondary-7-4"],[1,"absolute","w-[136px]","top-[130%]","text-[#2C2C2C]","text-body-md","md:max-w-[80px]","text-center"],[1,"flex-grow","h-[1px]","bg-secondary-7-4"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-secondary-7-4","text-neutral-white","!bg-secondary-7-4"],[1,"absolute","w-[140px]","top-[130%]","text-[#2C2C2C]","text-express-md","md:max-w-[80px]","text-center"],[1,"flex-grow","h-[1px]","bg-neutral-gray-3"],[1,"flex","flex-","col"],[1,"relative","z-10","flex-shrink-0","w-9","h-9","rounded-full","flex","items-center","justify-center","border","border-neutral-gray-3","text-neutral-gray-3","!bg-white"],[1,"absolute","w-[100px]","top-[130%]","text-neutral-gray-3","text-body-md","md:max-w-[80px]","text-center"],[1,"w-full","flex","gap-x-4","justify-center","p-2","mt-6"],[1,"h-full","w-full"],[1,"mb-8","md:mb-[1px]"],[1,"flex","justify-between","items-center","mb-6","gap-x-4","md:mb-0","md:bg-white","md:py-4"],["cf-button","","size","medium","type","secondary",1,"justify-center","w-full","bg-white","flex","gap-x-2","text-center",3,"click","keydown"],["icon","grouping","size","small"],["class","md:hidden w-full",4,"ngIf"],["class","hidden md:flex w-full",4,"ngIf"],[1,"py-3","px-4","bg-functional-1-1","flex","gap-x-2","mb-4","rounded","md:mt-4"],["icon","info","size","small",1,"text-functional-1-3"],[1,"text-body-md-short"],[1,"text-express-md"],[1,"block","gap-2","md:gap-[1px]"],[4,"ngFor","ngForOf"],["class","w-full flex gap-x-4 justify-center p-2 mt-6",4,"ngIf"],[4,"ngIf"],[1,"md:hidden","w-full"],["type","file","multiple","","accept","image/png, image/jpeg, image/jpg",1,"hidden",3,"change"],["multifileInput",""],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2","w-full","justify-center",3,"click"],[1,"hidden","md:flex","w-full"],["adultElement",""],[1,"w-full","hidden","md:block"],["contentClass","bg-neutral-white p-4 pt-0",3,"title","active"],["titleTemplate",""],[3,"ngTemplateOutlet"],[1,"p-6","bg-white","rounded","shadow-cf-md","md:hidden"],["adultPax",""],["class","text-heading-xs text-neutral-gray-6",4,"ngIf"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"flex","justify-between","items-center","mb-4"],["class","text-heading-xs text-black md:hidden",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],[1,"grid","grid-cols-3","gap-4","md:grid-cols-1"],[1,""],["textField","name","valueField","code","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"md:w-full","md:max-w-none",3,"status","data","allowSearch","formControl"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp h\u1ecd","type","text",3,"formControl","blur"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp t\xean \u0111\u1ec7m v\xe0 t\xean",3,"formControl","blur"],["cfHeadIcon","","icon","calendar","size","small"],[1,"text-neutral-gray-4","text-espressive-sm"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y sinh",1,"py-[7px]",3,"secondaryCalendar","displayMonths","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["class","border-t border-neutral-gray-1 mt-4",4,"ngIf"],[1,"w-full","border","border-neutral-gray-1"],[3,"title","active"],[1,"grow-[400]","!w-full"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean",3,"formControl"],[1,"text-heading-xs","text-black","md:hidden"],["type","file","accept","image/png, image/jpeg, image/jpg",1,"hidden",3,"change"],["fileInput",""],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2",3,"click"],["cfHint","",3,"hint"],[1,"border-t","border-neutral-gray-1","mt-4"],[1,"flex","flex-col","gap-y-1.5","pt-4"],["cfLabel","",1,"text-espressive-sm","text-black",3,"CfRequired"],[1,"flex","items-center","gap-x-8",3,"formControl","checkChange"],["size","medium",3,"disabled","value"],["size","medium",3,"value"],["class","grid grid-cols-2 gap-4 md:grid-cols-1",4,"ngIf"],["class","text-body-sm",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","CfNumberic","","placeholder","Nh\u1eadp s\u1ed1 c\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n",3,"formControl"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],["cf-input","","size","medium","autocomplete","off","CfAlphanumeric","","CfRemoveAccents","","placeholder","Nh\u1eadp s\u1ed1 h\u1ed9 chi\u1ebfu","type","text",3,"formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c t\u1ecbch",1,"md:w-full","md:max-w-none","!max-w-full",3,"status","data","allowSearch","formControl"],["textField","name","valueField","code","placeholder","Ch\u1ecdn n\u01a1i c\u1ea5p",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","status","allowSearch","formControl"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y c\u1ea5p",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","formControl","input","dateSelect"],["issuanceDatepicker","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y h\u1ebft h\u1ea1n",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","formControl","input","dateSelect"],["expiryDatepicker","cfDatepicker"],[1,"text-body-sm","mt-1.5"],[1,"text-body-sm"],[1,"text-body-md","flex","gap-x-2","items-center"],["icon","document","size","small"],["childElement",""],["childPax",""],["class","mb-4 text-heading-xs text-black md:hidden",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp h\u1ecd",3,"formControl","blur"],["autocomplete","off","cf-input","","size","medium","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean",3,"formControl"],[1,"mb-4","text-heading-xs","text-black","md:hidden"],[1,"text-heading-xs"],["infantElement",""],["infantPax",""],["textField","name","valueField","code","placeholder","Ch\u1ecdn h\xe0nh kh\xe1ch",1,"md:w-full","md:max-w-none",3,"status","data","allowSearch","formControl"],["parentSelectInfant",""],[1,"flex","justify-between","items-center","mb-4","md:py-4","md:pr-3","md:mb-0"],[1,"flex","gap-x-[20px]"],[1,"w-1","bg-primary-2-4"],[1,"text-heading-md","md:text-heading-sm","md:text-neutral-gray-6"],[1,"p-6","bg-white","rounded","shadow-cf-md"],["data-id","areaCode",1,"md:start"],["textField","name","valueField","code","placeholder","Ch\u1ecdn m\xe3 v\xf9ng",1,"md:!max-w-full",3,"status","data","allowSearch","formControl","selectedChange"],["data-id","phone",1,""],[1,"grow-[400]","!w-full",3,"tooltipContent","status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i","CfNumberic","",3,"formControl","input"],[1,"mt-4","text-body-md","text-black","text-center","px-4"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span"),e._UZ(7,"cf-icon",6),e.qZA(),e.TgZ(8,"div",7),e._uU(9,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()()(),e._UZ(10,"div",8),e.TgZ(11,"div",4)(12,"div",9)(13,"span"),e._uU(14,"2"),e.qZA(),e.TgZ(15,"div",10),e._uU(16,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()()(),e._UZ(17,"div",11),e.TgZ(18,"div",12)(19,"div",13)(20,"span"),e._uU(21,"3"),e.qZA(),e.TgZ(22,"div",14),e._uU(23,"C\u1ea5u h\xecnh s\u0103n v\xe9"),e.qZA()()()()()(),e.TgZ(24,"div",15)(25,"div",16)(26,"div",17)(27,"div",18)(28,"button",19),e.NdJ("click",function(){return i.quickParseInfo()})("keydown",function(s){return i.onKeydown(s)}),e._UZ(29,"cf-icon",20),e.TgZ(30,"span"),e._uU(31,"Nh\u1eadp nhanh th\xf4ng tin"),e.qZA()(),e.YNc(32,Ln,5,0,"div",21),e.qZA(),e.YNc(33,Xn,5,0,"div",22),e.TgZ(34,"div",23),e._UZ(35,"cf-icon",24),e.TgZ(36,"div",25),e._uU(37," \u0110\u1ec3 ti\u1ec7n thao t\xe1c, h\u1ec7 th\u1ed1ng m\u1eb7c \u0111\u1ecbnh ng\xe0y sinh ADT l\xe0 "),e.TgZ(38,"span",26),e._uU(39),e.qZA(),e._uU(40,". Tuy nhi\xean, h\xe3ng c\u1ea7n ng\xe0y sinh ch\xednh x\xe1c \u0111\u1ec3 h\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng khi c\xf3 s\u1ef1 c\u1ed1. H\xe3y nh\u1eadp \u0111\xfang ng\xe0y sinh \u0111\u1ec3 \u0111\u1ea3m b\u1ea3o h\u1ed7 tr\u1ee3 t\u1ed1t nh\u1ea5t. "),e.qZA()(),e.TgZ(41,"div",27),e.YNc(42,Zi,11,4,"div",28),e.YNc(43,to,11,4,"ng-container",28),e.YNc(44,So,11,4,"ng-container",28),e.qZA()()()()(),e.YNc(45,Po,26,15,"div",29),e.YNc(46,Ho,1,0,"cf-spinner",30),e.YNc(47,Ro,3,0,"cf-spinner",30)),2&t&&(e.xp6(32),e.Q6J("ngIf",i.canExtractImageToDocument),e.xp6(1),e.Q6J("ngIf",i.canExtractImageToDocument),e.xp6(6),e.Oqu(i.defaultBirthdayAdt),e.xp6(3),e.Q6J("ngForOf",i.getFormArray("adultPassenger").controls),e.xp6(1),e.Q6J("ngForOf",i.getFormArray("childPassenger").controls),e.xp6(1),e.Q6J("ngForOf",i.getFormArray("infantPassenger").controls),e.xp6(1),e.Q6J("ngIf",i.hasVJAirline),e.xp6(1),e.Q6J("ngIf",i.loading),e.xp6(1),e.Q6J("ngIf",i.isExtractingDocument))},dependencies:[_.AxE,_.Sm8,f.ez,f.sg,f.O5,f.tP,I.OR,F.j$,F.ND,F.BN,F.v2,D.N8,D.Xq,b.DW,Ne.B,Ne.K,j.q,x.UX,x.Fj,x.JJ,x.oH,W.C,p.Cs,Yn.z,Be.o,Be.T,jn.j],encapsulation:2}),n})();var ie=g(76978),Je=g(52013);function Mo(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"div",24),e.TgZ(2,"div",25)(3,"div",26)(4,"div",27)(5,"span"),e._uU(6,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA()()(),e.TgZ(7,"div",28)(8,"div",58),e._UZ(9,"img",59),e.TgZ(10,"div",60)(11,"div",61)(12,"div",62),e._uU(13),e.qZA()()()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(9),e.Q6J("src",t.agentAvatar||"https://cheapflighttest.s3.ap-southeast-1.amazonaws.com/avarta-default.jpg",e.LSH),e.xp6(4),e.Oqu(t.agentName)}}function Qo(n,r){if(1&n&&(e.TgZ(0,"span",65),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.start+" - "+t.end," ")}}function Yo(n,r){if(1&n&&(e.TgZ(0,"div",63),e.YNc(1,Qo,2,1,"span",64),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.startTimeRanges)}}function jo(n,r){1&n&&(e.TgZ(0,"div",63)(1,"span",65),e._uU(2," 00:00 - 23:59 "),e.qZA()())}function Go(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Vo(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",43),e._UZ(2,"img",68),e.TgZ(3,"div",29),e._uU(4),e.ALo(5,"replace"),e.ALo(6,"number"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.Dn7(5,1,e.lcZ(6,5,t.targetVNPrice),",",".")," \u0111")}}function Ko(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",43),e._UZ(2,"img",69),e.TgZ(3,"div",29),e._uU(4),e.ALo(5,"replace"),e.ALo(6,"number"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.Dn7(5,1,e.lcZ(6,5,t.targetQHPrice),",",".")," \u0111")}}function $o(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",43),e._UZ(2,"img",70),e.TgZ(3,"div",29),e._uU(4),e.ALo(5,"replace"),e.ALo(6,"number"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.Dn7(5,1,e.lcZ(6,5,t.targetVJPrice),",",".")," \u0111")}}function zo(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Vo,7,7,"div",66),e.YNc(2,Ko,7,7,"div",66),e.YNc(3,$o,7,7,"div",66),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.targetVNPrice>0),e.xp6(1),e.Q6J("ngIf",t.targetQHPrice>0),e.xp6(1),e.Q6J("ngIf",t.targetVJPrice>0)}}function Lo(n,r){1&n&&(e.TgZ(0,"div",29)(1,"div"),e._uU(2,"B\u1ea5t k\xec"),e.qZA()())}function Xo(n,r){if(1&n&&(e.TgZ(0,"div",67)(1,"div",43),e._UZ(2,"img",73),e.TgZ(3,"div",29),e._uU(4),e.TgZ(5,"span",74),e._uU(6),e.qZA()()()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",t.icon,e.LSH),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij("(",t.code,")")}}function Wo(n,r){if(1&n&&(e.TgZ(0,"div",79),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function er(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Wo,2,1,"div",78),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function tr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,er,2,1,"ng-container",39),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}const nr=function(n){return{"w-full":n}};function ir(n,r){if(1&n&&(e.TgZ(0,"div",76)(1,"div",77),e._uU(2),e.qZA(),e.YNc(3,tr,2,1,"ng-container",23),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(3,nr,t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)),e.xp6(2),e.hij(" ",t.name,""),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function or(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ir,4,5,"div",75),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function rr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,or,2,1,"ng-container",39),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function ar(n,r){if(1&n&&(e.ynx(0),e.YNc(1,rr,2,1,"ng-container",39),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function sr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Xo,7,3,"div",66),e.TgZ(2,"div",72),e.YNc(3,ar,2,1,"ng-container",23),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive),e.xp6(2),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function cr(n,r){if(1&n&&(e.TgZ(0,"div",71),e.YNc(1,sr,4,2,"ng-container",39),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.dataServiceInstant().selectedFaresTree)}}function lr(n,r){1&n&&(e.ynx(0),e._UZ(1,"div",24),e.TgZ(2,"div",30)(3,"div",26)(4,"div",27)(5,"span"),e._uU(6,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n"),e.qZA()()(),e.TgZ(7,"div",34),e._uU(8," Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n s\u0103n v\xe9 "),e.qZA()(),e.BQk())}function ur(n,r){if(1&n&&(e.TgZ(0,"div",86),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.AsE("","("+t.infant.gender+") "+t.infant.name," - ",t.infant.birthday,"")}}function _r(n,r){if(1&n&&(e.TgZ(0,"div",82)(1,"div",83),e._uU(2),e.qZA(),e.TgZ(3,"div",84)(4,"div",83),e._uU(5),e.qZA(),e.YNc(6,ur,2,2,"div",85),e.qZA()()),2&n){const t=e.oxw(),i=t.index,o=t.$implicit;e.xp6(2),e.hij("",i+1,"."),e.xp6(3),e.Oqu("("+o.gender+") "+o.name),e.xp6(1),e.Q6J("ngIf",o.infant)}}function dr(n,r){1&n&&e._UZ(0,"div",87)}function pr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,_r,7,3,"div",80),e.YNc(2,dr,1,0,"div",81),e.BQk()),2&n){const t=r.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<5||t>=5&&i.isShowMore),e.xp6(1),e.Q6J("ngIf",!(t===i.displayPassengers.length-1||t>=4&&!i.isShowMore))}}function gr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",88),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onToggleShowMorePassenger())}),e._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),e.qZA()}}function mr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onToggleShowMorePassenger())}),e._uU(1,"\u1ea8n b\u1edbt"),e.qZA()}}function fr(n,r){1&n&&(e.TgZ(0,"div",90),e._uU(1,"B\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u n\xe0y"),e.qZA())}function hr(n,r){if(1&n&&(e.TgZ(0,"div",90),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("N\u1ebfu s\u0103n \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ",e.lcZ(2,1,t.availableInfo.amountPerPax)," \u0111 ph\xed d\u1ecbch v\u1ee5 ")}}function vr(n,r){if(1&n&&(e.TgZ(0,"div",92)(1,"span",93),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",94),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function xr(n,r){if(1&n&&(e.TgZ(0,"div",92)(1,"span"),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",94),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function Tr(n,r){if(1&n&&(e.YNc(0,vr,5,3,"div",91),e.YNc(1,xr,5,3,"div",91)),2&n){const t=e.oxw();e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free)}}function Er(n,r){1&n&&e._UZ(0,"cf-spinner")}let Te=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E){this.route=t,this._cfRegister=i,this._permissionService=o,this._modal=s,this._route=a,this._cd=c,this._ref=l,this._requestDataService=d,this._bookingHunterService=u,this._toastService=m,this._locationData=v,this._eventLogService=Z,this._ticketLowFareService=E,this.isLoading=!1,this.showTimeStartOption=!1,this.isShowMore=!1,this.isAgentShow=!1,this.defaultBirthdayAdt=q.H_,this.CF_IDENTIFY_TYPE=q.FV,i.registerIcons([_.xgX,_.Ey$,_.tLH,_.xbi,_.TM4,_.okA,_.TOh,_.o1t,_.PSW,_.tLH,_.NNX,_.PcQ]),this.availableInfo=d.availableInfo,this.availableSlotData={available:this.availableInfo.free,type:this.availableInfo.type,amount:this.availableInfo.type===J.G.DOWN_FARE_TICKET?this.availableInfo.percent:this.availableInfo.amountPerPax,currency:this.availableInfo.type===J.G.DOWN_FARE_TICKET?this.availableInfo.currency:"\u0111"}}ngOnInit(){this.isAgentShow=this._requestDataService.isAgent2Show(),this.agentName=this._requestDataService.formConfigurationData().agentDisplayName,this.agentAvatar=this._requestDataService.formConfigurationData().agentAvatar,this.startPoint=this._locationData.getCityNameByCode(this._requestDataService.formJourneyData().startPoint)+` (${this._requestDataService.formJourneyData().startPoint})`,this.endPoint=this._locationData.getCityNameByCode(this._requestDataService.formJourneyData().endPoint)+` (${this._requestDataService.formJourneyData().endPoint})`,this.departDate=h(this._requestDataService.formJourneyData().departDate).format("DD/MM/YYYY"),this.enableFareOption=this._requestDataService.formJourneyData().enableFareOption,this.enablePriceOption=this._requestDataService.formJourneyData().enablePriceOption,this.targetVNPrice=this._requestDataService.formJourneyData().targetVNPrice||void 0,this.targetQHPrice=this._requestDataService.formJourneyData().targetQHPrice||void 0,this.targetVJPrice=this._requestDataService.formJourneyData().targetVJPrice||void 0,this.notifBeforExpire=this._requestDataService.formConfigurationData().sendNotify,this.startTimeRanges=this._requestDataService.formJourneyData().startTimeRange?this._requestDataService.formJourneyData().startTimeRange.map(t=>({start:t.start,end:t.end})):[],this.passengers=this.proccessingPassengerInfo(),this.mappingBoardingPassData(),this.selectedFares=this._requestDataService.formJourneyData().fareOptions,this.timeExecute=h(this._requestDataService.formConfigurationData().dateExpires).format("DD/MM/YYYY")+" "+this._requestDataService.formConfigurationData().timeExpires,this.showTimeStartOption=this._requestDataService.showTimeStartOption}validateRequest(){console.log("")}onRequestConfirm(){console.log("")}canShowFareOptions(){return this.selectedFares&&this.selectedFares.length>0}close(){this._ref.close(!1)}submit(){const t=()=>{const i=this.initFormSubmit();this._eventLogService.captureRegisterHuntFare({from:i.journeys.startPoint,to:i.journeys.endPoint,depart_date:i.journeys.departDate,source:this._requestDataService.getSourceEvent(),airlines:i.conditions.type===N.$.FARE?i.conditions.specifyFareClassList.map(o=>o.airline).join(","):i.conditions.specifyPriceList.map(o=>o.airline).join(","),mode:i.conditions.type===N.$.FARE?1:0,owner:i.ownerName}),this.isLoading=!0,this._bookingHunterService.registerHuntBooking(i).pipe((0,M.x)(()=>this.isLoading=!1)).subscribe({next:o=>{var s,a;if("OK"===o.status){let c="",l="";this.availableInfo.free?(l="well_done",c=`<div>Ch\xfac m\u1eebng b\u1ea1n, b\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${o.data.code}</strong>. Ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n khi c\xf3 c\u1eadp nh\u1eadt m\u1edbi nh\u1ea5t.</div>`):(l="success",c=`<div>Y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${o.data.code}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o. Ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n khi c\xf3 c\u1eadp nh\u1eadt m\u1edbi nh\u1ea5t.</div>`),this._modal.open(Je.V,{title:"T\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 th\xe0nh c\xf4ng",content:c,status:l,cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch"}).afterClosed$.subscribe({next:u=>{u.data&&(this._route.navigate(["admin/manage-booking-hunter"]),this._ref.close(!0))}})}else if("TPS-TLF12"===o.objectError.errorCode)this._requestDataService.availableInfo.free=!1,this.availableInfo=this._requestDataService.availableInfo,this._modal.open(I.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"B\u1ea1n \u0111\xe3 \u0111\u1ea1t gi\u1edbi h\u1ea1n 2 y\xeau c\u1ea7u mi\u1ec5n ph\xed. Y\xeau c\u1ea7u n\xe0y l\xe0 c\xf3 <strong>Thu ph\xed</strong>. B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c y\xeau c\u1ea7u s\u0103n v\xe9 kh\xf4ng?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:l=>{l.data&&t()}});else{let c;c="TPS-TLF008"===o.objectError.errorCode?"\u0110\xe3 \u0111\u1ea1t gi\u1edbi h\u1ea1n s\u0103n v\xe9 t\u1ed1i \u0111a":"C\xf3 l\u1ed7i x\u1ea3y ra";const l=(null===(a=null===(s=o.objectError)||void 0===s?void 0:s.errorDescription)||void 0===a?void 0:a.vi)||"Kh\xf4ng th\u1ec3 t\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 ngay l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.";this._modal.open(Je.V,{title:c,content:l,status:"error",cancelText:"\u0110\xf3ng",okText:"Qu\u1ea3n l\xfd s\u0103n v\xe9"}).afterClosed$.subscribe({next:u=>{u.data&&(this._route.navigate(["admin/manage-booking-hunter"]),this._ref.close(!0))}})}},error:o=>{this._modal.open(I.z5,{title:"C\xf3 l\u1ed7i x\u1ea3y ra",content:"<div>Kh\xf4ng th\u1ec3 t\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 ngay l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.</div>",status:"error",cancelText:"\u0110\xf3ng"})}})};t()}dataServiceInstant(){return this._requestDataService}initFormSubmit(){var t,i,o,s;const a=this._requestDataService.formJourneyData(),l=(this._requestDataService.formPassengerData(),this._requestDataService.formConfigurationData());let d={advanceSetting:{notifBeforExpire:l.sendNotify,timeExecute:h(l.dateExpires).format("YYYY-MM-DD")+"T"+l.timeExpires+":00"},conditions:{specifyFareClassList:this.enableFareOption&&(null===(t=this._requestDataService.selectedFaresTree)||void 0===t?void 0:t.filter(u=>u.isActive).map(u=>{const m=u.childItems.flatMap(v=>v.childItems).filter(v=>v.isActive).flatMap(v=>v.childItems).filter(v=>v.isActive).flatMap(v=>v.code);return{airline:u.code.toUpperCase(),fareClass:m.join(";")}}))||[],specifyPriceList:[{airline:"VN",targetPrice:this.enablePriceOption&&a.targetVNPrice||0},{airline:"QH",targetPrice:this.enablePriceOption&&a.targetQHPrice||0},{airline:"VJ",targetPrice:this.enablePriceOption&&a.targetVJPrice||0}].filter(u=>u.targetPrice),type:this._requestDataService.showFareOption?"FARE":"PRICE"},journeys:{departDate:h(a.departDate).format("YYYY-MM-DD")+"T00:00:00",endPoint:a.endPoint,rangeTime:a.startTimeRange&&this._requestDataService.showTimeStartOption?null===(i=a.startTimeRange)||void 0===i?void 0:i.map(u=>({fromDate:u.start,toDate:u.end})):[{fromDate:"00:00",toDate:"23:59"}],allRangeTime:!this._requestDataService.showTimeStartOption,startPoint:a.startPoint},passengers:this.proccessingPassengerInfo(),stateClientFree:this.availableInfo.free||!1};if(l.agentId){const u=(null===(s=null===(o=this.passengers)||void 0===o?void 0:o.find(m=>"ADT"===m.type))||void 0===s?void 0:s.firstName)||"";d.ownerId=l.agentId,d.ownerName=l.agentName||"",d.bookingContact={email:l.agentEmail||"",name:u.replace(/[^a-zA-Z]/g,"")||"",phone:l.agentPhone||"",phoneArea:l.agentPhoneArea}}return d}proccessingPassengerInfo(){const t=this._requestDataService.formPassengerData();return[...t.adultPassenger.map((a,c)=>{var l,d,u,m,v,Z,E;const k=[];return a.membershipQH&&k.push({airline:"QH",membershipID:a.membershipQH}),a.membershipVN&&k.push({airline:"VN",membershipID:a.membershipVN}),{birthday:a.birthday?h(a.birthday).format("YYYY-MM-DD"):h(new Date(this.defaultBirthdayAdt)).format("YYYY-MM-DD"),email:"",firstName:null===(l=a.firstName)||void 0===l?void 0:l.trim(),gender:(null===(d=a.gender)||void 0===d?void 0:d.toUpperCase())||"",lastName:null===(u=a.lastName)||void 0===u?void 0:u.trim(),parentIndex:0,type:"ADT",index:c,loyalInfo:k,documentInfo:a.documentType!==q.FV.NON_IDENTIFY?[{documentType:a.documentType,issuanceDate:a.issuanceDate?h(a.issuanceDate).format("YYYY-MM-DD"):"",expiryDate:a.expiryDate?h(a.expiryDate).format("YYYY-MM-DD"):"",issuanceCountry:(null===(m=a.issuanceCountry)||void 0===m?void 0:m.trim())||"",nationality:(null===(v=a.nationality)||void 0===v?void 0:v.trim())||"",number:a.documentType===q.FV.CCCD?(null===(Z=a.cccdNumber)||void 0===Z?void 0:Z.trim())||"":(null===(E=a.number)||void 0===E?void 0:E.trim())||""}]:[],setDefaultDocument:a.documentType===q.FV.NON_IDENTIFY,defaultDocumentType:a.documentType===q.FV.NON_IDENTIFY?q.FV.CCCD:null}}),...t.childPassenger.map((a,c)=>{var l,d,u;const m=c+t.adultPassenger.length,v=[];return a.membershipQH&&v.push({airline:"QH",membershipID:a.membershipQH}),a.membershipVN&&v.push({airline:"VN",membershipID:a.membershipVN}),{birthday:h(a.birthday).format("YYYY-MM-DD"),email:"",firstName:null===(l=a.firstName)||void 0===l?void 0:l.trim(),gender:(null===(d=a.gender)||void 0===d?void 0:d.toUpperCase())||"",lastName:null===(u=a.lastName)||void 0===u?void 0:u.trim(),parentIndex:0,type:"CHD",index:m,loyalInfo:v,documentInfo:[],defaultDocumentType:null,setDefaultDocument:!1}}),...t.infantPassenger.map((a,c)=>{var l,d,u;const m=[];return a.membershipQH&&m.push({airline:"QH",membershipID:a.membershipQH}),a.membershipVN&&m.push({airline:"VN",membershipID:a.membershipVN}),{birthday:h(a.birthday).format("YYYY-MM-DD"),email:"",firstName:null===(l=a.firstName)||void 0===l?void 0:l.trim(),gender:(null===(d=a.gender)||void 0===d?void 0:d.toUpperCase())||"",lastName:null===(u=a.lastName)||void 0===u?void 0:u.trim(),parentIndex:+a.parentIndex,type:"INF",index:0,loyalInfo:m,documentInfo:[],defaultDocumentType:null,setDefaultDocument:!1}})]}mappingBoardingPassData(){const t=[];this.passengers.forEach(i=>{var o,s;if("INF"!==i.type){const a={name:i.lastName+" "+i.firstName,key:i.index||"",type:i.type,gender:"MALE"===(null===(o=i.gender)||void 0===o?void 0:o.toUpperCase())?"MR":"MRS"};t.push(a)}else{const a=t.find(l=>l.key===i.parentIndex),c={name:i.lastName+" "+i.firstName,type:i.type,gender:"MALE"===(null===(s=i.gender)||void 0===s?void 0:s.toUpperCase())?"B\xc9 TRAI":"B\xc9 G\xc1I",parentKey:i.parentIndex||"",birthday:i.birthday?h(i.birthday).format("DD/MM/YYYY"):""};a?a.infant=c:t[0].infant=c}}),this.displayPassengers=t}onToggleShowMorePassenger(){this.isShowMore=!this.isShowMore}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(_.KNP),e.Y36(U.$A),e.Y36(P.oE),e.Y36(w.F0),e.Y36(e.sBO),e.Y36(P.gb),e.Y36(T.FH),e.Y36(T.yL),e.Y36(ne.BX),e.Y36(ee._),e.Y36($.x),e.Y36(G.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-hunter-confirm-modal"]],standalone:!0,features:[e.jDz],decls:120,vars:21,consts:[[1,"w-[700px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"px-6","pt-6","w-full","h-full","flex-1","overflow-auto","flex","flex-col","gap-y-6"],[1,"flex","flex-col","gap-y-2.5"],[1,"flex","items-center","text-heading-sm","text-neutral-black","gap-x-2"],["icon","plane","size","small"],[1,"text-heading-sm","text-neutral-black"],[1,"border","border-dashed","border-[#ccc]","rounded-lg","p-4"],[1,"flex","justify-center","gap-x-3","bg-[#FAFAFA]","px-3","py-2"],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center"],[1,"items-center","w-[100px]","md:w-[75px]"],[1,"text-center","text-express-sm","text-neutral-gray-4"],[1,"flex","items-center"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]","cf-icon-small"],[1,"flex","items-center","gap-x-2","mb-2","justify-start"],["icon","calendar","size","small",1,"cf-icon-small"],[1,"text-body-md","text-neutral-black"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center","mb-3"],[4,"ngIf"],[1,"w-full","h-[1px]","bg-neutral-gray-1","mb-2"],[1,"flex","justify-items-start","mt-2","py-2"],[1,"flex","items-center","gap-x-[4px]","w-[40%]"],[1,"text-body-md"],[1,"w-[60%]"],[1,"text-express-md"],[1,"flex","justify-items-start","py-2"],[1,"flex","items-start","gap-x-[4px]","w-[40%]"],[1,"text-body-md","py-2"],["class","flex flex-wrap w-[60%] gap-2",4,"ngIf"],[1,"w-[60%]","text-express-md"],["class","text-express-md",4,"ngIf"],["class","w-full flex flex-wrap gap-2",4,"ngIf"],["icon","users","size","small"],[1,"border","border-dashed","border-neutral-gray-2","rounded-lg","p-3","flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],["class","w-full text-center !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4","type","secondary",3,"click",4,"ngIf"],["class","w-full text-center !pt-2 !outline-none !outline-transparent !text-express-md text-blue-4","type","secondary",3,"click",4,"ngIf"],[1,"flex","items-center","justify-between","gap-x-2"],[1,"flex","items-center","gap-x-2"],["icon","coupon","size","small",1,"inline-block"],[3,"availableSlotData","content"],["class","text-body-md pl-6 text-neutral-gray-4",4,"ngIf"],[1,"mb-4","flex","items-center","gap-x-2"],["icon","circle_information","size","small"],[1,"mb-4","flex","items-center","gap-x-2","text-body-md-short"],["icon","money","size","small"],["icon","document_check","size","small"],[1,"text-secondary-3-4"],[1,"w-full","p-6","flex","justify-end","gap-x-2"],["cf-button","","size","medium","type","secondary",1,"bg-white","float-right",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center","float-right",3,"click"],["icon","circle_check","size","small",1,"ml-2.5"],["availableSlotFeeRef",""],[1,"flex","items-center","gap-x-2","w-full"],[1,"w-6","h-6","rounded-full","object-cover",3,"src"],[1,"flex","flex-col"],[1,"flex","items-center","gap-x-1"],[1,"text-body-md-short","text-neutral-gray-6"],[1,"flex","flex-wrap","w-[60%]","gap-2"],["class","bg-neutral-gray-1 text-express-md p-2",4,"ngFor","ngForOf"],[1,"bg-neutral-gray-1","text-express-md","p-2"],["class","text-body-md text-neutral-black w-full",4,"ngIf"],[1,"text-body-md","text-neutral-black","w-full"],["src","assets/icons/vn-icon.svg",1,"w-6","h-6","object-contain"],["src","assets/icons/qh-icon.svg",1,"w-6","h-6","object-contain"],["src","assets/icons/vj-icon.svg",1,"w-6","h-6","object-contain"],[1,"w-full","flex","flex-wrap","gap-2"],[1,"flex","flex-wrap","ml-6","gap-2"],[1,"w-6","h-6","object-contain",3,"src"],[1,"uppercase"],["class","flex flex-wrap gap-2",3,"ngClass",4,"ngIf"],[1,"flex","flex-wrap","gap-2",3,"ngClass"],[1,"border","border-neutral-gray-5","rounded","text-espressive-sm","p-1"],["class","border border-neutral-gray-1 rounded bg-[#F2F2F2] text-espressive-sm p-1",4,"ngIf"],[1,"border","border-neutral-gray-1","rounded","bg-[#F2F2F2]","text-espressive-sm","p-1"],["class","flex gap-x-2",4,"ngIf"],["class","w-full h-[1px] bg-neutral-gray-1",4,"ngIf"],[1,"flex","gap-x-2"],[1,"text-espressive-md"],[1,"flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngIf"],[1,"text-body-sm"],[1,"w-full","h-[1px]","bg-neutral-gray-1"],["type","secondary",1,"w-full","text-center","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4",3,"click"],["type","secondary",1,"w-full","text-center","!pt-2","!outline-none","!outline-transparent","!text-express-md","text-blue-4",3,"click"],[1,"text-body-md","pl-6","text-neutral-gray-4"],["class","inline-flex gap-x-1 items-center text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"inline-flex","gap-x-1","items-center","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"],[1,"line-through"],["icon","circle_help","size","small",1,"text-neutral-white"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"X\xe1c nh\u1eadn y\xeau c\u1ea7u s\u0103n v\xe9"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"div",5)(7,"div",6),e._UZ(8,"cf-icon",7),e.TgZ(9,"span",8),e._uU(10,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"div")(14,"div",11)(15,"div",12)(16,"span"),e._uU(17),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14),e._uU(20,"Bay th\u1eb3ng"),e.qZA(),e.TgZ(21,"div",15),e._UZ(22,"div",16)(23,"div",17)(24,"cf-icon",18),e.qZA()()(),e.TgZ(25,"div",19),e._UZ(26,"cf-icon",20),e.TgZ(27,"div",21),e._uU(28),e.qZA()()(),e.TgZ(29,"div")(30,"div",22)(31,"span"),e._uU(32),e.qZA()(),e.TgZ(33,"div",19),e._UZ(34,"cf-icon",20),e.TgZ(35,"div",21),e._uU(36),e.qZA()()()(),e.YNc(37,Mo,14,2,"ng-container",23),e._UZ(38,"div",24),e.TgZ(39,"div",25)(40,"div",26)(41,"div",27)(42,"span"),e._uU(43,"H\u1ea1n s\u0103n v\xe9"),e.qZA()()(),e.TgZ(44,"div",28)(45,"span",29),e._uU(46),e.qZA()()(),e._UZ(47,"div",24),e.TgZ(48,"div",30)(49,"div",31)(50,"div",32)(51,"span"),e._uU(52,"Gi\u1edd kh\u1edfi h\xe0nh"),e.qZA()()(),e.YNc(53,Yo,2,1,"div",33),e.YNc(54,jo,3,0,"div",33),e.qZA(),e._UZ(55,"div",24),e.TgZ(56,"div",30)(57,"div",31)(58,"div",32)(59,"span"),e._uU(60,"M\u1ee9c gi\xe1 t\u1ed1i \u0111a"),e.qZA()()(),e.TgZ(61,"div",34),e.YNc(62,Go,2,0,"span",23),e.YNc(63,zo,4,3,"div",23),e.qZA()(),e._UZ(64,"div",24),e.TgZ(65,"div",30)(66,"div",31)(67,"div",27)(68,"span"),e._uU(69,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n"),e.qZA()()(),e.TgZ(70,"div",28),e.YNc(71,Lo,3,0,"div",35),e.YNc(72,cr,2,1,"div",36),e.qZA()(),e.YNc(73,lr,9,0,"ng-container",23),e.qZA()(),e.TgZ(74,"div",5)(75,"div",6),e._UZ(76,"cf-icon",37),e.TgZ(77,"span",8),e._uU(78,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(79,"div",38),e.YNc(80,pr,3,2,"ng-container",39),e.YNc(81,gr,2,0,"button",40),e.YNc(82,mr,2,0,"button",41),e.qZA()(),e.TgZ(83,"div")(84,"div",42)(85,"div",43),e._UZ(86,"cf-icon",44),e.TgZ(87,"span",8),e._uU(88,"Ph\xed y\xeau c\u1ea7u"),e.qZA()(),e._UZ(89,"tooltip-available-slot",45),e.qZA(),e.YNc(90,fr,2,0,"div",46),e.YNc(91,hr,3,3,"div",46),e.qZA(),e.TgZ(92,"div",5)(93,"div",47),e._UZ(94,"cf-icon",48),e.TgZ(95,"span",8),e._uU(96,"M\u1ed9t s\u1ed1 l\u01b0u \xfd"),e.qZA()(),e.TgZ(97,"div",49),e._UZ(98,"cf-icon",50),e.TgZ(99,"div")(100,"span",29),e._uU(101,"B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng s\u0103n \u0111\u01b0\u1ee3c v\xe9."),e.qZA(),e._uU(102," C\xf3 th\u1ec3 h\u1ee7y s\u0103n v\xe9 b\u1ea5t k\xec l\xfac n\xe0o! "),e.qZA()(),e.TgZ(103,"div",49),e._UZ(104,"cf-icon",51),e.TgZ(105,"div",29),e._uU(106,"B\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi "),e.TgZ(107,"span",52),e._uU(108,"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"),e.qZA(),e._uU(109," khi s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y. "),e.qZA()()()(),e.TgZ(110,"div",53)(111,"button",54),e.NdJ("click",function(){return i.close()}),e._uU(112," \u0110\xf3ng "),e.qZA(),e.TgZ(113,"button",55),e.NdJ("click",function(){return i.submit()}),e.TgZ(114,"span"),e._uU(115,"X\xe1c nh\u1eadn"),e.qZA(),e._UZ(116,"cf-icon",56),e.qZA()()(),e.YNc(117,Tr,2,2,"ng-template",null,57,e.W1O),e.YNc(119,Er,1,0,"cf-spinner",23)),2&t){const o=e.MAs(118);e.xp6(17),e.hij("",i.startPoint," "),e.xp6(11),e.Oqu(i.departDate),e.xp6(4),e.hij(" ",i.endPoint," "),e.xp6(4),e.Oqu(i.departDate),e.xp6(1),e.Q6J("ngIf",!i.isAgentShow),e.xp6(9),e.Oqu(i.timeExecute),e.xp6(7),e.Q6J("ngIf",i.showTimeStartOption),e.xp6(1),e.Q6J("ngIf",!i.showTimeStartOption),e.xp6(8),e.Q6J("ngIf",!i.enablePriceOption),e.xp6(1),e.Q6J("ngIf",i.enablePriceOption),e.xp6(8),e.Q6J("ngIf",!i.enableFareOption),e.xp6(1),e.Q6J("ngIf",i.enableFareOption),e.xp6(1),e.Q6J("ngIf",i.notifBeforExpire),e.xp6(7),e.Q6J("ngForOf",i.displayPassengers),e.xp6(1),e.Q6J("ngIf",i.displayPassengers.length>5&&!i.isShowMore),e.xp6(1),e.Q6J("ngIf",i.displayPassengers.length>5&&i.isShowMore),e.xp6(7),e.Q6J("availableSlotData",i.availableSlotData)("content",o),e.xp6(1),e.Q6J("ngIf",i.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!i.availableInfo.free),e.xp6(28),e.Q6J("ngIf",i.isLoading)}},dependencies:[_.AxE,_.Sm8,f.ez,f.mk,f.sg,f.O5,f.JJ,ie.AS,I.OR,F.j$,D.N8,D.Xq,b.DW,K._],encapsulation:2}),n})();function br(n,r){if(1&n&&(e.ynx(0),e._UZ(1,"div",20),e.TgZ(2,"div",21)(3,"div",22),e._uU(4," Thu\u1ed9c \u0111\u1ea1i l\xfd "),e.qZA(),e.TgZ(5,"div",55),e._UZ(6,"img",56),e.TgZ(7,"div",57)(8,"div",58)(9,"div",59),e._uU(10),e.qZA()()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(6),e.Q6J("src",t.agentAvatar||"https://cheapflighttest.s3.ap-southeast-1.amazonaws.com/avarta-default.jpg",e.LSH),e.xp6(4),e.Oqu(t.agentName)}}function yr(n,r){if(1&n&&(e.TgZ(0,"span",62),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.start+" - "+t.end," ")}}function Cr(n,r){if(1&n&&(e.TgZ(0,"div",60),e.YNc(1,yr,2,1,"span",61),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.startTimeRanges)}}function Zr(n,r){1&n&&(e.TgZ(0,"div",60)(1,"span",62),e._uU(2," 00:00 - 23:59 "),e.qZA()())}function Ar(n,r){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Dr(n,r){if(1&n&&(e.TgZ(0,"div",64)(1,"div",38),e._UZ(2,"img",65),e.TgZ(3,"div",45),e._uU(4),e.ALo(5,"replace"),e.ALo(6,"number"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.Dn7(5,1,e.lcZ(6,5,t.targetVNPrice),",",".")," \u0111")}}function qr(n,r){if(1&n&&(e.TgZ(0,"div",64)(1,"div",38),e._UZ(2,"img",66),e.TgZ(3,"div",45),e._uU(4),e.ALo(5,"replace"),e.ALo(6,"number"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.Dn7(5,1,e.lcZ(6,5,t.targetQHPrice),",",".")," \u0111")}}function kr(n,r){if(1&n&&(e.TgZ(0,"div",64)(1,"div",38),e._UZ(2,"img",67),e.TgZ(3,"div",45),e._uU(4),e.ALo(5,"replace"),e.ALo(6,"number"),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij(" ",e.Dn7(5,1,e.lcZ(6,5,t.targetVJPrice),",",".")," \u0111")}}function Ir(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Dr,7,7,"div",63),e.YNc(2,qr,7,7,"div",63),e.YNc(3,kr,7,7,"div",63),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.targetVNPrice>0),e.xp6(1),e.Q6J("ngIf",t.targetQHPrice>0),e.xp6(1),e.Q6J("ngIf",t.targetVJPrice>0)}}function Fr(n,r){1&n&&(e.TgZ(0,"div",45)(1,"div"),e._uU(2,"B\u1ea5t k\xec"),e.qZA()())}function Sr(n,r){if(1&n&&(e.TgZ(0,"div",64)(1,"div",38),e._UZ(2,"img",70),e.TgZ(3,"div",45),e._uU(4),e.TgZ(5,"span",71),e._uU(6),e.qZA()()()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",t.icon,e.LSH),e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij("(",t.code,")")}}function Nr(n,r){if(1&n&&(e.TgZ(0,"div",76),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Br(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Nr,2,1,"div",75),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function wr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Br,2,1,"ng-container",33),e.BQk()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}const Ur=function(n){return{"w-full":n}};function Or(n,r){if(1&n&&(e.TgZ(0,"div",73)(1,"div",74),e._uU(2),e.qZA(),e.YNc(3,wr,2,1,"ng-container",19),e.qZA()),2&n){const t=e.oxw().$implicit;e.Q6J("ngClass",e.VKq(3,Ur,t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)),e.xp6(2),e.hij(" ",t.name,""),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function Jr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Or,4,5,"div",72),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function Pr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Jr,2,1,"ng-container",33),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Hr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Pr,2,1,"ng-container",33),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Rr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Sr,7,3,"div",63),e.TgZ(2,"div",69),e.YNc(3,Hr,2,1,"ng-container",19),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive),e.xp6(2),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function Mr(n,r){if(1&n&&(e.TgZ(0,"div",68),e.YNc(1,Rr,4,2,"ng-container",33),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.dataServiceInstant().selectedFaresTree)}}function Qr(n,r){1&n&&(e.ynx(0),e._UZ(1,"div",20),e.TgZ(2,"div",21)(3,"div",26),e._uU(4," Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n "),e.qZA(),e.TgZ(5,"div",25),e._uU(6," Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n s\u0103n v\xe9 "),e.qZA()(),e.BQk())}function Yr(n,r){if(1&n&&(e.TgZ(0,"div",83),e._uU(1),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.AsE("","("+t.infant.gender+") "+t.infant.name," - ",t.infant.birthday,"")}}function jr(n,r){if(1&n&&(e.TgZ(0,"div",79)(1,"div",80),e._uU(2),e.qZA(),e.TgZ(3,"div",81)(4,"div",80),e._uU(5),e.qZA(),e.YNc(6,Yr,2,2,"div",82),e.qZA()()),2&n){const t=e.oxw(),i=t.index,o=t.$implicit;e.xp6(2),e.hij("",i+1,"."),e.xp6(3),e.Oqu("("+o.gender+") "+o.name),e.xp6(1),e.Q6J("ngIf",o.infant)}}function Gr(n,r){1&n&&e._UZ(0,"div",84)}function Vr(n,r){if(1&n&&(e.ynx(0),e.YNc(1,jr,7,3,"div",77),e.YNc(2,Gr,1,0,"div",78),e.BQk()),2&n){const t=r.index,i=e.oxw();e.xp6(1),e.Q6J("ngIf",t<5||t>=5&&i.isShowMore),e.xp6(1),e.Q6J("ngIf",!(t===i.displayPassengers.length-1||t>=4&&!i.isShowMore))}}function Kr(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",85),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onToggleShowMorePassenger())}),e._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),e.qZA()}}function $r(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",86),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onToggleShowMorePassenger())}),e._uU(1,"\u1ea8n b\u1edbt"),e.qZA()}}function zr(n,r){1&n&&(e.TgZ(0,"div",87),e._uU(1,"B\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u n\xe0y "),e.qZA())}function Lr(n,r){if(1&n&&(e.TgZ(0,"div",87),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij("N\u1ebfu s\u0103n \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ",e.lcZ(2,1,t.availableInfo.amountPerPax)," \u0111 ph\xed d\u1ecbch v\u1ee5 ")}}function Xr(n,r){if(1&n&&(e.TgZ(0,"div",89)(1,"span",90),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",91),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function Wr(n,r){if(1&n&&(e.TgZ(0,"div",89)(1,"span"),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",91),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function ea(n,r){if(1&n&&(e.YNc(0,Xr,5,3,"div",88),e.YNc(1,Wr,5,3,"div",88)),2&n){const t=e.oxw();e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free)}}function ta(n,r){1&n&&e._UZ(0,"cf-spinner")}let Pe=(()=>{class n{constructor(t,i,o,s,a,c,l){this.route=t,this._cfRegister=i,this._route=o,this._requestDataService=s,this._bookingHunterService=a,this.cfBottomSheetRef=c,this._bottomSheetService=l,this.isLoading=!1,this.showTimeStartOption=!1,this.isShowMore=!1,this.isAgentShow=!1,i.registerIcons([_.xgX,_.Ey$,_.tLH,_.xbi,_.TM4,_.okA,_.TOh,_.o1t,_.PSW,_.tLH,_.NNX,_.PcQ]),c.containerInstance._rightButtonClick.subscribe(d=>{this.cfBottomSheetRef.dismiss(!1)})}ngOnInit(){this.isAgentShow=this._requestDataService.isAgent2Show(),this.agentName=this._requestDataService.formConfigurationData().agentDisplayName,this.agentAvatar=this._requestDataService.formConfigurationData().agentAvatar,this.startPoint=this._requestDataService.formJourneyData().startPoint,this.endPoint=this._requestDataService.formJourneyData().endPoint,this.departDate=h(this._requestDataService.formJourneyData().departDate).format("DD/MM/YYYY"),this.enableFareOption=this._requestDataService.formJourneyData().enableFareOption,this.enablePriceOption=this._requestDataService.formJourneyData().enablePriceOption,this.targetVNPrice=this._requestDataService.formJourneyData().targetVNPrice||void 0,this.targetQHPrice=this._requestDataService.formJourneyData().targetQHPrice||void 0,this.targetVJPrice=this._requestDataService.formJourneyData().targetVJPrice||void 0,this.notifBeforExpire=this._requestDataService.formConfigurationData().sendNotify,this.startTimeRanges=this._requestDataService.formJourneyData().startTimeRange?this._requestDataService.formJourneyData().startTimeRange.map(t=>({start:t.start,end:t.end})):[],this.passengers=this.proccessingPassengerInfo(),this.mappingBoardingPassData(),this.selectedFares=this._requestDataService.formJourneyData().fareOptions,this.timeExecute=h(this._requestDataService.formConfigurationData().dateExpires).format("DD/MM/YYYY")+" "+this._requestDataService.formConfigurationData().timeExpires,this.showTimeStartOption=this._requestDataService.showTimeStartOption,this.availableInfo=this._requestDataService.availableInfo,this.availableSlotData={available:this.availableInfo.free,type:this.availableInfo.type,amount:this.availableInfo.type===J.G.DOWN_FARE_TICKET?this.availableInfo.percent:this.availableInfo.amountPerPax,currency:this.availableInfo.type===J.G.DOWN_FARE_TICKET?this.availableInfo.currency:"\u0111"}}validateRequest(){console.log("")}onRequestConfirm(){console.log("")}canShowFareOptions(){return this.selectedFares&&this.selectedFares.length>0}close(){this.cfBottomSheetRef.dismiss()}submit(){const t=this.initFormSubmit();this.isLoading=!0,this._bookingHunterService.registerHuntBooking(t).pipe((0,M.x)(()=>this.isLoading=!1)).subscribe({next:i=>{var o,s;if("OK"===i.status){let a="",c="";this.availableInfo.free?(c="well_done",a=`<div>Ch\xfac m\u1eebng b\u1ea1n, b\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${i.data.code}</strong>. Ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n khi c\xf3 c\u1eadp nh\u1eadt m\u1edbi nh\u1ea5t.</div>`):(c="success",a=`<div>Y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${i.data.code}</strong> \u0111\xe3 \u0111\u01b0\u1ee3c t\u1ea1o. Ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n khi c\xf3 c\u1eadp nh\u1eadt m\u1edbi nh\u1ea5t.</div>`);const l=this._bottomSheetService.open(I.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"T\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 th\xe0nh c\xf4ng",body:a,okText:"Xem danh s\xe1ch",cancelText:"\u0110\xf3ng",hasIcon:!0,status:c}});l.containerInstance._rightButtonClick.subscribe(()=>{l.dismiss()}),l.afterDismissed().subscribe(d=>{d?(this.cfBottomSheetRef.dismiss(!0),this._route.navigate(["admin/manage-booking-hunter"])):this.cfBottomSheetRef.dismiss(!1)})}else if("TPS-TLF12"===i.objectError.errorCode){this._requestDataService.availableInfo.free=!1;const a=this._bottomSheetService.open(I.Q4,{headerTitle:"X\xe1c nh\u1eadn",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"",body:"B\u1ea1n \u0111\xe3 \u0111\u1ea1t gi\u1edbi h\u1ea1n 2 y\xeau c\u1ea7u mi\u1ec5n ph\xed. Y\xeau c\u1ea7u n\xe0y l\xe0 c\xf3 <strong>Thu ph\xed</strong>. B\u1ea1n c\xf3 mu\u1ed1n ti\u1ebfp t\u1ee5c y\xeau c\u1ea7u canh v\xe9 r\u1ebb kh\xf4ng?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0,status:"info"}});a.containerInstance._rightButtonClick.subscribe(()=>{a.dismiss()}),a.afterDismissed().subscribe(c=>{c&&this.submit()})}else{let a;a="TPS-TLF008"===i.objectError.errorCode?"\u0110\xe3 \u0111\u1ea1t gi\u1edbi h\u1ea1n s\u0103n v\xe9 t\u1ed1i \u0111a":"C\xf3 l\u1ed7i x\u1ea3y ra";const c=(null===(s=null===(o=i.objectError)||void 0===o?void 0:o.errorDescription)||void 0===s?void 0:s.vi)||"Kh\xf4ng th\u1ec3 t\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 ngay l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.",l=this._bottomSheetService.open(I.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:a,body:c,okText:"Qu\u1ea3n l\xfd s\u0103n v\xe9",cancelText:"\u0110\xf3ng",hasIcon:!0,status:"error"}});l.containerInstance._rightButtonClick.subscribe(()=>{l.dismiss()}),l.afterDismissed().subscribe(d=>{d?(this.cfBottomSheetRef.dismiss(!0),this._route.navigate(["admin/manage-booking-hunter"])):this.cfBottomSheetRef.dismiss(!1)})}},error:()=>{const i=this._bottomSheetService.open(I.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"C\xf3 l\u1ed7i x\u1ea3y ra",body:"<div>Kh\xf4ng th\u1ec3 t\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 ngay l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.</div>",okText:"S\u0103n v\xe9 kh\xe1c",cancelText:"\u0110\xf3ng",hasIcon:!0,status:"error"}});i.containerInstance._rightButtonClick.subscribe(()=>{i.dismiss()}),i.afterDismissed().subscribe(o=>{o?(this.cfBottomSheetRef.dismiss(!0),this._route.navigate(["admin/request-booking-hunter"])):this.cfBottomSheetRef.dismiss(!1)})}})}dataServiceInstant(){return this._requestDataService}initFormSubmit(){var t,i;const o=this._requestDataService.formJourneyData(),a=(this._requestDataService.formPassengerData(),this._requestDataService.formConfigurationData());let c={advanceSetting:{notifBeforExpire:a.sendNotify,timeExecute:h(a.dateExpires).format("YYYY-MM-DD")+"T"+a.timeExpires+":00"},conditions:{specifyFareClassList:this.enableFareOption&&(null===(t=this._requestDataService.selectedFaresTree)||void 0===t?void 0:t.filter(l=>l.isActive).map(l=>{const d=l.childItems.flatMap(u=>u.childItems).filter(u=>u.isActive).flatMap(u=>u.childItems).filter(u=>u.isActive).flatMap(u=>u.code);return{airline:l.code.toUpperCase(),fareClass:d.join(";")}}))||[],specifyPriceList:[{airline:"VN",targetPrice:this.enablePriceOption&&o.targetVNPrice||0},{airline:"QH",targetPrice:this.enablePriceOption&&o.targetQHPrice||0},{airline:"VJ",targetPrice:this.enablePriceOption&&o.targetVJPrice||0}].filter(l=>l.targetPrice),type:this._requestDataService.showFareOption?"FARE":"PRICE"},journeys:{departDate:h(o.departDate).format("YYYY-MM-DD")+"T00:00:00",endPoint:o.endPoint,rangeTime:o.startTimeRange&&this._requestDataService.showTimeStartOption?null===(i=o.startTimeRange)||void 0===i?void 0:i.map(l=>(console.log(l),{fromDate:l.start,toDate:l.end})):[{fromDate:"00:00",toDate:"23:59"}],allRangeTime:!this._requestDataService.showTimeStartOption,startPoint:o.startPoint},passengers:this.proccessingPassengerInfo(),stateClientFree:this._requestDataService.availableInfo.free};return a.agentId&&(c.ownerId=a.agentId,c.ownerName=a.agentName||"",c.bookingContact={email:a.agentEmail||"",name:a.agentName.replace(/[^a-zA-Z]/g,"")||"GMBR",phone:a.agentPhone||"",phoneArea:a.agentPhoneArea}),c}proccessingPassengerInfo(){const t=this._requestDataService.formPassengerData();return console.log(t),[...t.adultPassenger.map((a,c)=>{var l,d,u,m,v,Z,E;const k=[];return a.membershipQH&&k.push({airline:"QH",membershipID:a.membershipQH}),a.membershipVN&&k.push({airline:"VN",membershipID:a.membershipVN}),{birthday:"",email:"",firstName:null===(l=a.firstName)||void 0===l?void 0:l.trim(),gender:(null===(d=a.gender)||void 0===d?void 0:d.toUpperCase())||"",lastName:null===(u=a.lastName)||void 0===u?void 0:u.trim(),parentIndex:0,type:"ADT",index:c,loyalInfo:k,documentInfo:a.documentType!==q.FV.NON_IDENTIFY?[{documentType:a.documentType,issuanceDate:a.issuanceDate?h(a.issuanceDate).format("YYYY-MM-DD"):"",expiryDate:a.expiryDate?h(a.expiryDate).format("YYYY-MM-DD"):"",issuanceCountry:(null===(m=a.issuanceCountry)||void 0===m?void 0:m.trim())||"",nationality:(null===(v=a.nationality)||void 0===v?void 0:v.trim())||"",number:a.documentType===q.FV.CCCD?(null===(Z=a.cccdNumber)||void 0===Z?void 0:Z.trim())||"":(null===(E=a.number)||void 0===E?void 0:E.trim())||""}]:[],setDefaultDocument:a.documentType===q.FV.NON_IDENTIFY,defaultDocumentType:a.documentType===q.FV.NON_IDENTIFY?q.FV.CCCD:null}}),...t.childPassenger.map((a,c)=>{var l,d,u;const m=c+t.adultPassenger.length,v=[];return a.membershipQH&&v.push({airline:"QH",membershipID:a.membershipQH}),a.membershipVN&&v.push({airline:"VN",membershipID:a.membershipVN}),{birthday:h(a.birthday).format("YYYY-MM-DD"),email:"",firstName:null===(l=a.firstName)||void 0===l?void 0:l.trim(),gender:(null===(d=a.gender)||void 0===d?void 0:d.toUpperCase())||"",lastName:null===(u=a.lastName)||void 0===u?void 0:u.trim(),parentIndex:0,type:"CHD",index:m,loyalInfo:v,documentInfo:[],defaultDocumentType:null,setDefaultDocument:!1}}),...t.infantPassenger.map((a,c)=>{var l,d,u;const m=[];return a.membershipQH&&m.push({airline:"QH",membershipID:a.membershipQH}),a.membershipVN&&m.push({airline:"VN",membershipID:a.membershipVN}),{birthday:h(a.birthday).format("YYYY-MM-DD"),email:"",firstName:null===(l=a.firstName)||void 0===l?void 0:l.trim(),gender:(null===(d=a.gender)||void 0===d?void 0:d.toUpperCase())||"",lastName:null===(u=a.lastName)||void 0===u?void 0:u.trim(),parentIndex:+a.parentIndex,type:"INF",index:0,loyalInfo:m,documentInfo:[],defaultDocumentType:null,setDefaultDocument:!1}})]}mappingBoardingPassData(){const t=[];this.passengers.forEach(i=>{var o,s;if("INF"!==i.type){const a={name:i.lastName+" "+i.firstName,key:i.index||"",type:i.type,gender:"MALE"===(null===(o=i.gender)||void 0===o?void 0:o.toUpperCase())?"MR":"MRS"};t.push(a)}else{const a=t.find(l=>l.key===i.parentIndex),c={name:i.lastName+" "+i.firstName,type:i.type,gender:"MALE"===(null===(s=i.gender)||void 0===s?void 0:s.toUpperCase())?"B\xc9 TRAI":"B\xc9 G\xc1I",parentKey:i.parentIndex||"",birthday:i.birthday?h(i.birthday).format("DD/MM/YYYY"):""};a?a.infant=c:t[0].infant=c}}),this.displayPassengers=t}onToggleShowMorePassenger(){this.isShowMore=!this.isShowMore}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(_.KNP),e.Y36(w.F0),e.Y36(T.FH),e.Y36(T.yL),e.Y36(b.Zu),e.Y36(b.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-hunter-confirm-bottom-sheet"]],standalone:!0,features:[e.jDz],decls:104,vars:21,consts:[[1,"overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"px-3","w-full","h-full","flex-1","overflow-auto"],[1,"flex","flex-col","gap-y-2.5"],[1,"flex","items-center","text-heading-sm","text-neutral-black","gap-x-2"],["icon","plane","size","small"],[1,"text-heading-sm","text-neutral-black"],[1,"border","border-dashed","border-[#ccc]","rounded-lg","p-4"],[1,"bg-[#FAFAFA]","px-3","py-2"],[1,"flex","justify-between","gap-x-3","mx-3"],[1,"text-heading-lg","text-neutral-black","text-center"],[1,"items-center","w-[100px]","md:w-[75px]"],[1,"text-center","text-express-sm","text-neutral-gray-4"],[1,"flex","items-center"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]","cf-icon-small"],[1,"text-heading-lg","text-neutral-black","mb-3","text-center"],[1,"flex","justify-between","items-center"],[1,"text-body-md","text-neutral-black"],[4,"ngIf"],[1,"w-full","h-[1px]","bg-neutral-gray-1","mb-2"],[1,"py-2"],[1,"px-4","text-body-md","pb-4"],[1,"px-4","text-express-md"],["class","flex flex-wrap gap-2 px-4",4,"ngIf"],[1,"text-express-md","px-4"],[1,"text-body-md","px-4","pb-4"],[1,"px-4"],["class","text-express-md",4,"ngIf"],["class","w-full flex flex-wrap gap-2",4,"ngIf"],[1,"flex","flex-col","gap-y-2.5","mt-4"],["icon","users","size","small"],[1,"border","border-dashed","border-neutral-gray-2","rounded-lg","p-3","flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],["class","w-full text-center !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4","type","secondary",3,"click",4,"ngIf"],["class","w-full text-center !pt-2 !outline-none !outline-transparent !text-express-md text-blue-4","type","secondary",3,"click",4,"ngIf"],[1,"mt-4"],[1,"flex","items-start","justify-between","gap-x-2"],[1,"flex","items-center","gap-x-2"],["icon","coupon","size","small",1,"inline-block"],["class","text-body-md pl-6 text-neutral-gray-4",4,"ngIf"],[3,"availableSlotData","content"],["icon","circle_information","size","small"],[1,"flex","items-center","gap-x-2","text-body-md-short"],["icon","money","size","small"],[1,"text-express-md"],["icon","document_check","size","small"],[1,"text-secondary-3-4"],[1,"w-full","p-6","flex","justify-end","gap-x-2","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"bg-white","float-right","md:hidden",3,"click"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full","hidden","md:flex",3,"click"],["icon","chevron_left","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"justify-center","float-right","md:w-full",3,"click"],["icon","circle_check","size","small",1,"ml-2.5"],["availableSlotFeeRef",""],[1,"flex","items-center","gap-x-2","w-full","px-4"],[1,"w-6","h-6","rounded-full","object-cover",3,"src"],[1,"flex","flex-col"],[1,"flex","items-center","gap-x-1"],[1,"text-body-md-short","text-neutral-gray-6"],[1,"flex","flex-wrap","gap-2","px-4"],["class","bg-neutral-gray-1 text-express-md p-2",4,"ngFor","ngForOf"],[1,"bg-neutral-gray-1","text-express-md","p-2"],["class","text-body-md text-neutral-black w-full",4,"ngIf"],[1,"text-body-md","text-neutral-black","w-full"],["src","assets/icons/vn-icon.svg",1,"w-6","h-6","object-contain"],["src","assets/icons/qh-icon.svg",1,"w-6","h-6","object-contain"],["src","assets/icons/vj-icon.svg",1,"w-6","h-6","object-contain"],[1,"w-full","flex","flex-wrap","gap-2"],[1,"flex","flex-wrap","ml-6","gap-2"],[1,"w-6","h-6","object-contain",3,"src"],[1,"uppercase"],["class","flex flex-wrap gap-2",3,"ngClass",4,"ngIf"],[1,"flex","flex-wrap","gap-2",3,"ngClass"],[1,"border","border-neutral-gray-5","rounded","text-espressive-sm","p-1"],["class","border border-neutral-gray-1 rounded bg-[#F2F2F2] text-espressive-sm p-1",4,"ngIf"],[1,"border","border-neutral-gray-1","rounded","bg-[#F2F2F2]","text-espressive-sm","p-1"],["class","flex gap-x-2",4,"ngIf"],["class","w-full h-[1px] bg-neutral-gray-1",4,"ngIf"],[1,"flex","gap-x-2"],[1,"text-espressive-md"],[1,"flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngIf"],[1,"text-body-sm"],[1,"w-full","h-[1px]","bg-neutral-gray-1"],["type","secondary",1,"w-full","text-center","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4",3,"click"],["type","secondary",1,"w-full","text-center","!pt-2","!outline-none","!outline-transparent","!text-express-md","text-blue-4",3,"click"],[1,"text-body-md","pl-6","text-neutral-gray-4"],["class","inline-flex gap-x-1 items-center whitespace-nowrap text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"inline-flex","gap-x-1","items-center","whitespace-nowrap","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"],[1,"line-through"],["icon","circle_help","size","small",1,"text-neutral-white"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"cf-icon",4),e.TgZ(5,"span",5),e._uU(6,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),e._uU(11),e.qZA(),e.TgZ(12,"div",10)(13,"div",11),e._uU(14,"Bay th\u1eb3ng"),e.qZA(),e.TgZ(15,"div",12),e._UZ(16,"div",13)(17,"div",14)(18,"cf-icon",15),e.qZA()(),e.TgZ(19,"div",16),e._uU(20),e.qZA()(),e.TgZ(21,"div",17)(22,"div",18),e._uU(23),e.qZA(),e.TgZ(24,"div",18),e._uU(25),e.qZA()()(),e.YNc(26,br,11,2,"ng-container",19),e._UZ(27,"div",20),e.TgZ(28,"div",21)(29,"div",22),e._uU(30," H\u1ea1n s\u0103n v\xe9 "),e.qZA(),e.TgZ(31,"div",23),e._uU(32),e.qZA()(),e._UZ(33,"div",20),e.TgZ(34,"div",21)(35,"div",22),e._uU(36," Gi\u1edd kh\u1edfi h\xe0nh "),e.qZA(),e.YNc(37,Cr,2,1,"div",24),e.YNc(38,Zr,3,0,"div",24),e.qZA(),e._UZ(39,"div",20),e.TgZ(40,"div",21)(41,"div",22),e._uU(42," M\u1ee9c gi\xe1 t\u1ed1i \u0111a "),e.qZA(),e.TgZ(43,"div",25),e.YNc(44,Ar,2,0,"span",19),e.YNc(45,Ir,4,3,"div",19),e.qZA()(),e._UZ(46,"div",20),e.TgZ(47,"div",21)(48,"div",26),e._uU(49," H\u1ea1ng gh\u1ebf mong mu\u1ed1n "),e.qZA(),e.TgZ(50,"div",27),e.YNc(51,Fr,3,0,"div",28),e.YNc(52,Mr,2,1,"div",29),e.qZA()(),e.YNc(53,Qr,7,0,"ng-container",19),e.qZA()(),e.TgZ(54,"div",30)(55,"div",3),e._UZ(56,"cf-icon",31),e.TgZ(57,"span",5),e._uU(58,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(59,"div",32),e.YNc(60,Vr,3,2,"ng-container",33),e.YNc(61,Kr,2,0,"button",34),e.YNc(62,$r,2,0,"button",35),e.qZA()(),e.TgZ(63,"div",36)(64,"div",37)(65,"div")(66,"div",38),e._UZ(67,"cf-icon",39),e.TgZ(68,"span",5),e._uU(69,"Ph\xed y\xeau c\u1ea7u"),e.qZA()(),e.YNc(70,zr,2,0,"div",40),e.YNc(71,Lr,3,3,"div",40),e.qZA(),e._UZ(72,"tooltip-available-slot",41),e.qZA()(),e.TgZ(73,"div",30)(74,"div",38),e._UZ(75,"cf-icon",42),e.TgZ(76,"span",5),e._uU(77,"M\u1ed9t s\u1ed1 l\u01b0u \xfd"),e.qZA()(),e.TgZ(78,"div",43),e._UZ(79,"cf-icon",44),e.TgZ(80,"div")(81,"span",45),e._uU(82,"B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng s\u0103n \u0111\u01b0\u1ee3c v\xe9."),e.qZA(),e._uU(83," C\xf3 th\u1ec3 h\u1ee7y s\u0103n v\xe9 b\u1ea5t k\xec l\xfac n\xe0o! "),e.qZA()(),e.TgZ(84,"div",43),e._UZ(85,"cf-icon",46),e.TgZ(86,"div",45),e._uU(87,"B\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi "),e.TgZ(88,"span",47),e._uU(89,"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"),e.qZA(),e._uU(90," khi s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y. "),e.qZA()()()(),e.TgZ(91,"div",48)(92,"button",49),e.NdJ("click",function(){return i.close()}),e._uU(93," \u0110\xf3ng "),e.qZA(),e.TgZ(94,"button",50),e.NdJ("click",function(){return i.close()}),e._UZ(95,"cf-icon",51),e._uU(96," Quay l\u1ea1i "),e.qZA(),e.TgZ(97,"button",52),e.NdJ("click",function(){return i.submit()}),e.TgZ(98,"span"),e._uU(99,"X\xe1c nh\u1eadn"),e.qZA(),e._UZ(100,"cf-icon",53),e.qZA()()(),e.YNc(101,ea,2,2,"ng-template",null,54,e.W1O),e.YNc(103,ta,1,0,"cf-spinner",19)),2&t){const o=e.MAs(102);e.xp6(11),e.hij(" ",i.startPoint," "),e.xp6(9),e.hij(" ",i.endPoint," "),e.xp6(3),e.Oqu(i.departDate),e.xp6(2),e.Oqu(i.departDate),e.xp6(1),e.Q6J("ngIf",!i.isAgentShow),e.xp6(6),e.hij("",i.timeExecute," "),e.xp6(5),e.Q6J("ngIf",i.showTimeStartOption),e.xp6(1),e.Q6J("ngIf",!i.showTimeStartOption),e.xp6(6),e.Q6J("ngIf",!i.enablePriceOption),e.xp6(1),e.Q6J("ngIf",i.enablePriceOption),e.xp6(6),e.Q6J("ngIf",!i.enableFareOption),e.xp6(1),e.Q6J("ngIf",i.enableFareOption),e.xp6(1),e.Q6J("ngIf",i.notifBeforExpire),e.xp6(7),e.Q6J("ngForOf",i.displayPassengers),e.xp6(1),e.Q6J("ngIf",i.displayPassengers.length>5&&!i.isShowMore),e.xp6(1),e.Q6J("ngIf",i.displayPassengers.length>5&&i.isShowMore),e.xp6(8),e.Q6J("ngIf",i.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!i.availableInfo.free),e.xp6(1),e.Q6J("availableSlotData",i.availableSlotData)("content",o),e.xp6(31),e.Q6J("ngIf",i.isLoading)}},dependencies:[_.AxE,_.Sm8,f.ez,f.mk,f.sg,f.O5,f.JJ,ie.AS,I.OR,F.j$,D.N8,D.Xq,b.DW,K._],encapsulation:2}),n})();var na=g(13138);function ia(n,r){if(1&n&&(e.TgZ(0,"div",26),e._UZ(1,"tooltip-available-slot",27),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(33);e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i)}}function oa(n,r){if(1&n&&(e.TgZ(0,"div",28),e._UZ(1,"tooltip-available-slot",27),e.qZA()),2&n){const t=e.oxw(),i=e.MAs(33);e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i)}}function ra(n,r){1&n&&(e.ynx(0),e._UZ(1,"request-booking-journey"),e.BQk())}function aa(n,r){1&n&&(e.ynx(0),e._UZ(1,"request-booking-passenger"),e.BQk())}function sa(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"request-booking-configuration",29),e.NdJ("agentValueChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.agentValueChange(o))}),e.qZA(),e.BQk()}}function ca(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onBackwardStep())}),e._UZ(1,"cf-icon",35),e._uU(2," Quay l\u1ea1i "),e.qZA()}}function la(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onNextStep())}),e.TgZ(1,"span"),e._uU(2,"Ti\u1ebfp t\u1ee5c"),e.qZA(),e._UZ(3,"cf-icon",37),e.qZA()}}function ua(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onConfirmSubmit())}),e.TgZ(1,"span"),e._uU(2,"T\u1ea1o y\xeau c\u1ea7u"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.validConfigurationRequest())}}function _a(n,r){if(1&n&&(e.TgZ(0,"div",30),e.YNc(1,ca,3,0,"button",31),e.YNc(2,la,4,0,"button",32),e.YNc(3,ua,3,1,"button",33),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.currentStep!==t.REQUEST_BOOKING_HUNTER_STEP.JOURNEY),e.xp6(1),e.Q6J("ngIf",t.currentStep!==t.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION),e.xp6(1),e.Q6J("ngIf",t.currentStep===t.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION)}}function da(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",34),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onBackwardStep())}),e._UZ(1,"cf-icon",35),e._uU(2," Quay l\u1ea1i "),e.qZA()}}function pa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",43),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onNextStep())}),e.TgZ(1,"span"),e._uU(2,"Ti\u1ebfp t\u1ee5c"),e.qZA(),e._UZ(3,"cf-icon",37),e.qZA()}}function ga(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onConfirmSubmit())}),e.TgZ(1,"span"),e._uU(2,"T\u1ea1o y\xeau c\u1ea7u"),e.qZA(),e._UZ(3,"cf-icon",37),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.validConfigurationRequest())}}const ma=function(n){return{"!justify-end":n}};function fa(n,r){if(1&n&&(e.TgZ(0,"div",39)(1,"div",40),e.YNc(2,da,3,0,"button",31),e.YNc(3,pa,4,0,"button",41),e.YNc(4,ga,4,1,"button",42),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.VKq(4,ma,t.currentStep===t.REQUEST_BOOKING_HUNTER_STEP.JOURNEY)),e.xp6(1),e.Q6J("ngIf",t.currentStep!==t.REQUEST_BOOKING_HUNTER_STEP.JOURNEY),e.xp6(1),e.Q6J("ngIf",t.currentStep!==t.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION),e.xp6(1),e.Q6J("ngIf",t.currentStep===t.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION)}}function ha(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onNextStep())}),e.TgZ(1,"span"),e._uU(2,"Ti\u1ebfp t\u1ee5c"),e.qZA(),e._UZ(3,"cf-icon",37),e.qZA()}}function va(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",51),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onConfirmSubmit())}),e.TgZ(1,"span"),e._uU(2,"T\u1ea1o y\xeau c\u1ea7u"),e.qZA(),e._UZ(3,"cf-icon",37),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.validConfigurationRequest())}}function xa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",45)(1,"div",46)(2,"button",47),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onBackwardStep())}),e._UZ(3,"cf-icon",35),e._uU(4," Quay l\u1ea1i "),e.qZA(),e.YNc(5,ha,4,0,"button",48),e.YNc(6,va,4,1,"button",49),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",t.currentStep!==t.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION),e.xp6(1),e.Q6J("ngIf",t.currentStep===t.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION)}}function Ta(n,r){1&n&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",55),e.qZA())}function Ea(n,r){1&n&&(e.TgZ(0,"div",53)(1,"span",54),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",55),e.qZA())}function ba(n,r){if(1&n&&(e.YNc(0,Ta,4,0,"div",52),e.YNc(1,Ea,4,0,"div",52)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}function ya(n,r){1&n&&e._UZ(0,"cf-spinner")}let Ca=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E,k,S){this.route=t,this._dataProvider=i,this._cfRegister=o,this._permissionService=s,this._modal=a,this._route=c,this._cd=l,this._requestDataService=d,this._mobileDetectService=u,this._bottomSheetService=m,this._bookingHunterService=v,this._flightDataService=Z,this._eventLogService=E,this.location=k,this._ticketLowFareService=S,this.REQUEST_BOOKING_HUNTER_STEP=T.I5,this.isEntryPointSearch=!1,this.isEntryPointManageOrder=!1,this.isLoading=!1,this.isMobile=!1,this.isSourceEvent=!1,this.checkAgentAvailable=!1,this.agentAvailable=!1,o.registerIcons([_.xgX,_.Ey$,_.tLH,_.xbi,_.NYs,_.Hge,_.n78,_.fqi,_.esH,_.cnj,_.TM4,_.rJw,_.toh,_.SK7]),this.currentStep=T.I5.JOURNEY,d.initForm(),this.isSourceEvent=[0,1,2,3,4].includes(d.getSourceEvent()),E.captureOpenFormHuntFare({source:d.getSourceEvent()})}ngOnInit(){this.checkMobile(),this.isEntryPointSearch=history.state.isEntryPointSearch,this.initJourneyData();const t=this._permissionService.getCurrentAuthor();"AGENT2"===(null==t?void 0:t.titleCode.toUpperCase())&&this.getAvailableAgent(t.userId)}agentValueChange(t){this.getAvailableAgent(t)}getAvailableAgent(t){this._ticketLowFareService.getInfoAvailableAgent({agentId:t||"",type:J.G.HUNT_NEW_TICKET}).subscribe({next:o=>{this.checkAgentAvailable=!0,"OK"===o.status&&(this.agentAvailable=o.data.free,this._requestDataService.availableInfo=o.data,this.availableSlotData={available:o.data.free,type:o.data.type,amount:o.data.type===J.G.DOWN_FARE_TICKET?o.data.percent:o.data.amountPerPax,currency:o.data.type===J.G.DOWN_FARE_TICKET?o.data.currency:"\u0111"})}})}onNextStep(){switch(this.currentStep){case T.I5.JOURNEY:this._requestDataService.journeyFormGroup.markAllAsTouched(),this.validJourneyRequest()&&(this._requestDataService.reloadPassengerForm(),this._requestDataService.checkVJAirline(),this.currentStep=T.I5.PASSENGER);break;case T.I5.PASSENGER:this._requestDataService.passengerFormGroup.markAllAsTouched(),this._requestDataService.configurationFormGroup.markAllAsTouched(),this.validPassengerRequest()&&(this.currentStep=T.I5.CONFIGURATION);break;case T.I5.CONFIGURATION:this._requestDataService.configurationFormGroup.markAllAsTouched()}}onBackwardStep(){switch(this.currentStep){case T.I5.JOURNEY:this.isSourceEvent?this.location.back():this._route.navigate(["admin/manage-booking-hunter"]);break;case T.I5.PASSENGER:this.currentStep=T.I5.JOURNEY;break;case T.I5.CONFIGURATION:this.currentStep=T.I5.PASSENGER}}validJourneyRequest(){return this._requestDataService.journeyFormGroup.valid}validPassengerRequest(){return this._requestDataService.passengerFormGroup.valid&&(!this._requestDataService.hasVJAirline||this._requestDataService.configurationFormGroup.controls.agentPhone.valid&&this._requestDataService.configurationFormGroup.controls.agentPhoneArea.valid)}validConfigurationRequest(){return this._requestDataService.configurationFormGroup.valid}initJourneyData(){var t,i,o,s,a;if(this._requestDataService.preInitialFormOrderId)this.isLoading=!0,this._bookingHunterService.getCurrentConfigOrder(this._requestDataService.preInitialFormOrderId).pipe((0,M.x)(()=>this.isLoading=!1)).subscribe({next:c=>{var l;if(c.success){this._requestDataService.preloadForm(c.data);const d=(null===(l=c.data.huntFareConditions.specifyFareClassList)||void 0===l?void 0:l.map(u=>u.fareClass.split(";")).reduce((u,m)=>[...u,...m]))||[];this._bookingHunterService.getLstAirlineFareoptions().pipe((0,ge.U)(u=>{var m;return null===(m=null==u?void 0:u.data)||void 0===m?void 0:m.map(v=>{var Z;return{name:this._flightDataService.getAirlineNameByCode(null===(Z=v.airline)||void 0===Z?void 0:Z.toUpperCase()),code:v.airline,icon:this._flightDataService.getAirlineIconByCode(v.airline),isActive:!1,isDisable:!1,totalFare:this.countAirlineTotalFare(v),childItems:v.cabin.map(E=>({code:E.code,name:E.name,isActive:!1,isDisable:!1,childItems:E.fareType.map(k=>{var S;return{code:k.code,name:k.description,isActive:!1,isDisable:!1,totalFare:(null===(S=k.fareClass)||void 0===S?void 0:S.length)||0,childItems:k.fareClass.map(A=>({code:A.code,name:A.name,isActive:!1,childItems:[],isDisable:!1}))}})}))}})})).subscribe({next:u=>{this._requestDataService.selectedFaresTree=u,this._requestDataService.selectedFaresTree.forEach(m=>{m.childItems.forEach(v=>{v.childItems.forEach(Z=>{Z.childItems.forEach(E=>{d.includes(E.code)&&(E.isActive=!0)})})}),this.standardizeAirlineOptionSelected(m)})},error:u=>{console.log(u)}})}},error:c=>{console.log(c)}});else if(this.isEntryPointSearch){this.searchData=(null===(i=null===(t=this._dataProvider.searchInputData)||void 0===t?void 0:t.journey)||void 0===i?void 0:i.map(l=>({startPoint:l.startPoint,endPoint:l.endPoint,departDate:h(l.departDate).toDate()})))||{};const c=this.searchData[0];this._requestDataService.journeyFormGroup.patchValue({startPoint:null==c?void 0:c.startPoint,endPoint:null==c?void 0:c.endPoint,departDate:null==c?void 0:c.departDate}),this._requestDataService.numberOfPassenger={adult:(null===(o=this._dataProvider.searchInputData)||void 0===o?void 0:o.adult)||1,child:(null===(s=this._dataProvider.searchInputData)||void 0===s?void 0:s.child)||0,infant:(null===(a=this._dataProvider.searchInputData)||void 0===a?void 0:a.infant)||0}}else this._requestDataService.journeyFormGroup.patchValue({startPoint:"",endPoint:"",departDate:null}),this._requestDataService.numberOfPassenger={adult:1,child:0,infant:0}}onConfirmSubmit(){this._requestDataService.configurationFormGroup.markAllAsTouched(),this.validConfigurationRequest()&&(this.isMobile?this._bottomSheetService.open(Pe,{headerTitle:"X\xe1c nh\u1eadn y\xeau c\u1ea7u s\u0103n v\xe9",containerFullHeigh:!0,data:{}}):this._modal.open(Te,{}).afterClosed$.subscribe({next:i=>{this._requestDataService.availableInfo&&(this.availableSlotData={available:this._requestDataService.availableInfo.free,type:this._requestDataService.availableInfo.type,amount:this._requestDataService.availableInfo.type===J.G.DOWN_FARE_TICKET?this._requestDataService.availableInfo.percent:this._requestDataService.availableInfo.amountPerPax,currency:this._requestDataService.availableInfo.type===J.G.DOWN_FARE_TICKET?this._requestDataService.availableInfo.currency:"\u0111"})}}))}close(){}countAirlineTotalFare(t){var i;let o=0;return null===(i=t.cabin)||void 0===i||i.forEach(s=>{var a;null===(a=s.fareType)||void 0===a||a.forEach(c=>{o+=c.fareClass.length||0})}),o}standardizeAirlineOptionSelected(t){let i=!1;t.childItems.forEach(o=>{o.childItems.forEach(s=>{s.isActive=s.childItems.map(a=>a.isActive).reduce((a,c)=>a||c,!1),s.totalSelectedFare=s.childItems.filter(a=>a.isActive).length,s.isActive&&(i=!0)})}),t.isActive=i,t.totalSelectedFare=t.childItems.reduce((o,s)=>o+s.childItems.map(a=>a.childItems.filter(c=>c.isActive).length).reduce((a,c)=>a+c),0),this._cd.detectChanges()}onMoveToManageHunt(){this._route.navigate(["admin/manage-booking-hunter"])}checkMobile(){this._mobileDetectService.mobileSubject.subscribe(t=>{this.isMobile=t})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(na.R),e.Y36(_.KNP),e.Y36(U.$A),e.Y36(P.oE),e.Y36(w.F0),e.Y36(e.sBO),e.Y36(T.FH),e.Y36(y.L),e.Y36(b.a2),e.Y36(T.yL),e.Y36(te.G),e.Y36($.x),e.Y36(f.Ye),e.Y36(G.s))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-booking-hunter"]],standalone:!0,features:[e.jDz],decls:35,vars:9,consts:[[1,"p-6","h-full","block","w-full","md:p-3"],[1,"flex","gap-x-2","mb-4","justify-start","items-center"],[1,"text-body-md-short","text-neutral-gray-6","cursor-pointer",3,"click"],["icon","chevron_right","size","small",1,"text-neutral-gray-4"],[1,"text-body-md-short","text-neutral-gray-6"],[1,"flex","flex-col","h-full","w-full","justify-center","items-center"],[1,"w-[70%]","md:w-full"],[1,"flex","justify-between","items-center","mb-4","md:hidden"],[1,"flex","gap-x-[20px]"],[1,"w-1","bg-primary-2-4"],[1,"text-heading-md","text-neutral-black"],["class","md:hidden",4,"ngIf"],[1,"flex","flex-col","w-full","justify-center"],[1,"block","gap-y-8","mb-2","md:mb-12"],["class","hidden md:flex md:mb-4",4,"ngIf"],[1,"flex","rounded","w-full","bg-white","justify-between","shadow-cf-md","mb-8","p-4","items-center"],[1,"flex","justify-start","gap-x-0","items-center"],[1,"h-full","flex","flex-col","justify-center","items-end"],["src","assets/images/booking-hunter-banner.svg",1,"w-full","object-contain"],[1,"h-full","p-4","items-start"],[1,"text-express-md","text-neutral-black"],[4,"ngIf"],["class","w-full py-4",4,"ngIf"],["class","bg-neutral-white pt-3 pr-4 pb-3 pl-4 flex-row items-end justify-between w-[calc(100%-24px)] fixed bottom-0 flex",4,"ngIf"],["class","bg-neutral-white pt-3 pr-4 pb-3 pl-4 flex-row items-end justify-end w-full fixed bottom-0 hidden md:flex md:justify-between",4,"ngIf"],["availableSlotRef",""],[1,"md:hidden"],[3,"availableSlotData","content"],[1,"hidden","md:flex","md:mb-4"],[3,"agentValueChange"],[1,"w-full","py-4"],["cf-button","","size","medium","type","secondary","class","bg-white float-left",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center float-right",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center float-right",3,"disabled","click",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"bg-white","float-left",3,"click"],["cfHeadIcon","","icon","chevron_left","size","small",1,"mr-2"],["cf-button","","size","medium","color","primary-1",1,"justify-center","float-right",3,"click"],["icon","chevron_right","size","small",1,"ml-2.5"],["cf-button","","size","medium","color","primary-1",1,"justify-center","float-right",3,"disabled","click"],[1,"bg-neutral-white","pt-3","pr-4","pb-3","pl-4","flex-row","items-end","justify-between","w-[calc(100%-24px)]","fixed","bottom-0","flex"],[1,"flex","flex-row","items-center","justify-between","shrink-0","relative","w-full",3,"ngClass"],["cf-button","","size","medium","color","primary-1","class","justify-center ml-2",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center ml-2",3,"disabled","click",4,"ngIf"],["cf-button","","size","medium","color","primary-1",1,"justify-center","ml-2",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center","ml-2",3,"disabled","click"],[1,"bg-neutral-white","pt-3","pr-4","pb-3","pl-4","flex-row","items-end","justify-end","w-full","fixed","bottom-0","hidden","md:flex","md:justify-between"],[1,"flex","flex-row","items-center","justify-start","shrink-0","relative","md:w-full"],["cf-button","","size","medium","type","secondary",1,"bg-white","float-left","justify-center","md:w-full",3,"click"],["cf-button","","size","medium","color","primary-1","class","justify-center ml-2 md:w-full",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center ml-2 md:w-full",3,"disabled","click",4,"ngIf"],["cf-button","","size","medium","color","primary-1",1,"justify-center","ml-2","md:w-full",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center","ml-2","md:w-full",3,"disabled","click"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.NdJ("click",function(){return i.onMoveToManageHunt()}),e._uU(3," S\u0103n v\xe9 "),e.qZA(),e._UZ(4,"cf-icon",3),e.TgZ(5,"div",4),e._uU(6," T\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 "),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e._UZ(11,"div",9),e.TgZ(12,"div",10),e._uU(13," T\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 "),e.qZA()(),e.YNc(14,ia,2,2,"div",11),e.qZA(),e.TgZ(15,"div",12)(16,"div",13),e.YNc(17,oa,2,2,"div",14),e.TgZ(18,"div",15)(19,"div",16)(20,"div",17)(21,"div"),e._UZ(22,"img",18),e.qZA()(),e.TgZ(23,"div",19)(24,"div",20),e._uU(25," M\u1ed9t c\xe1ch \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng \u0111\u1eb7t ch\u1ed7 nh\u1eefng chuy\u1ebfn bay h\u1ebft ch\u1ed7! "),e.qZA()()()(),e.YNc(26,ra,2,0,"ng-container",21),e.YNc(27,aa,2,0,"ng-container",21),e.YNc(28,sa,2,0,"ng-container",21),e.qZA(),e.YNc(29,_a,4,3,"div",22),e.YNc(30,fa,5,6,"div",23),e.qZA()()()(),e.YNc(31,xa,7,2,"div",24),e.YNc(32,ba,2,2,"ng-template",null,25,e.W1O),e.YNc(34,ya,1,0,"cf-spinner",21)),2&t&&(e.xp6(14),e.Q6J("ngIf",i.checkAgentAvailable),e.xp6(3),e.Q6J("ngIf",i.checkAgentAvailable),e.xp6(9),e.Q6J("ngIf",i.currentStep===i.REQUEST_BOOKING_HUNTER_STEP.JOURNEY),e.xp6(1),e.Q6J("ngIf",i.currentStep===i.REQUEST_BOOKING_HUNTER_STEP.PASSENGER),e.xp6(1),e.Q6J("ngIf",i.currentStep===i.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION),e.xp6(1),e.Q6J("ngIf",!i.isMobile),e.xp6(1),e.Q6J("ngIf",i.isMobile),e.xp6(1),e.Q6J("ngIf",i.isMobile),e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[_.AxE,_.Sm8,f.ez,f.mk,f.O5,I.OR,F.j$,D.N8,D.Xq,b.DW,he,xe,pe,K._],encapsulation:2}),n})();function Za(n,r){1&n&&(e.ynx(0),e._UZ(1,"request-booking-journey"),e.BQk())}function Aa(n,r){1&n&&(e.ynx(0),e._UZ(1,"request-booking-passenger"),e.BQk())}function Da(n,r){1&n&&(e.ynx(0),e._UZ(1,"request-booking-configuration"),e.BQk())}function qa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onBackwardStep())}),e._UZ(1,"cf-icon",16),e._uU(2," Quay l\u1ea1i "),e.qZA()}}function ka(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onNextStep())}),e.TgZ(1,"span"),e._uU(2,"Ti\u1ebfp t\u1ee5c"),e.qZA(),e._UZ(3,"cf-icon",18),e.qZA()}}function Ia(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onConfirmSubmit())}),e._UZ(1,"cf-icon",19),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o y\xeau c\u1ea7u"),e.qZA()()}}let Fa=(()=>{class n{constructor(t,i,o,s,a,c,l,d){this.route=t,this._cfRegister=i,this._permissionService=o,this._modal=s,this._route=a,this._cd=c,this._ref=l,this._requestDataService=d,this.REQUEST_BOOKING_HUNTER_STEP=T.I5,i.registerIcons([_.xgX,_.Ey$,_.tLH,_.xbi,_.NYs,_.Hge,_.n78,_.fqi,_.esH,_.cnj,_.TM4]),this.currentStep=T.I5.JOURNEY,d.initForm()}ngOnInit(){console.log("")}onNextStep(){switch(this.currentStep){case T.I5.JOURNEY:this.currentStep=T.I5.PASSENGER;break;case T.I5.PASSENGER:this.currentStep=T.I5.CONFIGURATION}}onBackwardStep(){switch(this.currentStep){case T.I5.JOURNEY:break;case T.I5.PASSENGER:this.currentStep=T.I5.JOURNEY;break;case T.I5.CONFIGURATION:this.currentStep=T.I5.PASSENGER}}validateRequest(){console.log("")}onRequestConfirm(){console.log("")}onConfirmSubmit(){this._modal.open(Te,{})}close(){this._ref.close(!1)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(w.gz),e.Y36(_.KNP),e.Y36(U.$A),e.Y36(P.oE),e.Y36(w.F0),e.Y36(e.sBO),e.Y36(P.gb),e.Y36(T.FH))},n.\u0275cmp=e.Xpm({type:n,selectors:[["request-booking-hunter-modal"]],standalone:!0,features:[e.jDz],decls:22,vars:6,consts:[[1,"p-2","h-full","block","justify-center","bg-white","rounded","w-[700px]"],[1,"h-full","overflow-y-auto","px-4"],[1,"flex","gap-x-[20px]","mb-4","justify-between","items-center","border-b","border-b-neutral-gray-1","py-4"],[1,"text-heading-md","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"block","gap-y-8"],[1,"flex","flex-col","bg-white","rounded"],[1,"flex","justify-start","items-center","mb-6","gap-x-0","bg-[#EEF5FF]","shadow-cf-md"],[1,"h-full","flex","flex-col","justify-center","items-end"],["src","assets/images/booking-hunter-banner.svg",1,"w-full","object-contain"],[1,"h-full","shrink-0","p-4","items-start"],[4,"ngIf"],[1,"w-full","py-4"],["cf-button","","size","medium","type","secondary","class","bg-white float-left",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center float-right",3,"click",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"bg-white","float-left",3,"click"],["cfHeadIcon","","icon","chevron_left","size","small",1,"mr-2"],["cf-button","","size","medium","color","primary-1",1,"justify-center","float-right",3,"click"],["icon","chevron_right","size","small",1,"ml-2.5"],["icon","plus","size","small",1,"mr-2.5"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4," T\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 "),e.qZA(),e.TgZ(5,"cf-icon",4),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div"),e._UZ(11,"img",9),e.qZA()(),e.TgZ(12,"div",10)(13,"div",3),e._uU(14," M\u1ed9t c\xe1ch \u0111\u1ec3 t\u1ef1 \u0111\u1ed9ng \u0111\u1eb7t ch\u1ed7 nh\u1eefng chuy\u1ebfn bay h\u1ebft ch\u1ed7! "),e.qZA()()()(),e.YNc(15,Za,2,0,"ng-container",11),e.YNc(16,Aa,2,0,"ng-container",11),e.YNc(17,Da,2,0,"ng-container",11),e.qZA(),e.TgZ(18,"div",12),e.YNc(19,qa,3,0,"button",13),e.YNc(20,ka,4,0,"button",14),e.YNc(21,Ia,4,0,"button",14),e.qZA()()()),2&t&&(e.xp6(15),e.Q6J("ngIf",i.currentStep===i.REQUEST_BOOKING_HUNTER_STEP.JOURNEY),e.xp6(1),e.Q6J("ngIf",i.currentStep===i.REQUEST_BOOKING_HUNTER_STEP.PASSENGER),e.xp6(1),e.Q6J("ngIf",i.currentStep===i.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION),e.xp6(2),e.Q6J("ngIf",i.currentStep!==i.REQUEST_BOOKING_HUNTER_STEP.JOURNEY),e.xp6(1),e.Q6J("ngIf",i.currentStep!==i.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION),e.xp6(1),e.Q6J("ngIf",i.currentStep===i.REQUEST_BOOKING_HUNTER_STEP.CONFIGURATION))},dependencies:[_.AxE,_.Sm8,f.ez,f.O5,F.j$,D.N8,D.Xq,b.DW,he,xe,pe,x.UX],encapsulation:2}),n})();var He=g(4688),Ee=g(77579),Sa=g(63900),Na=g(82722);function Ba(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"tooltip-available-slot",65),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(17);e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i)}}function wa(n,r){1&n&&e._UZ(0,"cf-icon",66)}function Ua(n,r){1&n&&e._UZ(0,"cf-icon",67)}function Oa(n,r){1&n&&e._UZ(0,"div",40)}function Ja(n,r){if(1&n&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.infant.namePrefix,") ",t.infant.displayName," - ",t.infant.birthday," ")}}function Pa(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Oa,1,0,"div",70),e.TgZ(2,"div",71)(3,"div",72),e._uU(4),e.qZA(),e.TgZ(5,"div",73)(6,"div",72),e._uU(7),e.qZA(),e.YNc(8,Ja,2,3,"div",74),e.qZA()(),e.BQk()),2&n){const t=r.$implicit,i=r.index,o=r.first;e.xp6(1),e.Q6J("ngIf",!o),e.xp6(3),e.hij("",i+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.infant)}}function Ha(n,r){if(1&n&&(e.TgZ(0,"div",68),e.YNc(1,Pa,9,5,"ng-container",69),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.configOrderData.passengers)}}function Ra(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82),e._uU(1),e.TgZ(2,"cf-icon",83),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.onRemoveAirlineOption(o,s))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Ma(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82),e._uU(1),e.TgZ(2,"cf-icon",83),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(3).$implicit,c=e.oxw(4);return e.KtG(c.onRemoveFareTypeOption(o,s,a))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",i.name+"-"+t.name,"")}}function Qa(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82),e._uU(1),e.TgZ(2,"cf-icon",83),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(5).$implicit,c=e.oxw(4);return e.KtG(c.onRemoveFareOption(o,s,a))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit,o=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",o.name+"-"+i.name+"-"+t.name,"")}}function Ya(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Qa,3,1,"div",81),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function ja(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ya,2,1,"ng-container",69),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Ga(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ma,3,1,"div",81),e.YNc(2,ja,2,1,"ng-container",6),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive&&t.totalFare===t.totalSelectedFare&&0!==t.totalFare),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function Va(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ga,3,2,"ng-container",69),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Ka(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Va,2,1,"ng-container",69),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function $a(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ra,3,1,"div",81),e.YNc(2,Ka,2,1,"ng-container",6),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive&&t.totalFare===t.totalSelectedFare&&0!==t.totalFare),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function za(n,r){1&n&&(e.TgZ(0,"div",84)(1,"div"),e._uU(2,"Vui l\xf2ng ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n."),e.qZA()())}function La(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",76),e._uU(2,"S\u0103n v\xe9 thu\u1ed9c (c\xe1c) h\xe3ng bay d\u01b0\u1edbi \u0111\xe2y"),e.qZA(),e.TgZ(3,"div",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.openFareOptions())}),e.TgZ(4,"div",78),e.YNc(5,$a,3,2,"ng-container",69),e.qZA(),e._UZ(6,"cf-icon",79),e.qZA(),e.YNc(7,za,3,0,"div",80),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("ngForOf",t.selectedFaresTree),e.xp6(2),e.Q6J("ngIf",t.checkInvalidFare())}}function Xa(n,r){1&n&&(e.TgZ(0,"div",84)(1,"div"),e._uU(2,"Vui l\xf2ng nh\u1eadp gi\xe1 \xedt nh\u1ea5t 1 h\xe3ng bay."),e.qZA()())}function Wa(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",85),e._uU(2,"Gi\u1eef ch\u1ed7 n\u1ebfu gi\xe1 v\xe9 (c\u1ee7a 1 ng\u01b0\u1eddi l\u1edbn \u0111\u1ea1i di\u1ec7n) th\u1ea5p h\u01a1n ho\u1eb7c b\u1eb1ng m\u1ee9c d\u01b0\u1edbi \u0111\xe2y "),e.qZA(),e.ynx(3),e.TgZ(4,"div",86)(5,"div",87)(6,"div",88),e._UZ(7,"img",89),e.TgZ(8,"span",63),e._uU(9,"VNA"),e.qZA()(),e._UZ(10,"cf-input-number",90),e.TgZ(11,"span",91),e._uU(12,"\u0111"),e.qZA()(),e.TgZ(13,"div",87)(14,"div",88),e._UZ(15,"img",92),e.TgZ(16,"span",63),e._uU(17,"QH"),e.qZA()(),e._UZ(18,"cf-input-number",90),e.TgZ(19,"span",91),e._uU(20,"\u0111"),e.qZA()(),e.TgZ(21,"div",87)(22,"div",88),e._UZ(23,"img",93),e.TgZ(24,"span",63),e._uU(25,"VJ"),e.qZA()(),e._UZ(26,"cf-input-number",90),e.TgZ(27,"span",91),e._uU(28,"\u0111"),e.qZA()()(),e.YNc(29,Xa,3,0,"div",80),e.BQk(),e.qZA()),2&n){const t=e.oxw(3);e.xp6(10),e.Q6J("placeholder","0")("formControl",t.hunterConfigForm.controls.targetVNPrice),e.xp6(8),e.Q6J("placeholder","0")("formControl",t.hunterConfigForm.controls.targetQHPrice),e.xp6(8),e.Q6J("placeholder","0")("formControl",t.hunterConfigForm.controls.targetVJPrice),e.xp6(3),e.Q6J("ngIf",t.checkInvalidPrice())}}function es(n,r){1&n&&e._UZ(0,"cf-hint",94),2&n&&e.Q6J("hint","Ng\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function ts(n,r){1&n&&e._UZ(0,"cf-hint",94),2&n&&e.Q6J("hint","Gi\u1edd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function ns(n,r){1&n&&e._UZ(0,"cf-hint",94),2&n&&e.Q6J("hint","Gi\u1edd k\u1ebft th\xfac kh\xf4ng h\u1ee3p l\u1ec7.")}const Re=function(){return[]};function is(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",17)(1,"div")(2,"div",18)(3,"div",19),e._UZ(4,"cf-icon",20),e.TgZ(5,"span",21),e._uU(6,"M\xe3 y\xeau c\u1ea7u s\u0103n v\xe9"),e.qZA()(),e.YNc(7,Ba,2,2,"div",6),e.qZA(),e.TgZ(8,"div",22),e._uU(9),e.qZA()(),e.TgZ(10,"div",23)(11,"div",24)(12,"div",25),e._uU(13),e.qZA(),e.TgZ(14,"div",26),e._uU(15),e.qZA()(),e.TgZ(16,"div",27)(17,"div",28)(18,"div",29),e._UZ(19,"div",30)(20,"div",31),e.qZA()(),e.TgZ(21,"div"),e._UZ(22,"cf-icon",32),e.qZA()(),e.TgZ(23,"div",24)(24,"div",25),e._uU(25),e.qZA(),e.TgZ(26,"div",26),e._uU(27),e.qZA()()(),e.TgZ(28,"div",33)(29,"div",34)(30,"div",19),e._UZ(31,"cf-icon",35),e.TgZ(32,"span",21),e._uU(33,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(34,"div",36),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.hiddenPax=!o.hiddenPax)}),e.TgZ(35,"div"),e._uU(36),e.qZA(),e.YNc(37,wa,1,0,"cf-icon",37),e.YNc(38,Ua,1,0,"cf-icon",38),e.qZA()(),e.YNc(39,Ha,2,1,"div",39),e.qZA(),e._UZ(40,"div",40),e.TgZ(41,"div",18)(42,"div",41),e._UZ(43,"cf-icon",42),e.TgZ(44,"div",43)(45,"span"),e._uU(46,"Ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n"),e.qZA()()(),e.TgZ(47,"div",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onFareOptionChange())}),e._UZ(48,"cf-switch",45),e.qZA()(),e.YNc(49,La,8,2,"div",6),e._UZ(50,"div",40),e.TgZ(51,"div",33)(52,"div",46)(53,"div",41),e._UZ(54,"cf-icon",47),e.TgZ(55,"div",43)(56,"span"),e._uU(57,"S\u0103n theo gi\xe1"),e.qZA()()(),e.TgZ(58,"div",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onPriceOptionChange())}),e._UZ(59,"cf-switch",45),e.qZA()(),e.YNc(60,Wa,30,7,"div",6),e.qZA(),e._UZ(61,"div",40),e.TgZ(62,"div",48)(63,"div",49)(64,"div",19),e._UZ(65,"cf-icon",50),e.TgZ(66,"span",21),e._uU(67,"Th\u1eddi h\u1ea1n s\u0103n v\xe9"),e.qZA()(),e.TgZ(68,"cf-label",51),e._uU(69),e.ALo(70,"date"),e.qZA()(),e.TgZ(71,"div",52)(72,"cf-input-group",53),e._UZ(73,"cf-icon",54),e.TgZ(74,"input",55,56),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(75);return e.KtG(o.close())})("dateSelect",function(o){e.CHM(t);const s=e.MAs(75);return e.oxw(2).onDateSelected(o),e.KtG(s.close())}),e.qZA(),e.YNc(76,es,1,1,"cf-hint",57),e.qZA(),e.TgZ(77,"div",58)(78,"cf-select",59),e._UZ(79,"cf-icon",60),e.YNc(80,ts,1,1,"cf-hint",57),e.YNc(81,ns,1,1,"cf-hint",57),e.qZA()()()(),e._UZ(82,"div",40),e.TgZ(83,"div",61)(84,"div")(85,"div",19),e._UZ(86,"cf-icon",62),e.TgZ(87,"span",21),e._uU(88,"Th\xf4ng b\xe1o"),e.qZA()(),e.TgZ(89,"span",63),e._uU(90,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n s\u0103n v\xe9 tr\u01b0\u1edbc 15 ph\xfat"),e.qZA()(),e.TgZ(91,"cf-switch",64),e.NdJ("checkedChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onCheckNotify(o))}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.availableInfo),e.xp6(2),e.Oqu(null==t.configOrderData?null:t.configOrderData.code),e.xp6(4),e.AsE(" ",t.configOrderData?t.configOrderData.journeys[0].startPointName:""," (",t.configOrderData?t.configOrderData.journeys[0].startPoint:"",") "),e.xp6(2),e.Oqu(t.configOrderData.journeys[0].departTime),e.xp6(10),e.AsE(" ",t.configOrderData.journeys[0].endPointName," (",t.configOrderData.journeys[0].endPoint,") "),e.xp6(2),e.Oqu(t.configOrderData.journeys[0].arrivalTime),e.xp6(9),e.AsE(" ",t.numberOfPax.adt?t.numberOfPax.adt+" Ng\u01b0\u1eddi l\u1edbn":"","",t.numberOfPax.chd?", "+t.numberOfPax.chd+" Tr\u1ebb em":""," "),e.xp6(1),e.Q6J("ngIf",t.hiddenPax),e.xp6(1),e.Q6J("ngIf",!t.hiddenPax),e.xp6(1),e.Q6J("ngIf",!t.hiddenPax),e.xp6(9),e.Q6J("checked",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(10),e.Q6J("checked",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(8),e.Q6J("color","gray-2")("size","small"),e.xp6(1),e.hij(" Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn th\u1eddi h\u1ea1n \u0111\u1ebfn ",t.timeExpire?e.xi3(70,35,t.timeExpire,"dd/MM/yyyy HH:mm"):""," "),e.xp6(3),e.Q6J("status",t.hunterConfigForm.controls.dayExpire.invalid&&(t.hunterConfigForm.controls.dayExpire.dirty||t.hunterConfigForm.controls.dayExpire.touched)?"error":"default"),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",t.minDate)("maxDate",t.maxDate)("formControl",t.hunterConfigForm.controls.dayExpire),e.xp6(2),e.Q6J("ngIf",(null==t.hunterConfigForm.controls.dayExpire.errors?null:t.hunterConfigForm.controls.dayExpire.errors.required)&&(t.hunterConfigForm.controls.dayExpire.dirty||t.hunterConfigForm.controls.dayExpire.touched)),e.xp6(2),e.Q6J("status",t.hunterConfigForm.controls.hoursExpire.invalid&&(t.hunterConfigForm.controls.hoursExpire.dirty||t.hunterConfigForm.controls.hoursExpire.touched)?"error":"default")("data",t.timeOptions||e.DdM(38,Re))("placeholder","Ch\u1ecdn gi\u1edd k\u1ebft th\xfac")("allowSearch",!0)("formControl",t.hunterConfigForm.controls.hoursExpire),e.xp6(2),e.Q6J("ngIf",(null==t.hunterConfigForm.controls.hoursExpire.errors?null:t.hunterConfigForm.controls.hoursExpire.errors.required)&&(t.hunterConfigForm.controls.hoursExpire.dirty||t.hunterConfigForm.controls.hoursExpire.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.hunterConfigForm.controls.hoursExpire.errors?null:t.hunterConfigForm.controls.hoursExpire.errors.illegal)&&(t.hunterConfigForm.controls.hoursExpire.dirty||t.hunterConfigForm.controls.hoursExpire.touched)),e.xp6(10),e.Q6J("checked",t.hunterConfigForm.value.notifBeforExpire)}}function os(n,r){if(1&n&&(e.TgZ(0,"div",113),e._UZ(1,"tooltip-available-slot",65),e.qZA()),2&n){const t=e.oxw(3),i=e.MAs(17);e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i)}}function rs(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",114),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.AsE(" ",t.fromDate," - ",t.toDate," ")}}function as(n,r){if(1&n&&(e.TgZ(0,"div",116)(1,"div",19),e._UZ(2,"img",117),e.TgZ(3,"div",72),e._uU(4),e.ALo(5,"number"),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",e.lcZ(5,1,t.hunterConfigForm.value.targetVNPrice)," \u0111")}}function ss(n,r){if(1&n&&(e.TgZ(0,"div",116)(1,"div",19),e._UZ(2,"img",118),e.TgZ(3,"div",72),e._uU(4),e.ALo(5,"number"),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",e.lcZ(5,1,t.hunterConfigForm.value.targetQHPrice)," \u0111")}}function cs(n,r){if(1&n&&(e.TgZ(0,"div",116)(1,"div",19),e._UZ(2,"img",119),e.TgZ(3,"div",72),e._uU(4),e.ALo(5,"number"),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",e.lcZ(5,1,t.hunterConfigForm.value.targetVJPrice)," \u0111")}}function ls(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,as,6,3,"div",115),e.YNc(2,ss,6,3,"div",115),e.YNc(3,cs,6,3,"div",115),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.targetVNPrice>0),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.targetQHPrice>0),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.targetVJPrice>0)}}function us(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function _s(n,r){if(1&n&&(e.TgZ(0,"div",114),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function ds(n,r){if(1&n&&(e.TgZ(0,"div",123)(1,"div",127),e._uU(2),e.qZA(),e.TgZ(3,"div",128),e.YNc(4,_s,2,1,"div",129),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.fareClass)}}function ps(n,r){if(1&n&&(e.TgZ(0,"div",122)(1,"div",123),e._UZ(2,"img",124),e.TgZ(3,"div",125),e._uU(4),e.qZA()(),e.YNc(5,ds,5,2,"div",126),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(2),e.Oqu(t.airlineName),e.xp6(1),e.Q6J("ngForOf",t.fareType)}}function gs(n,r){if(1&n&&(e.TgZ(0,"div",120),e.YNc(1,ps,6,3,"div",121),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.monitors)}}function ms(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function fs(n,r){1&n&&(e.TgZ(0,"div",130)(1,"div",99),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n: "),e.qZA(),e.TgZ(3,"div",100),e._uU(4,"Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n s\u0103n v\xe9 "),e.qZA()())}function hs(n,r){1&n&&e._UZ(0,"div",40)}function vs(n,r){if(1&n&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.infant.namePrefix,") ",t.infant.displayName," - ",t.infant.birthday," ")}}function xs(n,r){if(1&n&&(e.ynx(0),e.YNc(1,hs,1,0,"div",70),e.TgZ(2,"div",71)(3,"div",72),e._uU(4),e.qZA(),e.TgZ(5,"div",73)(6,"div",72),e._uU(7),e.qZA(),e.YNc(8,vs,2,3,"div",74),e.qZA()(),e.BQk()),2&n){const t=r.$implicit,i=r.index,o=r.first;e.xp6(1),e.Q6J("ngIf",!o),e.xp6(3),e.hij("",i+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.infant)}}function Ts(n,r){1&n&&(e.TgZ(0,"div",131),e._uU(1,"B\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u n\xe0y "),e.qZA())}function Es(n,r){if(1&n&&(e.TgZ(0,"div",131),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("N\u1ebfu s\u0103n \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ",e.lcZ(2,1,t.availableInfo.amountPerPax)," \u0111 ph\xed d\u1ecbch v\u1ee5 ")}}function bs(n,r){if(1&n&&(e.TgZ(0,"div",17)(1,"div")(2,"div",18)(3,"div",19),e._UZ(4,"cf-icon",20),e.TgZ(5,"span",21),e._uU(6,"M\xe3 y\xeau c\u1ea7u s\u0103n v\xe9"),e.qZA()(),e.YNc(7,os,2,2,"div",95),e.qZA(),e.TgZ(8,"div",22),e._uU(9),e.qZA()(),e.TgZ(10,"div",33)(11,"div",19),e._UZ(12,"cf-icon",96),e.TgZ(13,"span",21),e._uU(14,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(15,"div",97)(16,"div",23)(17,"div",24)(18,"div",25),e._uU(19),e.qZA(),e.TgZ(20,"div",26),e._uU(21),e.qZA()(),e.TgZ(22,"div",27)(23,"div",28)(24,"div",29),e._UZ(25,"div",30)(26,"div",31),e.qZA()(),e.TgZ(27,"div"),e._UZ(28,"cf-icon",32),e.qZA()(),e.TgZ(29,"div",24)(30,"div",25),e._uU(31),e.qZA(),e.TgZ(32,"div",26),e._uU(33),e.qZA()()(),e.TgZ(34,"div",73)(35,"div",98)(36,"div",99),e._uU(37,"H\u1ea1n s\u0103n v\xe9:"),e.qZA(),e.TgZ(38,"div",100),e._uU(39),e.ALo(40,"date"),e.qZA()(),e.TgZ(41,"div",98)(42,"div",99),e._uU(43,"Gi\u1edd kh\u1edfi h\xe0nh:"),e.qZA(),e.TgZ(44,"div",101),e.YNc(45,rs,3,2,"ng-container",69),e.qZA()(),e.TgZ(46,"div",98)(47,"div",99),e._uU(48,"M\u1ee9c gi\xe1 t\u1ed1i \u0111a:"),e.qZA(),e.TgZ(49,"div",100),e.YNc(50,ls,4,3,"div",6),e.YNc(51,us,2,0,"div",6),e.qZA()(),e.TgZ(52,"div",98)(53,"div",99),e._uU(54,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n: "),e.qZA(),e.TgZ(55,"div",100),e.YNc(56,gs,2,1,"div",102),e.YNc(57,ms,2,0,"div",6),e.qZA()(),e.YNc(58,fs,5,0,"div",103),e.qZA()()(),e.TgZ(59,"div",33)(60,"div",19),e._UZ(61,"cf-icon",35),e.TgZ(62,"span",21),e._uU(63,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(64,"div",68),e.YNc(65,xs,9,5,"ng-container",69),e.qZA()(),e.TgZ(66,"div")(67,"div",104)(68,"div",19),e._UZ(69,"cf-icon",105),e.TgZ(70,"span",21),e._uU(71,"Ph\xed y\xeau c\u1ea7u"),e.qZA()(),e._UZ(72,"tooltip-available-slot",65),e.qZA(),e.YNc(73,Ts,2,0,"div",106),e.YNc(74,Es,3,3,"div",106),e.qZA(),e.TgZ(75,"div",33)(76,"div",19),e._UZ(77,"cf-icon",107),e.TgZ(78,"span",21),e._uU(79,"M\u1ed9t s\u1ed1 l\u01b0u \xfd"),e.qZA()(),e.TgZ(80,"div",108)(81,"div",109)(82,"div"),e._UZ(83,"cf-icon",110),e.qZA(),e.TgZ(84,"div")(85,"span",72),e._uU(86,"B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng s\u0103n \u0111\u01b0\u1ee3c v\xe9."),e.qZA(),e._uU(87," C\xf3 th\u1ec3 h\u1ee7y s\u0103n v\xe9 b\u1ea5t k\xec l\xfac n\xe0o!"),e.qZA()(),e.TgZ(88,"div",109)(89,"div"),e._UZ(90,"cf-icon",111),e.qZA(),e.TgZ(91,"div",72),e._uU(92,"B\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi "),e.TgZ(93,"span",112),e._uU(94,"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"),e.qZA(),e._uU(95," khi s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y. "),e.qZA()()()()()),2&n){const t=e.oxw(2),i=e.MAs(19);e.xp6(7),e.Q6J("ngIf",t.availableInfo),e.xp6(2),e.Oqu(t.configOrderData.code),e.xp6(10),e.AsE(" ",t.configOrderData.journeys[0].startPointName," (",t.configOrderData.journeys[0].startPoint,") "),e.xp6(2),e.Oqu(t.configOrderData.journeys[0].departTime),e.xp6(10),e.AsE(" ",t.configOrderData.journeys[0].endPointName," (",t.configOrderData.journeys[0].endPoint,") "),e.xp6(2),e.Oqu(t.configOrderData.journeys[0].arrivalTime),e.xp6(6),e.AsE(" ",e.xi3(40,21,t.hunterConfigForm.value.dayExpire,"dd/MM/yyyy")," ",t.hunterConfigForm.value.hoursExpire," "),e.xp6(6),e.Q6J("ngForOf",t.configOrderData.journeys[0].rangeTime),e.xp6(5),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(5),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.configOrderData.notifBeforExpire),e.xp6(7),e.Q6J("ngForOf",t.configOrderData.passengers),e.xp6(7),e.Q6J("availableSlotData",t.availableSlotData)("content",i),e.xp6(1),e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free)}}function ys(n,r){if(1&n&&(e.TgZ(0,"div",15),e.YNc(1,is,92,39,"div",16),e.YNc(2,bs,96,24,"div",16),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","EDIT"===t.step),e.xp6(1),e.Q6J("ngIf","CONFIRM"===t.step)}}function Cs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",135),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.close())}),e._uU(1," \u0110\xf3ng "),e.qZA()}}function Zs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",136),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onChangeStep("CONFIRM"))}),e.TgZ(1,"span"),e._uU(2,"C\u1eadp nh\u1eadt"),e.qZA(),e._UZ(3,"cf-icon",137),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",t.hunterConfigForm.invalid||!t.formChanged)}}function As(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",135),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onChangeStep("EDIT"))}),e._UZ(1,"cf-icon",138),e._uU(2," Quay l\u1ea1i "),e.qZA()}}function Ds(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",139),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onSubmit())}),e.TgZ(1,"span"),e._uU(2,"X\xe1c nh\u1eadn"),e.qZA(),e._UZ(3,"cf-icon",137),e.qZA()}}function qs(n,r){if(1&n&&(e.TgZ(0,"div",132)(1,"div",133),e.YNc(2,Cs,2,0,"button",134),e.YNc(3,Zs,4,1,"button",11),e.YNc(4,As,3,0,"button",134),e.YNc(5,Ds,4,0,"button",12),e.qZA()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf","EDIT"===t.step),e.xp6(1),e.Q6J("ngIf","EDIT"===t.step),e.xp6(1),e.Q6J("ngIf","CONFIRM"===t.step),e.xp6(1),e.Q6J("ngIf","CONFIRM"===t.step)}}function ks(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ticket-item-skeleton",140)(2,"ticket-item-skeleton",140)(3,"ticket-item-skeleton",140),e.qZA())}function Is(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82),e._uU(1),e.TgZ(2,"cf-icon",83),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(4);return e.KtG(a.onRemoveAirlineOption(o,s))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Fs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82),e._uU(1),e.TgZ(2,"cf-icon",83),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(3).$implicit,c=e.oxw(4);return e.KtG(c.onRemoveFareTypeOption(o,s,a))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",i.name+"-"+t.name,"")}}function Ss(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",82),e._uU(1),e.TgZ(2,"cf-icon",83),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw().$implicit,a=e.oxw(5).$implicit,c=e.oxw(4);return e.KtG(c.onRemoveFareOption(o,s,a))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw(2).$implicit,o=e.oxw(3).$implicit;e.xp6(1),e.hij(" ",o.name+"-"+i.name+"-"+t.name,"")}}function Ns(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ss,3,1,"div",81),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive)}}function Bs(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Ns,2,1,"ng-container",69),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function ws(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Fs,3,1,"div",81),e.YNc(2,Bs,2,1,"ng-container",6),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive&&t.totalFare===t.totalSelectedFare&&0!==t.totalFare),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function Us(n,r){if(1&n&&(e.ynx(0),e.YNc(1,ws,3,2,"ng-container",69),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Os(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Us,2,1,"ng-container",69),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",t.childItems)}}function Js(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Is,3,1,"div",81),e.YNc(2,Os,2,1,"ng-container",6),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isActive&&t.totalFare===t.totalSelectedFare&&0!==t.totalFare),e.xp6(1),e.Q6J("ngIf",t.totalFare!==t.totalSelectedFare&&0!==t.totalFare)}}function Ps(n,r){1&n&&(e.TgZ(0,"div",84)(1,"div"),e._uU(2,"Vui l\xf2ng ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n."),e.qZA()())}function Hs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"div",76),e._uU(2,"S\u0103n v\xe9 thu\u1ed9c (c\xe1c) h\xe3ng bay d\u01b0\u1edbi \u0111\xe2y"),e.qZA(),e.TgZ(3,"div",77),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.openFareOptions())}),e.TgZ(4,"div",78),e.YNc(5,Js,3,2,"ng-container",69),e.qZA(),e._UZ(6,"cf-icon",79),e.qZA(),e.YNc(7,Ps,3,0,"div",80),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("ngForOf",t.selectedFaresTree),e.xp6(2),e.Q6J("ngIf",t.checkInvalidFare())}}function Rs(n,r){1&n&&(e.TgZ(0,"div",84)(1,"div"),e._uU(2,"Vui l\xf2ng nh\u1eadp gi\xe1 \xedt nh\u1ea5t 1 h\xe3ng bay."),e.qZA()())}function Ms(n,r){if(1&n&&(e.TgZ(0,"div")(1,"div",85),e._uU(2,"Gi\u1eef ch\u1ed7 n\u1ebfu gi\xe1 v\xe9 (c\u1ee7a 1 ng\u01b0\u1eddi l\u1edbn \u0111\u1ea1i di\u1ec7n) th\u1ea5p h\u01a1n ho\u1eb7c b\u1eb1ng m\u1ee9c d\u01b0\u1edbi \u0111\xe2y "),e.qZA(),e.ynx(3),e.TgZ(4,"div",86)(5,"div",87)(6,"div",88),e._UZ(7,"img",89),e.TgZ(8,"span",63),e._uU(9,"VNA"),e.qZA()(),e._UZ(10,"cf-input-number",90),e.TgZ(11,"span",91),e._uU(12,"\u0111"),e.qZA()(),e.TgZ(13,"div",87)(14,"div",88),e._UZ(15,"img",92),e.TgZ(16,"span",63),e._uU(17,"QH"),e.qZA()(),e._UZ(18,"cf-input-number",90),e.TgZ(19,"span",91),e._uU(20,"\u0111"),e.qZA()(),e.TgZ(21,"div",87)(22,"div",88),e._UZ(23,"img",93),e.TgZ(24,"span",63),e._uU(25,"VJ"),e.qZA()(),e._UZ(26,"cf-input-number",90),e.TgZ(27,"span",91),e._uU(28,"\u0111"),e.qZA()()(),e.YNc(29,Rs,3,0,"div",80),e.BQk(),e.qZA()),2&n){const t=e.oxw(3);e.xp6(10),e.Q6J("placeholder","0")("formControl",t.hunterConfigForm.controls.targetVNPrice),e.xp6(8),e.Q6J("placeholder","0")("formControl",t.hunterConfigForm.controls.targetQHPrice),e.xp6(8),e.Q6J("placeholder","0")("formControl",t.hunterConfigForm.controls.targetVJPrice),e.xp6(3),e.Q6J("ngIf",t.checkInvalidPrice())}}function Qs(n,r){1&n&&e._UZ(0,"cf-hint",94),2&n&&e.Q6J("hint","Ng\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function Ys(n,r){1&n&&e._UZ(0,"cf-hint",94),2&n&&e.Q6J("hint","Gi\u1edd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function js(n,r){1&n&&e._UZ(0,"cf-hint",94),2&n&&e.Q6J("hint","Gi\u1edd k\u1ebft th\xfac kh\xf4ng h\u1ee3p l\u1ec7.")}function Gs(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",33)(1,"div")(2,"div",19),e._UZ(3,"cf-icon",20),e.TgZ(4,"span",21),e._uU(5,"M\xe3 y\xeau c\u1ea7u s\u0103n v\xe9"),e.qZA()(),e.TgZ(6,"div",143),e._uU(7),e.qZA()(),e.TgZ(8,"div",144)(9,"div",145)(10,"div",146),e._UZ(11,"cf-icon",42),e.TgZ(12,"div"),e._uU(13),e.qZA(),e._UZ(14,"cf-icon",147),e._uU(15),e.qZA()(),e.TgZ(16,"div",148)(17,"div")(18,"div",149),e._uU(19,"Ng\xe0y kh\u1edfi h\xe0nh:"),e.qZA(),e.TgZ(20,"div",150),e._uU(21),e.qZA()(),e.TgZ(22,"div")(23,"div",149),e._uU(24,"H\xe0nh kh\xe1ch:"),e.qZA(),e.TgZ(25,"div",27)(26,"div",150),e._uU(27),e.qZA()()()()(),e.TgZ(28,"div",33)(29,"div",151)(30,"div",151),e._UZ(31,"cf-icon",42),e.TgZ(32,"div",43)(33,"span"),e._uU(34,"Ch\u1ecdn h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n"),e.qZA()()(),e.TgZ(35,"div",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onFareOptionChange())}),e._UZ(36,"cf-switch",45),e.qZA()(),e.YNc(37,Hs,8,2,"div",6),e.qZA(),e._UZ(38,"div",40),e.TgZ(39,"div",33)(40,"div",18)(41,"div",152),e._UZ(42,"cf-icon",47),e.TgZ(43,"div",43)(44,"span"),e._uU(45,"S\u0103n theo gi\xe1"),e.qZA()()(),e.TgZ(46,"div",44),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onPriceOptionChange())}),e._UZ(47,"cf-switch",45),e.qZA()(),e.YNc(48,Ms,30,7,"div",6),e.qZA(),e._UZ(49,"div",40),e.TgZ(50,"div",33)(51,"div",33)(52,"div",19),e._UZ(53,"cf-icon",50),e.TgZ(54,"span",21),e._uU(55,"Th\u1eddi h\u1ea1n s\u0103n v\xe9"),e.qZA()(),e.TgZ(56,"cf-label",153),e._uU(57),e.ALo(58,"date"),e.qZA()(),e.TgZ(59,"div",33)(60,"cf-input-group",154),e._UZ(61,"cf-icon",54),e.TgZ(62,"input",55,56),e.NdJ("input",function(){e.CHM(t);const o=e.MAs(63);return e.KtG(o.close())})("dateSelect",function(o){e.CHM(t);const s=e.MAs(63);return e.oxw(2).onDateSelected(o),e.KtG(s.close())}),e.qZA(),e.YNc(64,Qs,1,1,"cf-hint",57),e.qZA(),e.TgZ(65,"cf-select",155),e._UZ(66,"cf-icon",60),e.YNc(67,Ys,1,1,"cf-hint",57),e.YNc(68,js,1,1,"cf-hint",57),e.qZA()()(),e._UZ(69,"div",40),e.TgZ(70,"div",151)(71,"div")(72,"div",19),e._UZ(73,"cf-icon",62),e.TgZ(74,"span",21),e._uU(75,"Th\xf4ng b\xe1o"),e.qZA()(),e.TgZ(76,"div",156),e._uU(77,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n s\u0103n v\xe9 tr\u01b0\u1edbc 15 ph\xfat"),e.qZA()(),e.TgZ(78,"cf-switch",64),e.NdJ("checkedChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.onCheckNotify(o))}),e.qZA()()()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(null==t.configOrderData?null:t.configOrderData.code),e.xp6(6),e.Oqu("H\u1ed3 Ch\xed Minh (SGN)"),e.xp6(2),e.hij(" ","H\xe0 N\u1ed9i (HAN)"," "),e.xp6(6),e.Oqu("08/11/2023"),e.xp6(6),e.Oqu("1 ADT, 1CHD"),e.xp6(9),e.Q6J("checked",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(10),e.Q6J("checked",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(8),e.Q6J("color","gray-2")("size","small"),e.xp6(1),e.hij(" Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn th\u1eddi h\u1ea1n \u0111\u1ebfn ",t.timeExpire?e.xi3(58,27,t.timeExpire,"dd/MM/yyyy HH:mm"):""," "),e.xp6(3),e.Q6J("status",t.hunterConfigForm.controls.dayExpire.invalid&&(t.hunterConfigForm.controls.dayExpire.dirty||t.hunterConfigForm.controls.dayExpire.touched)?"error":"default"),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",t.minDate)("maxDate",t.maxDate)("formControl",t.hunterConfigForm.controls.dayExpire),e.xp6(2),e.Q6J("ngIf",(null==t.hunterConfigForm.controls.dayExpire.errors?null:t.hunterConfigForm.controls.dayExpire.errors.required)&&(t.hunterConfigForm.controls.dayExpire.dirty||t.hunterConfigForm.controls.dayExpire.touched)),e.xp6(1),e.Q6J("status",t.hunterConfigForm.controls.hoursExpire.invalid&&(t.hunterConfigForm.controls.hoursExpire.dirty||t.hunterConfigForm.controls.hoursExpire.touched)?"error":"default")("data",t.timeOptions||e.DdM(30,Re))("placeholder","Ch\u1ecdn gi\u1edd k\u1ebft th\xfac")("allowSearch",!0)("formControl",t.hunterConfigForm.controls.hoursExpire),e.xp6(2),e.Q6J("ngIf",(null==t.hunterConfigForm.controls.hoursExpire.errors?null:t.hunterConfigForm.controls.hoursExpire.errors.required)&&(t.hunterConfigForm.controls.hoursExpire.dirty||t.hunterConfigForm.controls.hoursExpire.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.hunterConfigForm.controls.hoursExpire.errors?null:t.hunterConfigForm.controls.hoursExpire.errors.illegal)&&(t.hunterConfigForm.controls.hoursExpire.dirty||t.hunterConfigForm.controls.hoursExpire.touched)),e.xp6(10),e.Q6J("checked",t.hunterConfigForm.value.notifBeforExpire)}}function Vs(n,r){if(1&n&&(e.TgZ(0,"div",116)(1,"div",19),e._UZ(2,"img",117),e.TgZ(3,"div",72),e._uU(4),e.ALo(5,"number"),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",e.lcZ(5,1,t.hunterConfigForm.value.targetVNPrice)," \u0111")}}function Ks(n,r){if(1&n&&(e.TgZ(0,"div",116)(1,"div",19),e._UZ(2,"img",118),e.TgZ(3,"div",72),e._uU(4),e.ALo(5,"number"),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",e.lcZ(5,1,t.hunterConfigForm.value.targetQHPrice)," \u0111")}}function $s(n,r){if(1&n&&(e.TgZ(0,"div",116)(1,"div",19),e._UZ(2,"img",119),e.TgZ(3,"div",72),e._uU(4),e.ALo(5,"number"),e.qZA()()()),2&n){const t=e.oxw(4);e.xp6(4),e.hij(" ",e.lcZ(5,1,t.hunterConfigForm.value.targetVJPrice)," \u0111")}}function zs(n,r){if(1&n&&(e.TgZ(0,"div",122),e.YNc(1,Vs,6,3,"div",115),e.YNc(2,Ks,6,3,"div",115),e.YNc(3,$s,6,3,"div",115),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.targetVNPrice>0),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.targetQHPrice>0),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.targetVJPrice>0)}}function Ls(n,r){1&n&&(e.TgZ(0,"div",72),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Xs(n,r){if(1&n&&(e.TgZ(0,"div",114),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Ws(n,r){if(1&n&&(e.TgZ(0,"div",123)(1,"div",127),e._uU(2),e.qZA(),e.TgZ(3,"div",128),e.YNc(4,Xs,2,1,"div",129),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.fareClass)}}function ec(n,r){if(1&n&&(e.TgZ(0,"div",122)(1,"div",123),e._UZ(2,"img",124),e.TgZ(3,"div",125),e._uU(4),e.qZA()(),e.YNc(5,Ws,5,2,"div",126),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(2),e.Oqu(t.airlineName),e.xp6(1),e.Q6J("ngForOf",t.fareType)}}function tc(n,r){if(1&n&&(e.TgZ(0,"div",120),e.YNc(1,ec,6,3,"div",121),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.monitors)}}function nc(n,r){1&n&&(e.TgZ(0,"div",72),e._uU(1,"B\u1ea5t k\xec "),e.qZA())}function ic(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",114),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.AsE(" ",t.fromDate," - ",t.toDate," ")}}function oc(n,r){1&n&&e._UZ(0,"div",40)}function rc(n,r){if(1&n&&(e.TgZ(0,"div",75),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.infant.namePrefix,") ",t.infant.displayName," - ",t.infant.birthday," ")}}function ac(n,r){if(1&n&&(e.ynx(0),e.YNc(1,oc,1,0,"div",70),e.TgZ(2,"div",71)(3,"div",72),e._uU(4),e.qZA(),e.TgZ(5,"div",73)(6,"div",72),e._uU(7),e.qZA(),e.YNc(8,rc,2,3,"div",74),e.qZA()(),e.BQk()),2&n){const t=r.$implicit,i=r.index,o=r.first;e.xp6(1),e.Q6J("ngIf",!o),e.xp6(3),e.hij("",i+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.infant)}}function sc(n,r){1&n&&(e.TgZ(0,"div",131),e._uU(1,"B\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u n\xe0y "),e.qZA())}function cc(n,r){if(1&n&&(e.TgZ(0,"div",131),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("N\u1ebfu s\u0103n \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ",e.lcZ(2,1,t.availableInfo.amountPerPax)," \u0111 ph\xed d\u1ecbch v\u1ee5 ")}}function lc(n,r){if(1&n&&(e.TgZ(0,"div",167)(1,"span",168),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",169),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function uc(n,r){if(1&n&&(e.TgZ(0,"div",167)(1,"span"),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",169),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function _c(n,r){if(1&n&&(e.TgZ(0,"div",33)(1,"div",122)(2,"div",19),e._UZ(3,"cf-icon",20),e.TgZ(4,"span",21),e._uU(5,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(6,"div",157)(7,"div",158)(8,"div",159)(9,"div",25),e._uU(10),e.qZA(),e.TgZ(11,"div",26),e._uU(12),e.qZA()(),e.TgZ(13,"div",27)(14,"div",28)(15,"div",29),e._UZ(16,"div",30)(17,"div",31),e.qZA()(),e.TgZ(18,"div"),e._UZ(19,"cf-icon",32),e.qZA()(),e.TgZ(20,"div",159)(21,"div",25),e._uU(22),e.qZA(),e.TgZ(23,"div",26),e._uU(24),e.qZA()()(),e.TgZ(25,"div",160)(26,"div",63),e._uU(27,"H\u1ea1n s\u0103n v\xe9:"),e.qZA(),e.TgZ(28,"div",72),e._uU(29),e.ALo(30,"date"),e.qZA()(),e.TgZ(31,"div",161)(32,"div",63),e._uU(33,"M\u1ee9c gi\xe1 t\u1ed1i \u0111a:"),e.qZA(),e.TgZ(34,"div"),e.YNc(35,zs,4,3,"div",162),e.YNc(36,Ls,2,0,"div",163),e.qZA()(),e.TgZ(37,"div",161)(38,"div",63),e._uU(39,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n:"),e.qZA(),e.TgZ(40,"div"),e.YNc(41,tc,2,1,"div",102),e.YNc(42,nc,2,0,"div",163),e.qZA()(),e.TgZ(43,"div",160)(44,"div",63),e._uU(45,"Gi\u1edd kh\u1edfi h\xe0nh:"),e.qZA(),e.TgZ(46,"div",164),e.YNc(47,ic,3,2,"ng-container",69),e.qZA()(),e.TgZ(48,"div",160)(49,"div",63),e._uU(50,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n:"),e.qZA(),e.TgZ(51,"div",72),e._uU(52," Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n s\u0103n v\xe9 "),e.qZA()()()(),e.TgZ(53,"div",33)(54,"div",34)(55,"div",19),e._UZ(56,"cf-icon",35),e.TgZ(57,"span",21),e._uU(58,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()()(),e.TgZ(59,"div",68),e.YNc(60,ac,9,5,"ng-container",69),e.qZA()(),e.TgZ(61,"div")(62,"div",165)(63,"div")(64,"div",19),e._UZ(65,"cf-icon",105),e.TgZ(66,"span",21),e._uU(67,"Ph\xed y\xeau c\u1ea7u"),e.qZA()(),e.YNc(68,sc,2,0,"div",106),e.YNc(69,cc,3,3,"div",106),e.qZA(),e.YNc(70,lc,5,3,"div",166),e.YNc(71,uc,5,3,"div",166),e.qZA()(),e.TgZ(72,"div",122)(73,"div",19),e._UZ(74,"cf-icon",107),e.TgZ(75,"span",21),e._uU(76,"M\u1ed9t s\u1ed1 l\u01b0u \xfd"),e.qZA()(),e.TgZ(77,"div",108)(78,"div",123)(79,"div"),e._UZ(80,"cf-icon",110),e.qZA(),e.TgZ(81,"div")(82,"span",72),e._uU(83,"B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng s\u0103n \u0111\u01b0\u1ee3c v\xe9."),e.qZA(),e._uU(84," C\xf3 th\u1ec3 h\u1ee7y s\u0103n v\xe9 b\u1ea5t k\xec l\xfac n\xe0o!"),e.qZA()(),e.TgZ(85,"div",123)(86,"div"),e._UZ(87,"cf-icon",111),e.qZA(),e.TgZ(88,"div",72),e._uU(89,"B\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi "),e.TgZ(90,"span",112),e._uU(91,"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"),e.qZA(),e._uU(92," khi s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y. "),e.qZA()()()()()),2&n){const t=e.oxw(2);e.xp6(10),e.hij(" ",t.configOrderData?t.configOrderData.journeys[0].startPoint:""," "),e.xp6(2),e.Oqu(t.configOrderData.journeys[0].departTime),e.xp6(10),e.hij(" ",t.configOrderData.journeys[0].endPoint," "),e.xp6(2),e.Oqu(t.configOrderData.journeys[0].arrivalTime),e.xp6(5),e.AsE(" ",e.xi3(30,16,t.hunterConfigForm.value.dayExpire,"dd/MM/yyyy")," ",t.hunterConfigForm.value.hoursExpire," "),e.xp6(6),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(5),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.hunterConfigForm.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(5),e.Q6J("ngForOf",t.configOrderData.journeys[0].rangeTime),e.xp6(13),e.Q6J("ngForOf",t.configOrderData.passengers),e.xp6(8),e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free)}}function dc(n,r){if(1&n&&(e.TgZ(0,"div",141),e.YNc(1,Gs,79,31,"div",142),e.YNc(2,_c,93,19,"div",142),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","EDIT"===t.step),e.xp6(1),e.Q6J("ngIf","CONFIRM"===t.step)}}function pc(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ticket-item-skeleton",140)(2,"ticket-item-skeleton",140)(3,"ticket-item-skeleton",140),e.qZA())}function gc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",136),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onChangeStep("CONFIRM"))}),e.TgZ(1,"span"),e._uU(2,"C\u1eadp nh\u1eadt"),e.qZA(),e._UZ(3,"cf-icon",137),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.hunterConfigForm.invalid||!t.formChanged)}}function mc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",139),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onSubmit())}),e.TgZ(1,"span"),e._uU(2,"X\xe1c nh\u1eadn"),e.qZA(),e._UZ(3,"cf-icon",137),e.qZA()}}function fc(n,r){1&n&&(e.TgZ(0,"div",171)(1,"span",172),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",169),e.qZA())}function hc(n,r){1&n&&(e.TgZ(0,"div",171)(1,"span",172),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",169),e.qZA())}function vc(n,r){if(1&n&&(e.YNc(0,fc,4,0,"div",170),e.YNc(1,hc,4,0,"div",170)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}function xc(n,r){if(1&n&&(e.TgZ(0,"div",174)(1,"span",168),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",169),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function Tc(n,r){if(1&n&&(e.TgZ(0,"div",174)(1,"span"),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",169),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,1,t.availableInfo.amountPerPax)," \u0111/pax")}}function Ec(n,r){if(1&n&&(e.YNc(0,xc,5,3,"div",173),e.YNc(1,Tc,5,3,"div",173)),2&n){const t=e.oxw();e.Q6J("ngIf",t.availableInfo.free),e.xp6(1),e.Q6J("ngIf",!t.availableInfo.free)}}function bc(n,r){1&n&&e._UZ(0,"cf-spinner")}let oe=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E,k,S){this.ref=i,this.bottomSheetData=o,this.calendar=s,this._fb=a,this._bookingHunterService=c,this._locationDataService=l,this._modal=d,this._flightDataService=u,this._requestBookingShareService=m,this._cd=v,this._toastService=Z,this._eventLogService=E,this.bottomSheetRef=k,this._bottomSheetService=S,this.title="Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u s\u0103n v\xe9",this.step="EDIT",this.hiddenPax=!1,this.MONITOR_TYPE=N.$,this.timeExpireStr="",this.MAX_TIME_EXECUTE=48,this.timeOptions=[],this.isLoading=!1,this.isSpinning=!1,this.monitors=[],this.numberOfPax={adt:0,chd:0},this.formChanged=!1,t.registerIcons([_.tLH,_.TOh,_.n78,_.fqi,_.rJw,_.okA,_.qDv,_.PcQ,_.Vn9,_.Lji,_.PSW]),this.minDate=s.getToday(),this.initFormGroup(),i&&(this.orderId=i.data.orderId,this.sourceEvent=i.data.sourceEvent||""),o&&(this.orderId=o.orderId,this.sourceEvent=o.sourceEvent||""),this.orderId&&this.getCurrentConfigOrder()}ngOnInit(){this.timeOptions=this.generateTimeArrays(),this.hunterConfigForm.valueChanges.subscribe(()=>{this.formChanged=!0})}initFormGroup(){this.hunterConfigForm=this._fb.group({notifBeforExpire:[!1],targetVNPrice:[0],targetVJPrice:[0],targetQHPrice:[0],fareOptions:[null],monitorType:[N.$.FARE],dayExpire:[null,x.kI.required],hoursExpire:[null,x.kI.required]})}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss()}getCurrentConfigOrder(){this.isLoading=!0,this._bookingHunterService.getCurrentConfigOrder(this.orderId).pipe((0,M.x)(()=>this.isLoading=!1)).subscribe({next:t=>{var i,o,s,a,c,l,d,u;if("OK"===t.status){this.configOrderData={orderId:t.data.orderId,canUpdate:t.data.canUpdate,code:t.data.code,notifBeforExpire:t.data.advanceSetting.notifBeforExpire,timeExecute:t.data.advanceSetting.timeExecute,monitorType:t.data.huntFareConditions.type,specifyPriceList:(null===(i=t.data.huntFareConditions.specifyPriceList)||void 0===i?void 0:i.filter(A=>A.targetPrice))||[],passengers:this.mappingPassData(t.data.ticketInfo.passengers)||[],journeys:t.data.ticketInfo.journeys.map(A=>({departTime:h(A.departTime).format("DD/MM/YYYY"),arrivalTime:h(A.departTime).format("DD/MM/YYYY"),startPoint:A.startPoint,startPointName:this._locationDataService.getCityNameByCode(A.startPoint),endPoint:A.endPoint,endPointName:this._locationDataService.getCityNameByCode(A.endPoint),leg:A.leg,rangeTime:A.rangeTime}))},this.availableInfo=t.data.availableSlotInfo,this.availableSlotData={available:t.data.availableSlotInfo.free,type:t.data.availableSlotInfo.type,amount:t.data.availableSlotInfo.type===J.G.DOWN_FARE_TICKET?t.data.availableSlotInfo.percent:t.data.availableSlotInfo.amountPerPax,currency:t.data.availableSlotInfo.type===J.G.DOWN_FARE_TICKET?t.data.availableSlotInfo.currency:"\u0111"};const m=(null===(s=null===(o=this.configOrderData.specifyPriceList)||void 0===o?void 0:o.find(A=>"VN"===A.airline.toUpperCase()))||void 0===s?void 0:s.targetPrice)||0,v=(null===(c=null===(a=this.configOrderData.specifyPriceList)||void 0===a?void 0:a.find(A=>"VJ"===A.airline.toUpperCase()))||void 0===c?void 0:c.targetPrice)||0,Z=(null===(d=null===(l=this.configOrderData.specifyPriceList)||void 0===l?void 0:l.find(A=>"QH"===A.airline.toUpperCase()))||void 0===d?void 0:d.targetPrice)||0,E=h(this.configOrderData.timeExecute).toDate(),k=`${E.getHours().toString().padStart(2,"0")}:${E.getMinutes().toString().padStart(2,"0")}`;this.hunterConfigForm.patchValue({notifBeforExpire:this.configOrderData.notifBeforExpire,targetVNPrice:m,targetVJPrice:v,targetQHPrice:Z,fareOptions:null,monitorType:this.configOrderData.monitorType||N.$.FARE,dayExpire:E,hoursExpire:k}),this.formChanged=!1,this.generateTime();const S=(null===(u=t.data.huntFareConditions.specifyFareClassList)||void 0===u?void 0:u.map(A=>A.fareClass.split(";")).reduce((A,Y)=>[...A,...Y]))||[];this.loadFareOptions().subscribe({next:A=>{this.selectedFaresTree=A,this.selectedFaresTree.forEach(Y=>{Y.childItems.forEach(ye=>{ye.childItems.forEach(Ce=>{Ce.childItems.forEach(le=>{S.includes(le.code)&&(le.isActive=!0)})})}),this.standardizeAirlineOptionSelected(Y)}),this.handleSelectedFare(this.selectedFaresTree)},error:A=>{console.log(A)}})}else this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u s\u0103n v\xe9 l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!0}),this.ref.close(!1)},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u s\u0103n v\xe9 l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!0}),this.ref.close(!1)}})}mappingPassData(t=[]){var i,o;const s=[];return this.numberOfPax={adt:(null===(i=null==t?void 0:t.filter(a=>{var c;return"ADT"===(null===(c=a.type)||void 0===c?void 0:c.toUpperCase())}))||void 0===i?void 0:i.length)||0,chd:(null===(o=null==t?void 0:t.filter(a=>{var c;return"CHD"===(null===(c=a.type)||void 0===c?void 0:c.toUpperCase())}))||void 0===o?void 0:o.length)||0},null==t||t.forEach(a=>{var c;if("INF"!==a.type){const l={displayName:a.lastName+" "+a.firstName,index:"number"==typeof a.index?a.index:"",type:a.type,gender:a.gender,namePrefix:"MALE"===(null===(c=a.gender)||void 0===c?void 0:c.toUpperCase())?"MR":"MRS"};s.push(l)}}),null==t||t.forEach(a=>{var c;if("INF"===a.type){const l={displayName:a.lastName+" "+a.firstName,type:a.type,gender:a.gender,namePrefix:"MALE"===(null===(c=a.gender)||void 0===c?void 0:c.toUpperCase())?"B\xc9 TRAI":"B\xc9 G\xc1I",parentIndex:a.parentIndex||"",birthday:a.birthday?h(a.birthday).format("DD/MM/YYYY"):""},d=s.find(u=>u.index===a.parentIndex);d&&(d.infant=l)}}),s||[]}generateTimeArrays(t=0,i=0,o=23,s=60){const a=[];for(let c=t;c<=o;c++)for(let l=0;l<60;l+=15){if(l<i&&c===t||l>s&&c===o)continue;const d=c.toString().padStart(2,"0"),u=l.toString().padStart(2,"0");a.push({value:`${d}:${u}`,text:`${d}:${u}`})}return a}generateTime(){const t=new Date,s=(h(this.configOrderData.journeys[0].departTime,"DD/MM/YYYY").endOf("date").toDate().getTime()-t.getTime())/36e5,a=Math.min(Math.floor(s),this.MAX_TIME_EXECUTE);t.setHours(t.getHours()+a),t.setMinutes(59),this.timeExpire=t,this.maxDate=(0,p.jy)(this.timeExpire)}onDateSelected(t){const i=h(t).format("DD/MM/YYYY"),o=h(new Date).format("DD/MM/YYYY"),s=h(this.timeExpire).format("DD/MM/YYYY");this.timeOptions=i===o?this.generateTimeArrays((new Date).getHours(),(new Date).getMinutes(),24,60):i===s?this.generateTimeArrays(0,0,this.timeExpire.getHours(),this.timeExpire.getMinutes()):this.generateTimeArrays(0,0,23,60),this.timeOptions.some(c=>this.hunterConfigForm.controls.hoursExpire.value===c.value)?this.hunterConfigForm.controls.hoursExpire.setErrors(null):this.hunterConfigForm.controls.hoursExpire.setErrors({illegal:!0})}onSubmit(){if(this.hunterConfigForm.invalid)return;const t=this.hunterConfigForm.value,i={advanceSetting:{notifBeforExpire:t.notifBeforExpire,timeExecute:h(t.dayExpire).format("YYYY-MM-DD")+`T${t.hoursExpire}:00`},huntFareConditions:{specifyFareClassList:t.monitorType===N.$.FARE?this.listSelectedFares:[],specifyPriceList:t.monitorType===N.$.PRICE?[{airline:"VN",targetPrice:t.targetVNPrice||0},{airline:"QH",targetPrice:t.targetQHPrice||0},{airline:"VJ",targetPrice:t.targetVJPrice||0}].filter(o=>o.targetPrice):[],type:t.monitorType},orderId:this.orderId};i.huntFareConditions.specifyPriceList=i.huntFareConditions.specifyPriceList.filter(o=>o.targetPrice),this._eventLogService.captureEditHuntFare({updateTypes:{timeExpire:i.advanceSetting.timeExecute===this.configOrderData.timeExecute?0:1,fare:i.huntFareConditions.type===N.$.PRICE?1:0,price:i.huntFareConditions.type===N.$.FARE?1:0,notif:i.advanceSetting.notifBeforExpire===this.configOrderData.notifBeforExpire?0:1},source:this.getSourceEvent()}),this.isSpinning=!0,this._bookingHunterService.updateConfigOrder(i).pipe((0,M.x)(()=>this.isSpinning=!0)).subscribe({next:o=>{"OK"===o.status?(this.ref&&this.ref.close("OK"),this.bottomSheetData&&this.bottomSheetRef.dismiss("OK")):(this.ref&&this.ref.close("ERROR"),this.bottomSheetData&&this.bottomSheetRef.dismiss("ERROR"))}})}getSourceEvent(){switch(this.sourceEvent){case"DETAL_HUNT":return 0;case"CARD_MANAGE":return 1;default:return-1}}checkInvalidPrice(){const t=this.hunterConfigForm.value;return!t.targetVNPrice&&!t.targetVJPrice&&!t.targetQHPrice}checkInvalidFare(){return!this.selectedFaresTree||this.selectedFaresTree.every(t=>!t.totalSelectedFare)}onChangeStep(t){const i=this.hunterConfigForm.value;(N.$.PRICE===i.monitorType&&!this.checkInvalidPrice()||N.$.FARE===i.monitorType&&!this.checkInvalidFare())&&(this.step=t)}onFareOptionChange(){const t=this.hunterConfigForm.value;if(this.hunterConfigForm.value.monitorType===N.$.PRICE&&(t.targetVNPrice||t.targetVJPrice||t.targetQHPrice))if(this.bottomSheetData){const o=this._bottomSheetService.open(I.Q4,{headerTitle:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});o.containerInstance._rightButtonClick.subscribe(()=>{o.dismiss()}),o.afterDismissed().subscribe(s=>{s&&this.hunterConfigForm.controls.monitorType.setValue(N.$.FARE)})}else this._modal.open(I.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:s=>{s.data&&this.hunterConfigForm.controls.monitorType.setValue(N.$.FARE)}});else this.hunterConfigForm.controls.monitorType.setValue(N.$.FARE)}onPriceOptionChange(){if(this.hunterConfigForm.value.monitorType===N.$.FARE&&this.listSelectedFares&&this.listSelectedFares.length)if(this.bottomSheetData){const i=this._bottomSheetService.open(I.Q4,{headerTitle:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>S\u0103n theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c s\u0103n theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});i.containerInstance._rightButtonClick.subscribe(()=>{i.dismiss()}),i.afterDismissed().subscribe(o=>{o&&this.hunterConfigForm.controls.monitorType.setValue(N.$.PRICE)})}else this._modal.open(I.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>S\u0103n theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\xe3ng bay/h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c s\u0103n theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:o=>{o.data&&this.hunterConfigForm.controls.monitorType.setValue(N.$.PRICE)}});else this.hunterConfigForm.controls.monitorType.setValue(N.$.PRICE)}loadFareOptions(){return this._bookingHunterService.getLstAirlineFareoptions().pipe((0,ge.U)(t=>this.formatAirlineFareOptions(t.data)))}countAirlineTotalFare(t){var i;let o=0;return null===(i=t.cabin)||void 0===i||i.forEach(s=>{var a;null===(a=s.fareType)||void 0===a||a.forEach(c=>{o+=c.fareClass.length||0})}),o}formatAirlineFareOptions(t){return t.map(i=>{var o;return{name:this._flightDataService.getAirlineNameByCode(null===(o=i.airline)||void 0===o?void 0:o.toUpperCase()),code:i.airline,icon:this._flightDataService.getAirlineIconByCode(i.airline),isActive:!1,isDisable:!1,totalFare:this.countAirlineTotalFare(i),childItems:i.cabin.map(s=>({code:s.code,name:s.name,isActive:!1,isDisable:!1,childItems:s.fareType.map(a=>{var c;return{code:a.code,name:a.description,isActive:!1,isDisable:!1,totalFare:(null===(c=a.fareClass)||void 0===c?void 0:c.length)||0,childItems:a.fareClass.map(l=>({code:l.code,name:l.name,isActive:!1,childItems:[],isDisable:!1}))}})}))}})}handleSelectedFare(t){const i=(null==t?void 0:t.filter(o=>o.isActive))||[];this.listSelectedFares=null==i?void 0:i.map(o=>{const s=o.childItems.flatMap(a=>a.childItems).filter(a=>a.isActive).flatMap(a=>a.childItems).filter(a=>a.isActive).flatMap(a=>a.code);return{airline:o.code.toUpperCase(),fareClass:s.join(";")}}),this.monitors=i.map(o=>({airline:o.code.toUpperCase(),airlineName:o.name,airlineLogo:this._flightDataService.getAirlineLogoByCode(o.code.toUpperCase()),fareType:o.childItems.filter(s=>s.isActive).map((s,a)=>({order:a,code:s.code,name:s.name,fareClass:s.childItems.flatMap(c=>c.childItems).filter(c=>c.isActive).map((c,l)=>({order:l,code:c.code,name:c.name}))}))}))}openFareOptions(){this.loadFareOptions().subscribe({next:t=>{this._modal.open(me,{data:this.selectedFaresTree}).afterClosed$.subscribe({next:o=>{o.data&&(this.formChanged=!0,this.selectedFaresTree=o.data,this.handleSelectedFare(this.selectedFaresTree))}})},error:t=>{console.log(t)}})}onRemoveFareOption(t,i,o){t.preventDefault(),t.stopPropagation(),i.isActive=!1,this.formChanged=!0,this.standardizeAirlineOptionSelected(o)}onRemoveFareTypeOption(t,i,o){t.preventDefault(),t.stopPropagation(),i.isActive=!1,i.childItems.forEach(s=>{s.isActive=!1}),this.formChanged=!0,this.standardizeAirlineOptionSelected(o)}onRemoveAirlineOption(t,i){t.preventDefault(),t.stopPropagation(),i.isActive=!1,i.childItems.forEach(o=>{o.childItems.forEach(s=>{s.childItems.forEach(a=>a.isActive=!1)})}),this.formChanged=!0,this.standardizeAirlineOptionSelected(i)}standardizeAirlineOptionSelected(t){this.handleSelectedFare(this.selectedFaresTree);let i=!1;t.childItems.forEach(o=>{o.childItems.forEach(s=>{s.isActive=s.childItems.map(a=>a.isActive).reduce((a,c)=>a||c,!1),s.totalSelectedFare=s.childItems.filter(a=>a.isActive).length,s.isActive&&(i=!0)})}),t.isActive=i,t.totalSelectedFare=t.childItems.reduce((o,s)=>o+s.childItems.map(a=>a.childItems.filter(c=>c.isActive).length).reduce((a,c)=>a+c),0),this._cd.detectChanges()}onCheckNotify(t){this.hunterConfigForm.controls.notifBeforExpire.setValue(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.KNP),e.Y36(P.gb,8),e.Y36(b.Rr,8),e.Y36(p.jH),e.Y36(x.qu),e.Y36(T.yL),e.Y36(ee._),e.Y36(P.oE),e.Y36(te.G),e.Y36(T.FH),e.Y36(e.sBO),e.Y36(ne.BX),e.Y36($.x),e.Y36(b.Zu,8),e.Y36(b.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["edit-booking-hunter"]],standalone:!0,features:[e.jDz],decls:21,vars:9,consts:[[1,"w-[700px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:hidden"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],["class","w-full h-full flex-1 overflow-auto",4,"ngIf"],["class","p-6",4,"ngIf"],[4,"ngIf"],[1,"hidden","md:block","md:w-screen","h-full","overflow-hidden","pb-[100px]"],["class","p-4 w-ful h-full overflow-y-auto",4,"ngIf"],[1,"hidden","md:flex","justify-between","gap-x-4","p-6","bg-neutral-white","w-full","shadow-sidebar","fixed","bottom-0","right-0"],["cf-button","","size","medium","type","secondary",1,"bg-white","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1","class","justify-center",3,"disabled","click",4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center",3,"click",4,"ngIf"],["availableSlotRef",""],["availableSlotFeeRef",""],[1,"w-full","h-full","flex-1","overflow-auto"],["class","p-6 w-ful h-full flex flex-col gap-y-6",4,"ngIf"],[1,"p-6","w-ful","h-full","flex","flex-col","gap-y-6"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","gap-x-2"],["icon","coupon","size","small"],[1,"text-heading-sm","text-neutral-black"],[1,"text-heading-md","text-neutral-black"],[1,"rounded","bg-neutral-gray-1","py-3","flex","justify-center","items-center","gap-x-4"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"text-express-sm","text-neutral-gray-4"],[1,"flex","gap-x-1","items-center"],[1,"flex","flex-col","items-center","gap-y-1","text-express-sm","text-neutral-gray-4","relative"],[1,"flex","items-center"],[1,"w-1","h-1","bg-neutral-gray-3","rounded-full"],[1,"w-[100px]","h-[1px]","bg-neutral-gray-3"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"flex","flex-col","gap-y-4"],[1,"flex","gap-x-4","cursor-default"],["icon","users","size","small"],[1,"px-3","py-2","flex","gap-x-1","items-center","text-button-md","text-secondary-3-4","cursor-pointer",3,"click"],["icon","chevron_down","size","small",4,"ngIf"],["icon","chevron_up","size","small",4,"ngIf"],["class","border border-dashed border-neutral-gray-2 rounded-lg p-3 flex flex-col gap-y-2",4,"ngIf"],[1,"w-full","h-[1px]","bg-neutral-gray-1"],[1,"flex","justify-between","items-center","gap-x-[4px]"],["icon","plane","size","small"],[1,"text-heading-sm"],[1,"cursor-pointer",3,"click"],[1,"pointer-events-none",3,"checked"],[1,"flex","justify-between","items-center","mb-2"],["icon","money","size","small"],[1,"flex","flex-col","gap-y-2.5"],[1,"flex","gap-x-2","items-center"],["icon","clock","size","small"],[3,"color","size"],[1,"flex","justify-between","gap-x-6"],[1,"!w-1/2",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","maxDate","formControl","input","dateSelect"],["dateFrom","cfDatepicker"],["cfHint","",3,"hint",4,"ngIf"],[1,"!w-1/2"],["textField","text","valueField","value",1,"!max-w-none","w-full",3,"status","data","placeholder","allowSearch","formControl"],["cfHeadIcon","","icon","clock","size","small"],[1,"flex","justify-between","items-start"],["icon","notification","size","small"],[1,"text-body-md"],[3,"checked","checkedChange"],[3,"availableSlotData","content"],["icon","chevron_down","size","small"],["icon","chevron_up","size","small"],[1,"border","border-dashed","border-neutral-gray-2","rounded-lg","p-3","flex","flex-col","gap-y-2"],[4,"ngFor","ngForOf"],["class","w-full h-[1px] bg-neutral-gray-1",4,"ngIf"],[1,"flex","gap-x-2","justify-start"],[1,"text-express-md"],[1,"flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngIf"],[1,"text-body-sm"],[1,"text-espressive-sm"],[1,"flex","border","border-[#CCCCCC]","justify-between","items-center","rounded","mt-2","mb-2","cursor-pointer",3,"click"],["id","faresgroup",1,"flex","flex-wrap","p-2","gap-2","max-h-[7em]","overflow-y-auto"],["icon","chevron_down","size","small",1,"p-2","cursor-pointer"],["class","text-body-sm mt-1.5 empty:!m-0 text-secondary-6-5",4,"ngIf"],["class","border border-neutral-gray-1 bg-[#F2F2F2] text-espressive-sm p-1",4,"ngIf"],[1,"border","border-neutral-gray-1","bg-[#F2F2F2]","text-espressive-sm","p-1"],["icon","close","size","small",1,"px-2","float-right","text-[#999999]",3,"click"],[1,"text-body-sm","mt-1.5","empty:!m-0","text-secondary-6-5"],[1,"text-body-md","mb-1.5"],[1,"grid","grid-cols-2","gap-x-5","gap-y-3"],[1,"w-full","h-10","flex","justify-between","border","border-neutral-gray-2","rounded","!col-span-2","items-center"],[1,"w-[120px]","shrink-0","flex","gap-x-2","border-r","border-neutral-gray-2","py-2","px-3"],["src","assets/icons/vn-icon.svg",1,"h-5","w-10","object-contain"],["size","medium",1,"pl-4",3,"placeholder","formControl"],[1,"text-body-md-short","px-3","py-2"],["src","assets/icons/qh-icon.svg",1,"h-5","w-10","object-contain"],["src","assets/icons/vj-icon.svg",1,"h-5","w-10","object-contain"],["cfHint","",3,"hint"],["class","md:hidden",4,"ngIf"],["icon","plan","size","small"],[1,"border","border-dashed","border-neutral-gray-2","rounded-lg","p-3"],[1,"p-3","border-b","border-neutral-gray-1","flex","gap-x-3"],[1,"min-w-[142px]","whitespace-nowrap","text-body-md-short","text-neutral-black"],[1,"flex-1","text-express-md","text-neutral-gray-6"],[1,"flex-1","text-express-md","text-neutral-gray-6","gap-x-2"],["class","flex-1 text-express-md text-neutral-gray-6 flex flex-col gap-y-3",4,"ngIf"],["class","p-3 flex gap-x-3",4,"ngIf"],[1,"flex","items-center","justify-between","gap-x-2"],["icon","coupon","size","small",1,"inline-block"],["class","text-body-md pl-6 text-neutral-gray-4",4,"ngIf"],["icon","circle_information","size","small"],[1,"flex","flex-col","gap-y-2","text-body-md-short"],[1,"flex","gap-x-3"],["icon","price_down","size","small"],["icon","document_check","size","small"],[1,"text-secondary-3-4"],[1,"md:hidden"],[1,"text-express-sm","text-neutral-gray-6","py-1","px-2","rounded","bg-neutral-gray-2"],["class","text-body-md text-neutral-black w-full",4,"ngIf"],[1,"text-body-md","text-neutral-black","w-full"],["src","assets/icons/vn-icon.svg",1,"w-8","h-8","object-contain"],["src","assets/icons/qh-icon.svg",1,"w-8","h-8","object-contain"],["src","assets/icons/vj-icon.svg",1,"w-8","h-8","object-contain"],[1,"flex-1","text-express-md","text-neutral-gray-6","flex","flex-col","gap-y-3"],["class","flex flex-col gap-y-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-y-3"],[1,"flex","gap-x-2"],[1,"w-[24px]","h-[24px]","object-contain",3,"src"],[1,"text-express-md","text-neutral-gray-6"],["class","flex gap-x-2",4,"ngFor","ngForOf"],[1,"rounded","text-express-sm","h-fit","py-1","px-2","border","border-neutral-gray-5"],[1,"flex","gap-2","flex-wrap"],["class","text-express-sm text-neutral-gray-6 py-1 px-2 rounded bg-neutral-gray-2",4,"ngFor","ngForOf"],[1,"p-3","flex","gap-x-3"],[1,"text-body-md","pl-6","text-neutral-gray-4"],[1,"p-6"],[1,"flex","justify-end","gap-x-2"],["cf-button","","size","medium","type","secondary","class","justify-center",3,"click",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"disabled","click"],["icon","circle_check","size","small",1,"ml-2.5"],["icon","chevron_left","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"rounded","border","border-neutral-gray-1"],[1,"p-4","w-ful","h-full","overflow-y-auto"],["class","flex flex-col gap-y-4",4,"ngIf"],[1,"text-heading-lg","text-neutral-black"],[1,"flex","flex-col","gap-y-2","py-3","px-4","rounded","bg-neutral-gray-1","w-full"],[1,"flex","flex-col","justify-between","gap-y-1.5"],[1,"text-express-md","text-neutral-gray-6","flex","items-center","gap-x-2.5"],["icon","arrow_right","size","small"],[1,"flex","gap-x-8"],[1,"text-body-sm","text-neutral-gray-4"],[1,"text-express-sm","text-neutral-gray-6"],[1,"flex","justify-between","items-start","gap-x-2"],[1,"flex","justify-between","items-center","gap-x-2"],[1,"w-fit","ml-6",3,"color","size"],[1,"!w-full",3,"status"],["textField","text","valueField","value",1,"!max-w-full",3,"status","data","placeholder","allowSearch","formControl"],[1,"text-body-md","ml-6"],[1,"p-3","border","border-dashed","border-neutral-gray-1","rounded-lg"],[1,"rounded","bg-neutral-gray-1","py-3","px-2.5","flex","justify-between","items-center","gap-x-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"px-4","py-3","flex","flex-col","gap-y-3"],[1,"px-4","py-3","border-t","border-neutral-gray-1","flex","flex-col","gap-y-3"],["class","flex flex-col gap-y-3",4,"ngIf"],["class","text-express-md",4,"ngIf"],[1,"text-express-md","flex","gap-x-4"],[1,"flex","items-start","justify-between","gap-x-2"],["class","inline-flex gap-x-1 items-center whitespace-nowrap text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"inline-flex","gap-x-1","items-center","whitespace-nowrap","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"],[1,"line-through"],["icon","circle_help","size","small",1,"text-neutral-white"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["class","inline-flex gap-x-1 items-center text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"inline-flex","gap-x-1","items-center","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.YNc(5,ys,3,2,"div",4),e.YNc(6,qs,6,4,"div",5),e.YNc(7,ks,4,0,"div",6),e.qZA(),e.TgZ(8,"div",7),e.YNc(9,dc,3,2,"div",8),e.YNc(10,pc,4,0,"div",6),e.qZA(),e.TgZ(11,"div",9)(12,"button",10),e.NdJ("click",function(){return i.close()}),e._uU(13," \u0110\xf3ng "),e.qZA(),e.YNc(14,gc,4,1,"button",11),e.YNc(15,mc,4,0,"button",12),e.qZA(),e.YNc(16,vc,2,2,"ng-template",null,13,e.W1O),e.YNc(18,Ec,2,2,"ng-template",null,14,e.W1O),e.YNc(20,bc,1,0,"cf-spinner",6)),2&t&&(e.xp6(3),e.Oqu(i.title),e.xp6(2),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(2),e.Q6J("ngIf",!i.isLoading),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(4),e.Q6J("ngIf","EDIT"===i.step),e.xp6(1),e.Q6J("ngIf","CONFIRM"===i.step),e.xp6(5),e.Q6J("ngIf",i.isSpinning))},dependencies:[f.ez,f.sg,f.O5,f.JJ,f.uU,x.u5,x.Fj,x.JJ,x.UX,x.oH,_.AxE,_.Sm8,D.N8,D.Xq,X.I,F.j$,F.ND,F.BN,F.lt,He.b,j.q,p.Cs,L.m,ie.IA,I.OR,b.DW,K._],styles:["#faresgroup[_ngcontent-%COMP%]{scrollbar-width:auto;scrollbar-color:#c4c4c4 #ffffff}#faresgroup[_ngcontent-%COMP%]::-webkit-scrollbar{width:10px}#faresgroup[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff}#faresgroup[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#c4c4c4;border-radius:8px;border:2px solid #ffffff}"]}),n})();var yc=g(46779);function Cc(n,r){if(1&n&&(e.TgZ(0,"div",34)(1,"div",35)(2,"span"),e._uU(3,"Y\xeau c\u1ea7u mi\u1ec5n ph\xed"),e.qZA(),e._UZ(4,"cf-icon",36),e.qZA(),e.TgZ(5,"div",37),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.AsE(" ",t.orderTaskStatus.numOrderFree?t.orderTaskStatus.numOrderFree:0,"/",t.orderTaskStatus.numMaxFree," ")}}function Zc(n,r){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"tooltip-available-slot",32),e.YNc(2,Cc,7,2,"ng-template",null,33,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("content",t)("availableSlotData",i.availableSlotData)}}function Ac(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",38),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onBookingHunter())}),e._UZ(1,"cf-icon",39),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o y\xeau c\u1ea7u"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.canCreateOrder)}}const Dc=function(n,r){return{"border-b-4 border-neutral-gray-4":n,"!pl-5":r}},qc=function(n){return{"text-neutral-gray-6":n}},kc=function(n){return{"!bg-neutral-gray-6 text-express-sm":n}};function Ic(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",40,41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,a=e.MAs(2),c=e.oxw();return e.KtG(c.onChangeTab(s,a))}),e.TgZ(3,"div",42),e._uU(4),e.TgZ(5,"cf-label",43),e._uU(6),e.qZA()()(),e.BQk()}if(2&n){const t=r.$implicit,i=r.first;e.xp6(1),e.Q6J("ngClass",e.WLB(6,Dc,t.active,!i)),e.xp6(2),e.Q6J("ngClass",e.VKq(9,qc,t.active)),e.xp6(1),e.hij(" ",t.text," "),e.xp6(1),e.Q6J("color","green")("ngClass",e.VKq(11,kc,t.active)),e.xp6(1),e.hij(" ",t.counter>99?"99+":t.counter," ")}}const ce=function(){return[]};function Fc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",21)(1,"div",22),e._uU(2,"Thu\u1ed9c \u0111\u1ea1i l\xfd:"),e.qZA(),e.TgZ(3,"cf-select",23),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.filterData.ownerId=o)})("selectedChange",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onFilterChange())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("status","default")("data",t.agentOptions||e.DdM(5,ce))("placeholder","")("allowSearch",!0)("ngModel",t.filterData.ownerId)}}function Sc(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"booking-hunter-item",45),e.NdJ("actionChange",function(o){const a=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.onChange(o,a))}),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("pnrOrderData",t)}}function Nc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",44),e.NdJ("scrolled",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.onScrollDown())}),e.YNc(1,Sc,2,1,"ng-container",11),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),e.xp6(1),e.Q6J("ngForOf",t.listPnrOrder)}}function Bc(n,r){1&n&&(e.TgZ(0,"div")(1,"div",47)(2,"div"),e._UZ(3,"img",48),e.qZA(),e.TgZ(4,"div",49)(5,"div",50),e._uU(6,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3"),e.qZA(),e.TgZ(7,"div",51)(8,"div"),e._uU(9,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 hi\u1ec3n th\u1ecb"),e.qZA(),e.TgZ(10,"div"),e._uU(11,"Vui l\xf2ng th\u1eed l\u1ea1i sau ho\u1eb7c ki\u1ec3m tra l\u1ea1i th\xf4ng tin t\xecm ki\u1ebfm."),e.qZA()()()()())}function wc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.onBookingHunter())}),e._UZ(1,"cf-icon",39),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o m\u1edbi ngay"),e.qZA()()}}function Uc(n,r){if(1&n&&(e.TgZ(0,"div",47)(1,"div"),e._UZ(2,"img",52),e.qZA(),e.TgZ(3,"div",53)(4,"div",50),e._uU(5,"Ch\u01b0a c\xf3 y\xeau c\u1ea7u s\u0103n v\xe9"),e.qZA(),e.TgZ(6,"div",51),e._uU(7," T\u1ea1o y\xeau c\u1ea7u s\u0103n v\xe9 gi\xfap b\u1ea1n t\u1ef1 \u0111\u1ed9ng canh v\xe0 gi\u1eef ch\u1ed7 c\xe1c chuy\u1ebfn bay theo y\xeau c\u1ea7u m\u1ed9t c\xe1ch d\u1ec5 d\xe0ng nh\u1ea5t! "),e.qZA()(),e.YNc(8,wc,4,0,"button",54),e.qZA()),2&n){const t=e.oxw(2);e.xp6(8),e.Q6J("ngIf",t.huntBookingFlag)}}function Oc(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Bc,12,0,"div",7),e.YNc(2,Uc,9,1,"div",46),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isEmptyOrder),e.xp6(1),e.Q6J("ngIf",t.isEmptyOrder)}}function Jc(n,r){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ticket-item-skeleton",56)(2,"ticket-item-skeleton",56)(3,"ticket-item-skeleton",56),e.qZA())}function Pc(n,r){1&n&&e._UZ(0,"cf-spinner")}function Hc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"cf-select",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw(2);return e.KtG(s.filterData.ownerId=o)}),e.TgZ(1,"label",62)(2,"span"),e._uU(3,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.Q6J("status","default")("data",t.agentOptions||e.DdM(5,ce))("placeholder","")("allowSearch",!0)("ngModel",t.filterData.ownerId)}}function Rc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",57)(1,"div",58)(2,"cf-input-group",59),e._UZ(3,"cf-icon",14),e.TgZ(4,"input",15,16),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.filterData.searchText=o)}),e.qZA()(),e.YNc(6,Hc,4,6,"cf-select",60),e.TgZ(7,"cf-select",61),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.filterData.airline=o)}),e.TgZ(8,"label",62)(9,"span"),e._uU(10,"H\xe3ng bay"),e.qZA()()(),e.TgZ(11,"cf-select",63),e.NdJ("ngModelChange",function(o){e.CHM(t);const s=e.oxw();return e.KtG(s.filterData.sortByType=o)}),e.TgZ(12,"label",62)(13,"span"),e._uU(14,"S\u1eafp x\u1ebfp"),e.qZA()()()(),e.TgZ(15,"div")(16,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.searchHuntLowFare())}),e._UZ(17,"cf-icon",65),e.TgZ(18,"div"),e._uU(19,"T\xecm ki\u1ebfm"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.filterData.searchText),e.xp6(2),e.Q6J("ngIf",t.viewListAgentForMonitorHuntFare),e.xp6(1),e.Q6J("status","default")("data",t.airlineOptions)("allowSearch",!1)("ngModel",t.filterData.airline),e.xp6(4),e.Q6J("status","default")("data",t.orderbyOptions||e.DdM(11,ce))("placeholder","")("allowSearch",!1)("ngModel",t.filterData.sortByType)}}let Mc=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E,k){this._locationDataService=i,this._flightDataService=o,this._permissionService=s,this._modal=a,this._router=c,this._ticketLowFareService=l,this._authenticationService=d,this._toastService=u,this._mobileDetectService=m,this._requestDataService=v,this._bookingHunterService=Z,this._eventLogService=E,this._bottomSheetService=k,this.canCreateOrder=!0,this.isSpinner=!1,this.STATUS_ORDER=B.b,this.tabSelected="ALL",this.listTab=[{value:"ALL",text:"T\u1ea5t c\u1ea3",counter:0,active:!0},{value:B.b.IN_PROCESS,text:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",counter:0,active:!1},{value:B.b.COMPLETED,text:"Th\xe0nh c\xf4ng",counter:0,active:!1},{value:B.b.CANCEL,text:"\u0110\xe3 k\u1ebft th\xfac",counter:0,active:!1}],this.orderbyOptions=[{value:"TIME_UPDATE",text:"Ng\xe0y c\u1eadp nh\u1eadt"},{value:"TIME_CREATE",text:"Ng\xe0y y\xeau c\u1ea7u"},{value:"TIME_EXPIRE",text:"H\u1ea1n s\u0103n v\xe9"},{value:"AIRLINE",text:"H\xe3ng bay"},{value:"PNR",text:"M\xe3 \u0111\u1eb7t ch\u1ed7"}],this.airlineOptions=[{value:"ALL",text:"T\u1ea5t c\u1ea3"},{value:"VN",text:"Vietnam Airlines"},{value:"VJ",text:"VietJet Air"},{value:"QH",text:"Bamboo Airways"}],this.agentOptions=[{value:"",text:"T\u1ea5t c\u1ea3"}],this.searchValueChanged$=new Ee.x,this.currentTab="ALL",this.filterData={airline:"ALL",sortByType:"TIME_UPDATE",ownerId:"",searchText:"",offset:1,limit:10},this.listPnrOrder=[],this.viewListAgentForMonitorHuntFare=this._permissionService.hasPermission(U.or.ViewListAgentForMonitorHuntFare),this.isSkeleton=!0,this.isEmptyOrder=!1,this.isEmptyResult=!1,this.totalItem=0,this.huntBookingFlag=this._permissionService.hasPermission(U.or.CanMonitorHuntFareTicket),this.unsubscribe$=new Ee.x,this.searchHuntLowFareResult$=new Ee.x,this.availableSlotData={available:!1,type:J.G.HUNT_NEW_TICKET,amount:0,currency:"VND"},t.registerIcons([_.TM4,_.oFb,_.xbi,_.D7,_.SK7]),this._eventLogService.captureOpenManageHuntFare()}ngOnInit(){this.viewListAgentForMonitorHuntFare&&this.getListAgentFilter(),this.searchHuntLowFareResult$.pipe((0,Sa.w)(t=>this._ticketLowFareService.getListPnrOrder(t).pipe((0,M.x)(()=>this.isSkeleton=!1))),(0,Na.R)(this.unsubscribe$)).subscribe({next:t=>{var i;if("OK"===t.status){1===this.filterData.offset&&(this.listPnrOrder=[]);const o=this.listTab.find(a=>a.value===this.currentTab);o&&(o.counter=t.data.total),this.orderTaskStatus=t.data.orderTaskStatus,this._permissionService.isBooker()||(this.canCreateOrder=null===(i=t.data.orderTaskStatus)||void 0===i?void 0:i.canCreateOrder);const s=t.data.listOrder.map(a=>{var c,l,d;const u=a.ticketInfo.passengers.find(v=>"ADT"===v.type.toUpperCase()),m=u?`${u.lastName} ${u.firstName}`:"";return{orderId:a.orderId,code:a.code,state:a.state,monitorType:a.monitorType,rangeDateTime:a.ticketInfo.journeys[0].rangeDateTime,startPoint:a.ticketInfo.journeys[0].startPoint,startPointName:this._locationDataService.getCityNameByCode(a.ticketInfo.journeys[0].startPoint),endPoint:a.ticketInfo.journeys[0].endPoint,endPointName:this._locationDataService.getCityNameByCode(a.ticketInfo.journeys[0].endPoint),departTime:a.ticketInfo.journeys[0].departTime?h(a.ticketInfo.journeys[0].departTime).format("DD/MM/YYYY"):"",ownerName:a.ownerInfo.name||"",timeCreated:a.orderInfo.timeCreate?h(a.orderInfo.timeCreate).format("DD/MM/YYYY HH:mm"):"",timeExpired:a.orderInfo.timeExpire?h(a.orderInfo.timeExpire).format("DD/MM/YYYY HH:mm"):"",timeUpdated:a.orderInfo.timeUpdate?h(a.orderInfo.timeUpdate).format("DD/MM/YYYY HH:mm"):"",targetPrice:(null===(c=a.orderInfo.priceMonitors[0])||void 0===c?void 0:c.targetPrice)||0,airline:a.ticketInfo.airline?a.ticketInfo.airline:"B\u1ea5t k\xec",canUpdate:a.canUpdate,countOfPax:[],representPax:{name:m,remainingPax:a.ticketInfo.passengers.length-1},fareInfo:{airline:(null===(l=a.fareInfo)||void 0===l?void 0:l.airline)||"",detectedPnr:(null===(d=a.fareInfo)||void 0===d?void 0:d.detectedPnr)||""},availableSlotInfo:{amountPerPax:a.availableSlotInfo.amountPerPax||0,currency:a.availableSlotInfo.currency||"",free:a.availableSlotInfo.free,percent:a.availableSlotInfo.percent||0,type:a.availableSlotInfo.type}}})||[];this.listPnrOrder=[...this.listPnrOrder,...s],this.totalItem=t.data.total,this.counterState(t.data.total),this.listPnrOrder.length?(this.isEmptyResult=!1,this.isEmptyOrder=!1):(this.isEmptyResult=!0,this.isEmptyOrder=t.data.empty)}else this.listPnrOrder=[]},error:()=>{this.listPnrOrder=[]}}),this.searchHuntLowFare(),this.searchValueChanged$.pipe((0,Oe.b)(1e3)).subscribe(()=>{this.isEmptyResult=!0,this.searchHuntLowFare()})}onFilterChange(){this.isEmptyResult=!0,this.filterData.offset=1,this.searchHuntLowFare()}searchHuntLowFare(){this._mobileDetectService.isMobile()&&this.btsSearchMobile&&this.btsSearchMobile.dismiss(),this.isSkeleton=!0;const t=this.getReqSearch();this.searchHuntLowFareResult$.next(t)}getReqSearch(){let t={getAllState:!1,listState:[],searchText:this.filterData.searchText,airline:this.filterData.airline,sortByType:this.filterData.sortByType,ownerId:this.filterData.ownerId||"",pageOffset:this.filterData.offset,pageSize:this.filterData.limit,type:J.G.HUNT_NEW_TICKET};switch(this.currentTab){case B.b.IN_PROCESS:t=Object.assign(Object.assign({},t),{getAllState:!1,listState:[B.b.CREATE,B.b.IN_PROCESS,B.b.IN_PROCESS_PRICE_UP]});break;case B.b.COMPLETED:t=Object.assign(Object.assign({},t),{getAllState:!1,listState:[B.b.COMPLETED]});break;case B.b.CANCEL:t=Object.assign(Object.assign({},t),{getAllState:!1,listState:[B.b.CANCEL,B.b.EXPIRED]});break;default:t=Object.assign(Object.assign({},t),{getAllState:!0,listState:[]})}return t}counterState(t){this.listTab.forEach(i=>{var o,s;i.value===this.currentTab&&(i.counter=t),["CREATE","IN_PROCESS","IN_PROCESS_PRICE_UP"].includes(i.value)&&!i.counter&&(i.counter=(null===(o=this.orderTaskStatus)||void 0===o?void 0:o.inProcessTask)||0),"COMPLETED"===i.value&&!i.counter&&(i.counter=(null===(s=this.orderTaskStatus)||void 0===s?void 0:s.completeTask)||0)})}getListAgentFilter(){this._ticketLowFareService.getAgentFilterOrder().subscribe({next:t=>{var i;if("OK"===t.status){const o=(null===(i=t.data)||void 0===i?void 0:i.map(s=>({value:s.id,text:s.username})))||[];this.agentOptions=[...this.agentOptions,...o]}}})}onChangeTab(t,i){t.value!==this.currentTab&&(i.scrollIntoView({behavior:"smooth",inline:"center"}),this.listPnrOrder=[],this.filterData.offset=1,this.listTab.forEach(o=>o.active=!1),t.active=!0,this.currentTab=t.value,this.searchHuntLowFare())}onScrollDown(){this.filterData.offset*this.filterData.limit<this.totalItem&&(this.filterData.offset+=1,this.searchHuntLowFare())}onChange(t,i){switch(t){case"DETAIL":this.onShowBookingHunterDetail(i.orderId);break;case"EDIT":this.onEditBookingHunter(i.orderId);break;case"CANCEL":this.onCancelPnrOrder(i.orderId,i.code);break;case"BOOKING_DETAIL":this.onBookingDetail(i.fareInfo.airline,i.fareInfo.detectedPnr);break;case"CREATE_NEW":this._requestDataService.preInitialFormOrderId=i.orderId,this._requestDataService.sourceEvent="REGENERATE",this._router.navigate(["admin/request-booking-hunter"],{state:{isEntryPointManageOrder:!0}})}}onBookingDetail(t,i){this._router.navigate([`admin/booking-detail/${t}/${i}`])}onShowBookingHunterDetail(t,i=!1,o=!1){this._eventLogService.captureOpenDetailHuntFare({source:0}),this._router.navigate([`admin/booking-hunter-detail/${t}`],{state:{isUpdated:i,isUpdatedFail:o}})}onEditBookingHunter(t){if(this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(oe,{containerFullHeigh:!0,headerTitle:"Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u s\u0103n v\xe9",leftButtonIcon:"",rightButtonIcon:"close",data:{orderId:t}});i.containerInstance._rightButtonClick.subscribe(()=>{i.dismiss()}),i.afterDismissed().subscribe(o=>{"OK"===o&&this.onShowBookingHunterDetail(t,!0,!1),"ERROR"===o&&this.onShowBookingHunterDetail(t,!1,!0)})}else this._modal.open(oe,{orderId:t}).afterClosed$.subscribe({next:o=>{"OK"===o.data&&(this.onShowBookingHunterDetail(t,!0,!1),this.listPnrOrder.forEach(s=>{s.orderId===t&&(s.canUpdate=o.data.canUpdate)})),"ERROR"===o.data&&this.onShowBookingHunterDetail(t,!1,!0)}})}onCancelPnrOrder(t,i){this._eventLogService.captureCancelHuntFare({source:0}),this._mobileDetectService.isMobile()?(this.isSpinner=!0,this._ticketLowFareService.cancelPnrOrder(t).pipe((0,M.x)(()=>this.isSpinner=!1)).subscribe({next:o=>{"OK"===o.status?(this._toastService.add({severity:"success",summary:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 th\xe0nh c\xf4ng",detail:`H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 #${i} th\xe0nh c\xf4ng.`,sticky:!1}),this.searchHuntLowFare()):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 #${i} l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})}})):this._modal.open(I.V0,{title:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",body:`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${i}</strong>?`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:s=>{s.data&&(this.isSpinner=!0,this._ticketLowFareService.cancelPnrOrder(t).pipe((0,M.x)(()=>this.isSpinner=!1)).subscribe({next:a=>{"OK"===a.status?(this._toastService.add({severity:"success",summary:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 th\xe0nh c\xf4ng",detail:`H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 #${i} th\xe0nh c\xf4ng.`,sticky:!1}),this.searchHuntLowFare()):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 #${i} l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})}}))}})}onBookingHunter(){this._requestDataService.sourceEvent="EMPTY_STATE",this._router.navigate(["admin/request-booking-hunter"],{state:{isEntryPointSearch:!1}})}openBottomSheet(t){const i=this._bottomSheetService.open(t,{headerTitle:"",rightButtonIcon:"",rightButtonIconClass:"text-neutral-gray-4"});i.containerInstance._rightButtonClick.subscribe(o=>{i.dismiss()})}openSearchBts(t){this.btsSearchMobile=this._bottomSheetService.open(t,{headerTitle:"T\xecm ki\u1ebfm",containerFullHeigh:!0,rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1}),this.btsSearchMobile.containerInstance._leftButtonClick.subscribe(i=>{this.btsSearchMobile.dismiss()})}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.KNP),e.Y36(ee._),e.Y36(te.G),e.Y36(U.$A),e.Y36(P.oE),e.Y36(w.F0),e.Y36(G.s),e.Y36(yc.r),e.Y36(ne.BX),e.Y36(y.L),e.Y36(T.FH),e.Y36(T.yL),e.Y36($.x),e.Y36(b.a2))},n.\u0275cmp=e.Xpm({type:n,selectors:[["manage-booking-hunter"]],standalone:!0,features:[e.jDz],decls:44,vars:21,consts:[[1,"flex","flex-col","h-full","w-full"],[1,"py-4","px-[30px]","flex","flex-col","gap-y-[30px]","md:gap-y-4","bg-neutral-white"],[1,"flex","justify-between","gap-x-6","md:flex-col","md:gap-y-4"],[1,"flex","flex-col","gap-y-1.5"],[1,"text-heading-lg","md:text-heading-sm"],[1,"text-express-sm","text-neutral-gray-4","md:text-body-sm"],[1,"flex","justify-between","items-center","gap-x-6"],[4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center whitespace-nowrap",3,"disabled","click",4,"ngIf"],[1,"flex","flex-col","gap-y-5"],[1,"flex","overflow-x-auto"],[4,"ngFor","ngForOf"],[1,"flex","justify-between"],[1,"!w-[350px]","md:hidden"],["cfHeadIcon","","icon","search","size","small",1,"text-neutral-gray-4"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm theo PNR, s\xe2n bay, m\xe3 y\xeau c\u1ea7u","autocomplete","off",3,"ngModel","ngModelChange"],["tableSearchInput",""],[1,"hidden","md:block","md:!w-full","md:!max-w-full"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm theo PNR, s\xe2n bay, m\xe3 y\xeau c\u1ea7u","autocomplete","off",3,"ngModel","ngModelChange","focus"],[1,"flex","gap-x-4","items-center","md:hidden"],["class","flex items-center gap-x-2.5",4,"ngIf"],[1,"flex","items-center","gap-x-2.5"],[1,"text-express-md","whitespace-nowrap"],["textField","text","valueField","value",1,"!max-w-none","w-[160px]",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange","selectedChange"],["textField","text","valueField","value",1,"!max-w-none","w-full",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange","selectedChange"],[1,"flex-auto","h-full","w-full"],[1,"h-full","pt-8","pb-4","px-[30px]","flex","justify-center"],[1,"w-[1000px]","max-w-[1000px]"],[1,"w-full","h-full"],[1,"flex","flex-col","gap-y-[30px]","md:gap-y-4"],["class","flex flex-col gap-y-[30px] md:gap-y-4","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled",4,"ngIf"],["bottomSheetSearch",""],[3,"content","availableSlotData"],["availableSlotRef",""],[1,"flex","flex-col","justify-between","whitespace-nowrap","items-end","cursor-default","md:items-start"],[1,"text-express-sm","text-neutral-gray-4","flex","items-center","gap-x-2"],["icon","circle_help","size","small"],[1,"text-express-xl","md:text-express-lg"],["cf-button","","size","medium","color","primary-1",1,"justify-center","whitespace-nowrap",3,"disabled","click"],["icon","plus","size","small",1,"mr-2.5"],[1,"py-2.5","pr-5","pl-0","flex","gap-x-2.5","border-b","border-neutral-gray-1","cursor-pointer",3,"ngClass","click"],["tabElement",""],[1,"flex","items-center","whitespace-nowrap","text-heading-md","text-neutral-gray-4","md:text-express-md",3,"ngClass"],[1,"!text-express-xs","!p-1","bg-neutral-gray-4","ml-2",3,"color","ngClass"],["infinite-scroll","",1,"flex","flex-col","gap-y-[30px]","md:gap-y-4",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled"],[3,"pnrOrderData","actionChange"],["class","bg-neutral-white rounded-lg shadow-cf-info-card h-full w-full p-[120px] flex flex-col justify-center\n              items-center gap-y-8 md:px-5 md:py-[80px]",4,"ngIf"],[1,"bg-neutral-white","rounded-lg","shadow-cf-info-card","h-full","w-full","p-[120px]","flex","flex-col","justify-center","items-center","gap-y-8","md:px-5","md:py-[80px]"],["src","assets/images/empty_result.png","alt","empty",1,"w-[160px]","h-160px","object-contain"],[1,"flex","flex-col","justify-between","items-center"],[1,"text-heading-md"],[1,"text-center","text-body-md-short"],["src","assets/images/add-task.svg","alt","empty",1,"w-[160px]","h-160px","object-contain"],[1,"flex","flex-col","gap-y-2","justify-between","items-center"],["cf-button","","size","medium","color","primary-1","class","justify-center",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"rounded","border","border-neutral-gray-1"],[1,"p-4","w-full","flex","flex-col","justify-between"],[1,"flex","flex-col","gap-y-4"],[1,"!max-w-none","w-full"],["class","!max-w-none w-full","textField","text","valueField","value",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange",4,"ngIf"],["textField","text","valueField","value","size","medium","placeholder","",1,"!max-w-none","w-full",3,"status","data","allowSearch","ngModel","ngModelChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["textField","text","valueField","value",1,"!max-w-none","w-full",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange"],["cf-button","",1,"w-full","justify-center","gap-x-2",3,"click"],["icon","search","size","small"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5,"S\u0103n v\xe9"),e.qZA(),e.TgZ(6,"div",5),e._uU(7," M\u1ed9t c\xe1ch \u0111\u1ec3 \u0111\u1eb7t ch\u1ed7 t\u1ef1 \u0111\u1ed9ng nh\u1eefng chuy\u1ebfn bay hay h\u1ebft ch\u1ed7! "),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,Zc,4,2,"div",7),e.YNc(10,Ac,4,1,"button",8),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10),e.YNc(13,Ic,7,13,"ng-container",11),e.qZA(),e.TgZ(14,"div",12)(15,"cf-input-group",13),e._UZ(16,"cf-icon",14),e.TgZ(17,"input",15,16),e.NdJ("ngModelChange",function(a){return i.filterData.searchText=a})("ngModelChange",function(a){return i.searchValueChanged$.next(a)}),e.qZA()(),e.TgZ(19,"cf-input-group",17),e._UZ(20,"cf-icon",14),e.TgZ(21,"input",18,16),e.NdJ("ngModelChange",function(a){return i.filterData.searchText=a})("focus",function(){e.CHM(o);const a=e.MAs(43);return e.KtG(i.openSearchBts(a))}),e.qZA()(),e.TgZ(23,"div",19),e.YNc(24,Fc,4,6,"div",20),e.TgZ(25,"div",21)(26,"div",22),e._uU(27,"H\xe3ng bay:"),e.qZA(),e.TgZ(28,"cf-select",23),e.NdJ("ngModelChange",function(a){return i.filterData.airline=a})("selectedChange",function(){return i.onFilterChange()}),e.qZA()(),e.TgZ(29,"div",21)(30,"div",22),e._uU(31,"S\u1eafp x\u1ebfp:"),e.qZA(),e.TgZ(32,"cf-select",24),e.NdJ("ngModelChange",function(a){return i.filterData.sortByType=a})("selectedChange",function(){return i.onFilterChange()}),e.qZA()()()()()(),e.TgZ(33,"div",25)(34,"div",26)(35,"div",27)(36,"div",28)(37,"div",29),e.YNc(38,Nc,2,7,"div",30),e.YNc(39,Oc,3,2,"div",7),e.qZA(),e.YNc(40,Jc,4,0,"div",7),e.qZA()()()()(),e.YNc(41,Pc,1,0,"cf-spinner",7),e.YNc(42,Rc,20,12,"ng-template",null,31,e.W1O)}2&t&&(e.xp6(9),e.Q6J("ngIf",i.orderTaskStatus),e.xp6(1),e.Q6J("ngIf",i.huntBookingFlag),e.xp6(3),e.Q6J("ngForOf",i.listTab),e.xp6(4),e.Q6J("ngModel",i.filterData.searchText),e.xp6(4),e.Q6J("ngModel",i.filterData.searchText),e.xp6(3),e.Q6J("ngIf",i.viewListAgentForMonitorHuntFare),e.xp6(4),e.Q6J("status","default")("data",i.airlineOptions)("placeholder","")("allowSearch",!1)("ngModel",i.filterData.airline),e.xp6(4),e.Q6J("status","default")("data",i.orderbyOptions||e.DdM(20,ce))("placeholder","")("allowSearch",!1)("ngModel",i.filterData.sortByType),e.xp6(6),e.Q6J("ngIf",!i.isEmptyResult&&i.listPnrOrder.length),e.xp6(1),e.Q6J("ngIf",i.isEmptyResult&&!i.isSkeleton),e.xp6(1),e.Q6J("ngIf",i.isSkeleton),e.xp6(1),e.Q6J("ngIf",i.isSpinner))},dependencies:[f.ez,f.mk,f.sg,f.O5,x.u5,x.Fj,x.JJ,x.On,D.N8,D.Xq,x.UX,F.j$,F.ND,F.BN,_.AxE,_.Sm8,j.q,Q.Rq,Q.Ry,He.b,ie.IA,I.OR,Ut,K._],encapsulation:2}),n})();var Qc=g(89701);function Yc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCancleHunt())}),e._UZ(1,"cf-icon",71),e._uU(2," H\u1ee7y s\u0103n "),e.qZA()}}function jc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",72,73),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onEditHunt())}),e._UZ(3,"cf-icon",74),e._uU(4," Ch\u1ec9nh s\u1eeda "),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.pnrOrderDetailData.canUpdate)("disabledOneClick",!0)("manualHandle",t.pnrOrderDetailData.canUpdate)("placement","topCenter")("cfTooltip","Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda do \u0111\xe3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc \u0111\xf3")}}function Gc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.gotoBookingDetail())}),e._UZ(1,"cf-icon",76),e._uU(2," M\u1edf \u0111\u1eb7t ch\u1ed7 "),e.qZA()}}function Vc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCreateNewRegisterHunt())}),e._UZ(1,"cf-icon",77),e._uU(2," T\u1ea1o l\u1ea1i y\xeau c\u1ea7u "),e.qZA()}}function Kc(n,r){1&n&&(e.TgZ(0,"div",78),e._UZ(1,"cf-icon",79),e.TgZ(2,"div")(3,"span",39),e._uU(4,"\u0110\xe3 c\u1eadp nh\u1eadt y\xeau c\u1ea7u s\u0103n v\xe9. "),e.qZA(),e.TgZ(5,"span",43),e._uU(6,"Ch\xfang t\xf4i s\u1ebd s\u0103n v\xe9 theo y\xeau c\u1ea7u m\u1edbi c\u1ee7a b\u1ea1n."),e.qZA()()())}function $c(n,r){1&n&&(e.TgZ(0,"div",80),e.O4$(),e.TgZ(1,"svg",81),e._UZ(2,"circle",82)(3,"path",83),e.qZA(),e.kcU(),e.TgZ(4,"div")(5,"span",39),e._uU(6,"C\u1eadp nh\u1eadt y\xeau c\u1ea7u s\u0103n v\xe9 th\u1ea5t b\u1ea1i. "),e.qZA(),e.TgZ(7,"span",43),e._uU(8,"C\xf3 l\u1ed7i khi c\u1eadp nh\u1eadt y\xeau c\u1ea7u s\u0103n v\xe9. Vui l\xf2ng th\u1eed l\u1ea1i!"),e.qZA()()())}function zc(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",84),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.gotoBookingDetail())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.pnrOrderDetailData.bookingCode,"")}}function Lc(n,r){if(1&n&&(e.TgZ(0,"div",85),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pnrOrderDetailData.totalCharge)," \u0111")}}function Xc(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",54)(2,"div",55),e._UZ(3,"cf-icon",86),e.TgZ(4,"span"),e._uU(5,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(6,"div",59)(7,"div",87)(8,"div",88)(9,"div",89),e._uU(10),e.qZA()(),e.TgZ(11,"div",90),e._UZ(12,"img",91),e.qZA(),e.TgZ(13,"div",92)(14,"div",93),e._uU(15),e.qZA(),e.TgZ(16,"div",94),e._uU(17),e.qZA()(),e.TgZ(18,"div",92)(19,"div",93),e._uU(20),e.qZA(),e.TgZ(21,"div",94),e._uU(22),e.qZA()(),e.TgZ(23,"div",92)(24,"div",93),e._uU(25),e.qZA(),e.TgZ(26,"div",94),e._uU(27),e.qZA()(),e.TgZ(28,"div",95)(29,"div"),e._uU(30),e.qZA(),e.TgZ(31,"div",96)(32,"div",88),e._UZ(33,"div",97)(34,"div",98),e.qZA(),e._UZ(35,"cf-icon",99),e.qZA()(),e.TgZ(36,"div",92)(37,"div",93),e._uU(38),e.qZA(),e.TgZ(39,"div",94),e._uU(40),e.qZA()()()()(),e.BQk()),2&n){const t=r.$implicit,i=r.index;e.xp6(10),e.hij(" ",i+1," "),e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(3),e.Oqu(t.flightNumber),e.xp6(2),e.Oqu(t.airlineName),e.xp6(3),e.Oqu(t.departDate),e.xp6(2),e.Oqu(t.fareClass),e.xp6(3),e.Oqu(t.departTime),e.xp6(2),e.Oqu(t.startPoint),e.xp6(3),e.Oqu("Bay th\u1eb3ng"),e.xp6(8),e.Oqu(t.arriveTime),e.xp6(2),e.Oqu(t.endPoint)}}function Wc(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Xc,41,11,"ng-container",53),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.segments)}}function el(n,r){1&n&&e._UZ(0,"div",103)}function tl(n,r){if(1&n&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.infant.namePrefix,") ",t.infant.displayName," - ",t.infant.birthday," ")}}function nl(n,r){if(1&n&&(e.ynx(0),e.YNc(1,el,1,0,"div",100),e.TgZ(2,"div",101)(3,"div",39),e._uU(4),e.qZA(),e.TgZ(5,"div",42)(6,"div",39),e._uU(7),e.qZA(),e.YNc(8,tl,2,3,"div",102),e.qZA()(),e.BQk()),2&n){const t=r.$implicit,i=r.index,o=r.first;e.xp6(1),e.Q6J("ngIf",!o),e.xp6(3),e.hij("",i+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.infant)}}function il(n,r){if(1&n&&(e.TgZ(0,"div",105),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("H\u1ebft h\u1ea1n sau ",t.timeExpiredStr,"")}}function ol(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",106),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.AsE(" ",t.fromDate," - ",t.toDate," ")}}function rl(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",107),e._UZ(2,"img",108),e.TgZ(3,"div",85),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(2),e.hij("",e.lcZ(5,2,t.targetPrice)," \u0111")}}function al(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,rl,6,4,"ng-container",53),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.pnrOrderDetailData.priceMonitors)}}function sl(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function cl(n,r){if(1&n&&(e.TgZ(0,"div",106),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function ll(n,r){if(1&n&&(e.TgZ(0,"div",112)(1,"div",115),e._uU(2),e.qZA(),e.TgZ(3,"div",116),e.YNc(4,cl,2,1,"div",117),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.fareClass)}}function ul(n,r){if(1&n&&(e.TgZ(0,"div",111)(1,"div",112),e._UZ(2,"img",108),e.TgZ(3,"div",85),e._uU(4),e.TgZ(5,"span",113),e._uU(6),e.qZA()()(),e.YNc(7,ll,5,2,"div",114),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(2),e.hij("",t.airlineName," "),e.xp6(2),e.hij("(",t.airline,")"),e.xp6(1),e.Q6J("ngForOf",t.fareType)}}function _l(n,r){if(1&n&&(e.TgZ(0,"div",109),e.YNc(1,ul,8,4,"div",110),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.pnrOrderDetailData.monitors)}}function dl(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function pl(n,r){1&n&&(e.TgZ(0,"div",118)(1,"div",61),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n: "),e.qZA(),e.TgZ(3,"div",65),e._uU(4," Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n s\u0103n v\xe9 "),e.qZA()())}function gl(n,r){if(1&n&&(e.TgZ(0,"div",118)(1,"div",61),e._uU(2,"Thu\u1ed9c \u0111\u1ea1i l\xfd:"),e.qZA(),e.TgZ(3,"div",70),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij("",null==t.pnrOrderDetailData.ownerInfo?null:t.pnrOrderDetailData.ownerInfo.name," ")}}const be=function(){return["CREATE","IN_PROCESS","IN_PROCESS_PRICE_UP"]},Me=function(){return["COMPLETED"]},Qe=function(){return["EXPIRED","CANCEL"]};function ml(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"div",24)(2,"button",25),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.gotoManage())}),e._UZ(3,"cf-icon",26),e._uU(4," Quay l\u1ea1i "),e.qZA(),e.TgZ(5,"div",27),e.YNc(6,Yc,3,0,"button",28),e.YNc(7,jc,5,5,"button",29),e.YNc(8,Gc,3,0,"button",30),e.YNc(9,Vc,3,0,"button",30),e.qZA()(),e.YNc(10,Kc,7,0,"div",31),e.YNc(11,$c,9,0,"div",32),e.TgZ(12,"div",33)(13,"div",34)(14,"div",35),e._UZ(15,"tooltip-available-slot",36),e.TgZ(16,"div",37),e._UZ(17,"cf-icon",38),e.TgZ(18,"div",39),e._uU(19),e.qZA()()(),e.TgZ(20,"div",40)(21,"div",41)(22,"div",42)(23,"div",43),e._uU(24,"H\xe0nh tr\xecnh"),e.qZA(),e.TgZ(25,"div",39)(26,"div",44)(27,"span"),e._uU(28),e.qZA(),e._UZ(29,"cf-icon",45),e.TgZ(30,"span"),e._uU(31),e.qZA()()()(),e._UZ(32,"div",46),e.TgZ(33,"div",47)(34,"div",43),e._uU(35,"Ng\xe0y bay"),e.qZA(),e.TgZ(36,"div",39),e._uU(37),e.qZA()(),e._UZ(38,"div",46),e.TgZ(39,"div",47)(40,"div",48),e._uU(41,"M\xe3 \u0111\u1eb7t ch\u1ed7 (PNR)"),e.qZA(),e.YNc(42,zc,2,1,"div",49),e.qZA(),e._UZ(43,"div",46),e.TgZ(44,"div",47)(45,"div",43),e._uU(46,"T\u1ed5ng chi ph\xed"),e.qZA(),e.YNc(47,Lc,3,3,"div",50),e.qZA()(),e.TgZ(48,"div",51),e._UZ(49,"cf-icon",52),e.TgZ(50,"span"),e._uU(51),e.qZA()()()(),e.YNc(52,Wc,2,1,"ng-container",53),e.TgZ(53,"div",54)(54,"div",55),e._UZ(55,"cf-icon",56),e.TgZ(56,"span"),e._uU(57,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(58,"div",57),e.YNc(59,nl,9,5,"ng-container",53),e.qZA()(),e.TgZ(60,"div",54)(61,"div",55),e._UZ(62,"cf-icon",58),e.TgZ(63,"span"),e._uU(64,"C\u1ea5u h\xecnh s\u0103n v\xe9"),e.qZA()(),e.TgZ(65,"div",59)(66,"div",60)(67,"div",61),e._uU(68,"H\u1ea1n s\u0103n v\xe9:"),e.qZA(),e.TgZ(69,"div",62)(70,"div"),e._uU(71),e.qZA(),e.YNc(72,il,2,1,"div",63),e.qZA()(),e.TgZ(73,"div",60)(74,"div",61),e._uU(75,"Gi\u1edd kh\u1edfi h\xe0nh: "),e.qZA(),e.TgZ(76,"div",64),e.YNc(77,ol,3,2,"ng-container",53),e.qZA()(),e.TgZ(78,"div",60)(79,"div",61),e._uU(80,"M\u1ee9c gi\xe1 t\u1ed1i \u0111a: "),e.qZA(),e.TgZ(81,"div",65),e.YNc(82,al,2,1,"div",19),e.YNc(83,sl,2,0,"div",19),e.qZA()(),e.TgZ(84,"div",60)(85,"div",61),e._uU(86,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n: "),e.qZA(),e.YNc(87,_l,2,1,"div",66),e.YNc(88,dl,2,0,"div",19),e.qZA(),e.YNc(89,pl,5,0,"div",67),e.qZA()(),e.TgZ(90,"div",54)(91,"div",55),e._UZ(92,"cf-icon",68),e.TgZ(93,"span"),e._uU(94,"Th\xf4ng tin chi ti\u1ebft"),e.qZA()(),e.TgZ(95,"div",59)(96,"div",60)(97,"div",61),e._uU(98,"M\xe3 y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(99,"div",65),e._uU(100),e.qZA()(),e.TgZ(101,"div",60)(102,"div",61),e._uU(103,"Ng\xe0y y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(104,"div",65),e._uU(105),e.qZA()(),e.TgZ(106,"div",60)(107,"div",61),e._uU(108,"Ph\xed y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(109,"div",69),e._UZ(110,"tooltip-available-slot",36),e.qZA()(),e.TgZ(111,"div",60)(112,"div",61),e._uU(113,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n: "),e.qZA(),e.TgZ(114,"div",70),e._uU(115),e.qZA()(),e.YNc(116,gl,5,1,"div",67),e.qZA()()()()}if(2&n){const t=e.oxw(),i=e.MAs(43),o=e.MAs(45);e.xp6(6),e.Q6J("ngIf",e.DdM(36,be).includes(t.pnrOrderDetailData.state)&&t.canMonitorHuntFareTicket),e.xp6(1),e.Q6J("ngIf",e.DdM(37,be).includes(t.pnrOrderDetailData.state)&&t.canMonitorHuntFareTicket),e.xp6(1),e.Q6J("ngIf",e.DdM(38,Me).includes(t.pnrOrderDetailData.state)),e.xp6(1),e.Q6J("ngIf",e.DdM(39,Qe).includes(t.pnrOrderDetailData.state)&&t.canMonitorHuntFareTicket),e.xp6(1),e.Q6J("ngIf",t.isUpdated),e.xp6(1),e.Q6J("ngIf",t.isUpdatedFail),e.xp6(3),e.Tol(t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].backgroundColor),e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i),e.xp6(1),e.Tol(t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].textColor),e.xp6(1),e.Q6J("icon",t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].icon),e.xp6(2),e.Oqu(t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].description),e.xp6(9),e.hij(" ",t.pnrOrderDetailData.journeys[0].startPoint," "),e.xp6(3),e.hij(" ",t.pnrOrderDetailData.journeys[0].endPoint," "),e.xp6(6),e.Oqu(t.pnrOrderDetailData.journeys[0].departTime),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.bookingCode),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.totalCharge),e.xp6(4),e.hij("C\u1eadp nh\u1eadt g\u1ea7n nh\u1ea5t l\xfac ",t.pnrOrderDetailData.timeUpdate,""),e.xp6(1),e.Q6J("ngForOf",t.pnrOrderDetailData.journeys),e.xp6(7),e.Q6J("ngForOf",t.displayPassengers),e.xp6(12),e.hij("",t.pnrOrderDetailData.timeExpire," "),e.xp6(1),e.Q6J("ngIf",t.showTimeExpiredStr),e.xp6(5),e.Q6J("ngForOf",t.pnrOrderDetailData.journeys[0].rangeTime),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(4),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.notifyBeforeExpired),e.xp6(11),e.hij(" ",t.pnrOrderDetailData.code," "),e.xp6(5),e.hij("",t.pnrOrderDetailData.timeCreate," "),e.xp6(5),e.Q6J("availableSlotData",t.availableSlotData)("content",o),e.xp6(5),e.hij("",t.pnrOrderDetailData.userActionInfo.name," "),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.ownerInfo)}}function fl(n,r){1&n&&(e.TgZ(0,"div",119),e._UZ(1,"ticket-item-skeleton",120)(2,"ticket-item-skeleton",120)(3,"ticket-item-skeleton",120),e.qZA())}function hl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",134),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.gotoBookingDetail())}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.pnrOrderDetailData.bookingCode,"")}}function vl(n,r){if(1&n&&(e.TgZ(0,"div",135),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pnrOrderDetailData.totalCharge)," \u0111")}}function xl(n,r){if(1&n&&(e.TgZ(0,"div",123)(1,"div",34)(2,"div",124)(3,"div",37),e._UZ(4,"cf-icon",38),e.TgZ(5,"div",39),e._uU(6),e.qZA()()(),e.TgZ(7,"div",125)(8,"div",126)(9,"div",127)(10,"div",128),e._uU(11,"H\xe0nh tr\xecnh"),e.qZA(),e.TgZ(12,"div",39)(13,"div",44)(14,"span"),e._uU(15),e.qZA(),e._UZ(16,"cf-icon",45),e.TgZ(17,"span"),e._uU(18),e.qZA()()()(),e.TgZ(19,"div",27)(20,"div",128),e._uU(21,"Ng\xe0y bay"),e.qZA(),e.TgZ(22,"div",129),e._uU(23),e.qZA()(),e.TgZ(24,"div",27)(25,"div",130),e._uU(26,"M\xe3 \u0111\u1eb7t ch\u1ed7 (PNR)"),e.qZA(),e.YNc(27,hl,2,1,"div",131),e.qZA(),e.TgZ(28,"div",27)(29,"div",128),e._uU(30,"T\u1ed5ng chi ph\xed"),e.qZA(),e.YNc(31,vl,3,3,"div",132),e.qZA()(),e.TgZ(32,"div",133)(33,"div",51),e._UZ(34,"cf-icon",52),e.TgZ(35,"span"),e._uU(36),e.qZA()(),e._UZ(37,"tooltip-available-slot",36),e.qZA()()()()),2&n){const t=e.oxw(2),i=e.MAs(43);e.xp6(2),e.Tol(t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].backgroundColor),e.xp6(1),e.Tol(t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].textColor),e.xp6(1),e.Q6J("icon",t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].icon),e.xp6(2),e.Oqu(t.CARD_HUNTER_STATUS[t.pnrOrderDetailData.state].description),e.xp6(9),e.hij(" ",t.pnrOrderDetailData.journeys[0].startPoint," "),e.xp6(3),e.hij(" ",t.pnrOrderDetailData.journeys[0].endPoint," "),e.xp6(5),e.Oqu(t.pnrOrderDetailData.journeys[0].departTime),e.xp6(4),e.Q6J("ngIf",t.pnrOrderDetailData.bookingCode),e.xp6(4),e.Q6J("ngIf",t.pnrOrderDetailData.totalCharge),e.xp6(5),e.hij("C\u1eadp nh\u1eadt g\u1ea7n nh\u1ea5t l\xfac ",t.pnrOrderDetailData.timeUpdate,""),e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i)}}function Tl(n,r){1&n&&e._UZ(0,"div",103)}function El(n,r){if(1&n&&(e.TgZ(0,"div",104),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.infant.namePrefix,") ",t.infant.displayName," - ",t.infant.birthday," ")}}function bl(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Tl,1,0,"div",100),e.TgZ(2,"div",101)(3,"div",39),e._uU(4),e.qZA(),e.TgZ(5,"div",42)(6,"div",39),e._uU(7),e.qZA(),e.YNc(8,El,2,3,"div",102),e.qZA()(),e.BQk()),2&n){const t=r.$implicit,i=r.index,o=r.first;e.xp6(1),e.Q6J("ngIf",!o),e.xp6(3),e.hij("",i+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.infant)}}function yl(n,r){if(1&n&&(e.TgZ(0,"div",123)(1,"div",136),e._UZ(2,"cf-icon",56),e.TgZ(3,"span"),e._uU(4,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(5,"div",137),e.YNc(6,bl,9,5,"ng-container",53),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.displayPassengers)}}function Cl(n,r){if(1&n&&(e.TgZ(0,"div",145),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("H\u1ebft h\u1ea1n sau ",t.timeExpiredStr,"")}}function Zl(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"span",106),e._uU(2),e.qZA(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.AsE(" ",t.fromDate," - ",t.toDate," ")}}function Al(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",107),e._UZ(2,"img",108),e.TgZ(3,"div",85),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.BQk()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(2),e.hij("",e.lcZ(5,2,t.targetPrice)," \u0111")}}function Dl(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Al,6,4,"ng-container",53),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.pnrOrderDetailData.priceMonitors)}}function ql(n,r){1&n&&(e.TgZ(0,"div"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function kl(n,r){if(1&n&&(e.TgZ(0,"div",106),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Il(n,r){if(1&n&&(e.TgZ(0,"div",112)(1,"div",115),e._uU(2),e.qZA(),e.TgZ(3,"div",116),e.YNc(4,kl,2,1,"div",117),e.qZA()()),2&n){const t=r.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.fareClass)}}function Fl(n,r){if(1&n&&(e.TgZ(0,"div",111)(1,"div",112),e._UZ(2,"img",108),e.TgZ(3,"div",85),e._uU(4),e.TgZ(5,"span",113),e._uU(6),e.qZA()()(),e.YNc(7,Il,5,2,"div",114),e.qZA()),2&n){const t=r.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(2),e.hij("",t.airlineName," "),e.xp6(2),e.hij("(",t.airline,")"),e.xp6(1),e.Q6J("ngForOf",t.fareType)}}function Sl(n,r){if(1&n&&(e.TgZ(0,"div",109),e.YNc(1,Fl,8,4,"div",110),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.pnrOrderDetailData.monitors)}}function Nl(n,r){1&n&&(e.TgZ(0,"div",85),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Bl(n,r){1&n&&(e.TgZ(0,"div",142)(1,"div",140),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n:"),e.qZA(),e.TgZ(3,"div",85),e._uU(4," Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n s\u0103n v\xe9 "),e.qZA()())}function wl(n,r){if(1&n&&(e.TgZ(0,"div",123)(1,"div",136),e._UZ(2,"cf-icon",58),e.TgZ(3,"span"),e._uU(4,"C\u1ea5u h\xecnh s\u0103n v\xe9"),e.qZA()(),e.TgZ(5,"div",138)(6,"div",139)(7,"div",140),e._uU(8,"H\u1ea1n s\u0103n v\xe9:"),e.qZA(),e.TgZ(9,"div",24)(10,"div",85),e._uU(11),e.qZA(),e.YNc(12,Cl,2,1,"div",141),e.qZA()(),e.TgZ(13,"div",142)(14,"div",140),e._uU(15,"Gi\u1edd kh\u1edfi h\xe0nh:"),e.qZA(),e.TgZ(16,"div",143),e.YNc(17,Zl,3,2,"ng-container",53),e.qZA()(),e.TgZ(18,"div",142)(19,"div",140),e._uU(20,"M\u1ee9c gi\xe1 t\u1ed1i \u0111a:"),e.qZA(),e.TgZ(21,"div",85),e.YNc(22,Dl,2,1,"div",19),e.YNc(23,ql,2,0,"div",19),e.qZA()(),e.TgZ(24,"div",142)(25,"div",140),e._uU(26,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n:"),e.qZA(),e.YNc(27,Sl,2,1,"div",66),e.YNc(28,Nl,2,0,"div",50),e.qZA(),e.YNc(29,Bl,5,0,"div",144),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(11),e.Oqu(t.pnrOrderDetailData.timeExpire),e.xp6(1),e.Q6J("ngIf",t.showTimeExpiredStr),e.xp6(5),e.Q6J("ngForOf",t.pnrOrderDetailData.journeys[0].rangeTime),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(4),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.notifyBeforeExpired)}}function Ul(n,r){if(1&n&&(e.TgZ(0,"div",142)(1,"div",140),e._uU(2,"Thu\u1ed9c \u0111\u1ea1i l\xfd:"),e.qZA(),e.TgZ(3,"div",85),e._uU(4),e.qZA()()),2&n){const t=e.oxw(3);e.xp6(4),e.hij(" ",null==t.pnrOrderDetailData.ownerInfo?null:t.pnrOrderDetailData.ownerInfo.name," ")}}function Ol(n,r){if(1&n&&(e.TgZ(0,"div",123)(1,"div",136),e._UZ(2,"cf-icon",68),e.TgZ(3,"span"),e._uU(4,"Th\xf4ng tin chi ti\u1ebft"),e.qZA()(),e.TgZ(5,"div",146)(6,"div",139)(7,"div",140),e._uU(8,"M\xe3 y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(9,"div",85),e._uU(10),e.qZA()(),e.TgZ(11,"div",142)(12,"div",140),e._uU(13,"Ng\xe0y y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(14,"div",85),e._uU(15),e.qZA()(),e.TgZ(16,"div",142)(17,"div",140),e._uU(18,"Ph\xed y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(19,"div",69),e._UZ(20,"tooltip-available-slot",36),e.qZA()(),e.TgZ(21,"div",142)(22,"div",140),e._uU(23,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n:"),e.qZA(),e.TgZ(24,"div",85),e._uU(25),e.qZA()(),e.YNc(26,Ul,5,1,"div",144),e.qZA()()),2&n){const t=e.oxw(2),i=e.MAs(45);e.xp6(10),e.hij(" ",t.pnrOrderDetailData.code," "),e.xp6(5),e.hij(" ",t.pnrOrderDetailData.timeCreate," "),e.xp6(5),e.Q6J("availableSlotData",t.availableSlotData)("content",i),e.xp6(5),e.hij(" ",t.pnrOrderDetailData.userActionInfo.name," "),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.ownerInfo)}}function Jl(n,r){if(1&n&&(e.TgZ(0,"div",121),e.YNc(1,xl,38,14,"div",122),e.YNc(2,yl,7,1,"div",122),e.YNc(3,wl,30,8,"div",122),e.YNc(4,Ol,27,6,"div",122),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","TICKET_INFO"===t.mobileTab),e.xp6(1),e.Q6J("ngIf","PAX_INFO"===t.mobileTab),e.xp6(1),e.Q6J("ngIf","ORDER_CONFIG"===t.mobileTab),e.xp6(1),e.Q6J("ngIf","ORDER_INFO"===t.mobileTab)}}function Pl(n,r){1&n&&(e.TgZ(0,"div",119),e._UZ(1,"ticket-item-skeleton",120)(2,"ticket-item-skeleton",120)(3,"ticket-item-skeleton",120),e.qZA())}function Hl(n,r){1&n&&(e.TgZ(0,"div",119),e._UZ(1,"ticket-item-skeleton",120)(2,"ticket-item-skeleton",120)(3,"ticket-item-skeleton",120),e.qZA())}function Rl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",148),e.NdJ("click",function(o){e.CHM(t);const s=e.oxw(2),a=e.MAs(41);return e.KtG(s.openBottomSheetAction(o,a))}),e._UZ(1,"cf-icon",149),e.qZA()}}function Ml(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.gotoBookingDetail())}),e._UZ(1,"cf-icon",150),e._uU(2," M\u1edf \u0111\u1eb7t ch\u1ed7 "),e.qZA()}}function Ql(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",75),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCreateNewRegisterHunt())}),e._UZ(1,"cf-icon",151),e._uU(2," T\u1ea1o l\u1ea1i y\xeau c\u1ea7u "),e.qZA()}}function Yl(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,Rl,2,0,"button",147),e.YNc(2,Ml,3,0,"button",30),e.YNc(3,Ql,3,0,"button",30),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",e.DdM(3,be).includes(t.pnrOrderDetailData.state)),e.xp6(1),e.Q6J("ngIf",e.DdM(4,Me).includes(t.pnrOrderDetailData.state)),e.xp6(1),e.Q6J("ngIf",e.DdM(5,Qe).includes(t.pnrOrderDetailData.state)&&t.canMonitorHuntFareTicket)}}const jl=function(n){return{"!text-neutral-gray-4 pointer-events-none":n}},Gl=function(n){return{"!text-neutral-gray-4":n}};function Vl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",155),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onEditHunt())}),e._UZ(1,"cf-icon",156),e.TgZ(2,"span"),e._uU(3,"Ch\u1ec9nh s\u1eeda"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,jl,!t.pnrOrderDetailData.canUpdate)),e.xp6(1),e.Q6J("ngClass",e.VKq(4,Gl,!t.pnrOrderDetailData.canUpdate))}}function Kl(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",157),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCancleHunt())}),e._UZ(1,"cf-icon",158),e.TgZ(2,"span"),e._uU(3,"H\u1ee7y s\u0103n v\xe9"),e.qZA()()}}function $l(n,r){if(1&n&&(e.TgZ(0,"div",152),e.YNc(1,Vl,4,6,"div",153),e.YNc(2,Kl,4,0,"div",154),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket),e.xp6(1),e.Q6J("ngIf",t.canMonitorHuntFareTicket)}}function zl(n,r){1&n&&(e.TgZ(0,"div",160)(1,"span",161),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",162),e.qZA())}function Ll(n,r){1&n&&(e.TgZ(0,"div",160)(1,"span",161),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",162),e.qZA())}function Xl(n,r){if(1&n&&(e.YNc(0,zl,4,0,"div",159),e.YNc(1,Ll,4,0,"div",159)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}function Wl(n,r){if(1&n&&(e.TgZ(0,"span",166),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function eu(n,r){if(1&n&&(e.TgZ(0,"span",166),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency,"/pax")}}function tu(n,r){if(1&n&&(e.TgZ(0,"div",164),e.YNc(1,Wl,3,4,"span",165),e.YNc(2,eu,3,4,"span",165),e.TgZ(3,"span"),e._uU(4,"(Mi\u1ec5n ph\xed)"),e.qZA(),e._UZ(5,"cf-icon",162),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.DOWN_FARE_TICKET),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.HUNT_NEW_TICKET)}}function nu(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function iu(n,r){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency,"/pax")}}function ou(n,r){if(1&n&&(e.TgZ(0,"div",164),e.YNc(1,nu,3,4,"span",19),e.YNc(2,iu,3,4,"span",19),e._UZ(3,"cf-icon",162),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.DOWN_FARE_TICKET),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.HUNT_NEW_TICKET)}}function ru(n,r){if(1&n&&(e.YNc(0,tu,6,2,"div",163),e.YNc(1,ou,4,2,"div",163)),2&n){const t=e.oxw();e.Q6J("ngIf",t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",!t.availableSlotData.available)}}function au(n,r){1&n&&e._UZ(0,"cf-spinner")}let su=(()=>{class n{constructor(t,i,o,s,a,c,l,d,u,m,v,Z,E,k){this.route=i,this._bookingHunterService=o,this._flightDataService=s,this._router=a,this.location=c,this._modal=l,this._ticketLowFareService=d,this._toastService=u,this._permissionService=m,this._mobileDetectService=v,this._requestDataService=Z,this._bottomSheetService=E,this._eventLogService=k,this.STATUS_HUNTER=B.b,this.MONITOR_TYPE=N.$,this.CARD_HUNTER_STATUS=T.u1,this.isUpdated=!1,this.isUpdatedFail=!1,this.isSpinning=!1,this.showTimeExpiredStr=!1,this.canMonitorHuntFareTicket=this._permissionService.hasPermission(U.or.CanMonitorHuntFareTicket),this.TYPE_ORDER=J.G,this.mobileTab="TICKET_INFO",t.registerIcons([_.toh,_.rks,_.QkI,_.okA,_.TOh,_.Xzk,_.D7,_.n78,_.esH,_.$S,_.Ffn,_.Hge,_.oFb,_.$S,_.NNX,_.SlW,_.xbi,_.tLH,_.qDv,_.BbA,_.SK7]),this.route.params.subscribe(S=>{this.orderId=S.id,this.getHunterOrderDetail()}),this.isUpdated=history.state.isUpdated,this.isUpdatedFail=history.state.isUpdatedFail,this._mobileDetectService.isMobile()&&(this.isUpdated&&this._toastService.add({severity:"success",summary:"\u0110\xe3 c\u1eadp nh\u1eadt y\xeau c\u1ea7u s\u0103n v\xe9.",detail:"Ch\xfang t\xf4i s\u1ebd s\u0103n v\xe9 theo y\xeau c\u1ea7u m\u1edbi c\u1ee7a b\u1ea1n.",sticky:!1}),this.isUpdatedFail&&this._toastService.add({severity:"error",summary:"C\u1eadp nh\u1eadt y\xeau c\u1ea7u s\u0103n v\xe9 th\u1ea5t b\u1ea1i.",detail:"C\xf3 l\u1ed7i khi c\u1eadp nh\u1eadt y\xeau c\u1ea7u s\u0103n v\xe9. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0})),this.location.replaceState(this.location.path())}getHunterOrderDetail(){this._bookingHunterService.getPnrOrderDetail(this.orderId).subscribe({next:t=>{var i,o;"OK"===t.status&&(this.handleTimeExpired(t.data.orderInfo.timeExpire,t.data.state),this.pnrOrderDetailData={orderId:t.data.orderId,code:t.data.code,canUpdate:t.data.canUpdate,airline:t.data.fareInfo.airline||"",bookingCode:t.data.fareInfo.detectedPnr||"",totalCharge:t.data.fareInfo.detectedFare||0,ownerInfo:t.data.ownerInfo,userActionInfo:t.data.userActionInfo,state:t.data.state,monitorType:t.data.monitorType,priceMonitors:(null===(i=t.data.orderInfo.priceMonitors)||void 0===i?void 0:i.map(s=>({airline:s.airline,airlineLogo:this._flightDataService.getAirlineLogoByCode(s.airline),targetPrice:s.targetPrice})))||[],notifyBeforeExpired:t.data.orderInfo.notifyBeforeExpired,timeCreate:t.data.orderInfo.timeCreate?h(t.data.orderInfo.timeCreate).format("DD/MM/YYYY HH:mm"):"",timeExpire:t.data.orderInfo.timeExpire?h(t.data.orderInfo.timeExpire).format("DD/MM/YYYY HH:mm"):"",timeUpdate:t.data.orderInfo.timeUpdate?h(t.data.orderInfo.timeUpdate).format("DD/MM/YYYY HH:mm"):"",timeFinished:t.data.orderInfo.timeFinished?h(t.data.orderInfo.timeFinished).format("DD/MM/YYYY HH:mm"):"",monitors:(null===(o=t.data.orderInfo.fareMonitors)||void 0===o?void 0:o.map(s=>({airline:s.specifyFareClassInfo.airline,airlineName:this._flightDataService.getAirlineNameByCode(s.specifyFareClassInfo.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(s.specifyFareClassInfo.airline),fareType:s.specifyFareClassInfo.cabin.flatMap(a=>a.fareType).map(a=>({order:a.order,code:a.code,name:a.description,fareClass:a.fareClass.map(c=>({order:c.order,code:c.code,name:c.name}))}))})))||[],journeys:t.data.ticketInfo.journeys.map(s=>{var a;return{leg:s.leg,airline:t.data.ticketInfo.airline,startPoint:s.startPoint,endPoint:s.endPoint,departTime:s.departTime?h(s.departTime).format("DD/MM/YYYY"):"",arrivalTime:s.arrivalTime,duration:s.duration,rangeTime:s.rangeTime,segments:(null===(a=s.segments)||void 0===a?void 0:a.map(c=>({departDate:h(c.departTime).format("DD/MM/YYYY"),departTime:h(c.departTime).format("HH:mm"),arriveDate:h(c.arriveTime).format("DD/MM/YYYY"),arriveTime:h(c.arriveTime).format("HH:mm"),startPoint:c.startPoint,endPoint:c.endPoint,fareClass:c.fareClass,airline:t.data.fareInfo.airline||"",airlineName:this._flightDataService.getAirlineNameByCode(t.data.fareInfo.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(t.data.fareInfo.airline),flightNumber:`${t.data.fareInfo.airline} ${c.flightNumber}`,duration:""})))||[]}}),passengers:t.data.ticketInfo.passengers.map(s=>({birthday:s.birthday,firstName:s.firstName,lastName:s.lastName,displayName:`${s.lastName} ${s.firstName}`,type:s.type,index:s.index,parentIndex:s.parentIndex,namePrefix:s.namePrefix,gender:s.gender})),availableSlotInfo:{amountPerPax:t.data.availableSlotInfo.amountPerPax||0,currency:t.data.availableSlotInfo.currency||"",free:t.data.availableSlotInfo.free,percent:t.data.availableSlotInfo.percent||0,type:t.data.availableSlotInfo.type}},console.log(this.pnrOrderDetailData),this.availableSlotData={available:t.data.availableSlotInfo.free,type:t.data.availableSlotInfo.type,amount:t.data.availableSlotInfo.type===J.G.DOWN_FARE_TICKET?t.data.availableSlotInfo.percent:t.data.availableSlotInfo.amountPerPax,currency:t.data.availableSlotInfo.type===J.G.DOWN_FARE_TICKET?t.data.availableSlotInfo.currency:"\u0111"},this.mappingBoardingPassData())}})}handleTimeExpired(t,i){const o=new Date(t),s=new Date,a=Math.floor((o.getTime()-s.getTime())/6e4);a>0&&(this.timeExpiredStr=(0,Qc.N)(a)),this.showTimeExpiredStr=[B.b.CREATE,B.b.IN_PROCESS,B.b.IN_PROCESS_PRICE_UP].includes(i)&&a>0}mappingBoardingPassData(){const t=[];this.pnrOrderDetailData.passengers.forEach(i=>{var o;if("INF"!==i.type){const s={displayName:i.lastName+" "+i.firstName,index:"number"==typeof i.index?i.index:"",type:i.type,gender:i.gender,namePrefix:"MALE"===(null===(o=i.gender)||void 0===o?void 0:o.toUpperCase())?"MR":"MRS"};t.push(s)}}),this.pnrOrderDetailData.passengers.forEach(i=>{var o;if("INF"===i.type){const s={displayName:i.lastName+" "+i.firstName,type:i.type,gender:i.gender,namePrefix:"MALE"===(null===(o=i.gender)||void 0===o?void 0:o.toUpperCase())?"B\xc9 TRAI":"B\xc9 G\xc1I",parentIndex:i.parentIndex||"",birthday:i.birthday?h(i.birthday).format("DD/MM/YYYY"):""},a=t.find(c=>c.index===i.parentIndex);a&&(a.infant=s)}}),this.displayPassengers=t}onCancleHunt(){if(this._eventLogService.captureCancelHuntFare({source:1}),this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(I.Q4,{headerTitle:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:`<div>B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}?</strong></div>`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}});t.containerInstance._rightButtonClick.subscribe(i=>{t.dismiss()}),t.afterDismissed().subscribe(i=>{i?(this.bottomSheetAction.dismiss(),this.isSpinning=!0,this._ticketLowFareService.cancelPnrOrder(this.pnrOrderDetailData.orderId).pipe((0,M.x)(()=>this.isSpinning=!1)).subscribe({next:o=>{"OK"===o.status?(this._toastService.add({severity:"success",summary:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 th\xe0nh c\xf4ng",detail:`H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> th\xe0nh c\xf4ng.`,sticky:!1}),this.getHunterOrderDetail()):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})}})):t.dismiss()})}else this._modal.open(I.V0,{title:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9",body:`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong>?`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:i=>{i.data&&(this.isSpinning=!0,this._ticketLowFareService.cancelPnrOrder(this.pnrOrderDetailData.orderId).pipe((0,M.x)(()=>this.isSpinning=!1)).subscribe({next:o=>{"OK"===o.status?(this._toastService.add({severity:"success",summary:"H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 th\xe0nh c\xf4ng",detail:`H\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> th\xe0nh c\xf4ng.`,sticky:!1}),this.getHunterOrderDetail()):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u s\u0103n v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})}}))}})}onEditHunt(){if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(oe,{containerFullHeigh:!0,headerTitle:"Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u s\u0103n v\xe9",leftButtonIcon:"",rightButtonIcon:"close",data:{orderId:this.orderId}});t.containerInstance._rightButtonClick.subscribe(()=>{t.dismiss()}),t.afterDismissed().subscribe(i=>{this.bottomSheetAction.dismiss(),"OK"===i&&(this.getHunterOrderDetail(),this.isUpdated=!0,this.isUpdatedFail=!1),"ERROR"===i&&(this.isUpdated=!1,this.isUpdatedFail=!0)})}else this._modal.open(oe,{orderId:this.orderId}).afterClosed$.subscribe({next:i=>{"OK"===i.data&&(this.getHunterOrderDetail(),this.isUpdated=!0,this.isUpdatedFail=!1),"ERROR"===i.data&&(this.isUpdated=!1,this.isUpdatedFail=!0)}})}gotoManage(){this._router.navigate(["admin/manage-booking-hunter"])}gotoBookingDetail(){this._router.navigate([`admin/booking-detail/${this.pnrOrderDetailData.airline}/${this.pnrOrderDetailData.bookingCode}`])}onCreateNewRegisterHunt(){this._requestDataService.preInitialFormOrderId=this.orderId,this._router.navigate(["admin/request-booking-hunter"])}mobileTabChange(t,i){this.mobileTab=t,i.scrollIntoView({behavior:"smooth",inline:"center"})}openBottomSheetAction(t,i){t.preventDefault(),t.stopPropagation(),this.bottomSheetAction=this._bottomSheetService.open(i,{hasHeader:!1,rightButtonIconClass:"text-neutral-gray-4"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_.KNP),e.Y36(w.gz),e.Y36(T.yL),e.Y36(te.G),e.Y36(w.F0),e.Y36(f.Ye),e.Y36(P.oE),e.Y36(G.s),e.Y36(ne.BX),e.Y36(U.$A),e.Y36(y.L),e.Y36(T.FH),e.Y36(b.a2),e.Y36($.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["booking-hunter-detail"]],hostAttrs:[1,"h-full"],standalone:!0,features:[e.jDz],decls:47,vars:31,consts:[[1,"flex","flex-col","w-full","h-full","overflow-hidden","md:hidden"],[1,"p-4","bg-neutral-white","flex","items-center","gap-x-1"],[1,"text-body-md","text-neutral-gray-5","cursor-pointer",3,"click"],["icon","chevron_right","size","small"],[1,"text-body-md","text-neutral-gray-4"],[1,"flex-auto","w-full","h-full","flex","gap-x-4","justify-center","py-6","px-[30px]","overflow-auto"],[1,"flex","gap-x-4","w-[764px]","h-full"],["class","flex-1 h-full flex flex-col gap-y-6",4,"ngIf"],["class","flex-1",4,"ngIf"],[1,"h-full","w-full","hidden","md:block"],[1,"py-2","px-4","md:flex","hidden","whitespace-nowrap","overflow-x-scroll","bg-neutral-white","sticky","top-0","z-[1]","shadow-cf-sm","border-t","border-t-neutral-gray-1"],[1,"px-4","py-1.5","rounded-full","text-espressive-md","text-neutral-gray-4","border","border-transparent","cursor-default",3,"click"],["ticketInfoTab",""],["paxInfoTab",""],["orderInfoTab",""],["class","w-full p-4",4,"ngIf"],[1,"hidden","md:flex","md:justify-between","gap-x-4","md:fixed","md:bottom-0","md:p-4","md:bg-neutral-white","md:w-full","md:right-0"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["cfHeadIcon","","icon","arrow_left","size","medium",1,"mr-2"],[4,"ngIf"],["bottomSheetAction",""],["availableSlotRef",""],["availableSlotFullDescRef",""],[1,"flex-1","h-full","flex","flex-col","gap-y-6"],[1,"flex","justify-between","items-center"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap","bg-neutral-white",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],[1,"flex","gap-x-4"],["cf-button","","size","medium","type","secondary","class","whitespace-nowrap bg-neutral-white",3,"click",4,"ngIf"],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip","click",4,"ngIf"],["cf-button","","size","medium",3,"click",4,"ngIf"],["class","flex gap-x-2 items-center py-1.5 px-3 bg-secondary-5-1",4,"ngIf"],["class","flex gap-x-2 items-center py-1.5 px-2 bg-primary-1-1",4,"ngIf"],[1,"flex","flex-col","gap-y-6"],[1,"bg-white","rounded-lg","overflow-hidden"],[1,"flex","items-center","gap-x-2","px-2.5","py-1.5"],[3,"availableSlotData","content"],[1,"flex","items-center","gap-x-1"],["size","small",3,"icon"],[1,"text-express-md"],[1,"p-3","flex","flex-col","gap-y-[20px]"],[1,"flex","gap-x-6"],[1,"flex","flex-col","gap-y-2"],[1,"text-body-md"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","flex","gap-x-2","items-center","justify-center","w-fit","rounded"],["icon","arrow_right","size","small"],[1,"h-[48px]","w-[1px]","bg-neutral-gray-1"],[1,"flex-1","flex","flex-col","justify-between","gap-y-2"],[1,"text-body-md","whitespace-nowrap"],["class","text-express-lg text-secondary-3-4 hover:underline hover:cursor-default",3,"click",4,"ngIf"],["class","text-express-md text-neutral-gray-6",4,"ngIf"],[1,"flex","justify-center","gap-x-2","items-center","text-body-sm","text-neutral-gray-4"],["icon","refresh","size","small"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-y-2.5"],[1,"flex","items-center","gap-x-2","text-heading-xs","text-neutral-gray-6"],["icon","users","size","small"],[1,"bg-neutral-white","border","border-dashed","border-neutral-gray-2","rounded-lg","p-3","flex","flex-col","gap-y-2"],["icon","settings","size","small"],[1,"p-3","bg-neutral-white","rounded","border","border-dashed","border-neutral-gray-3"],[1,"p-3","border-b","border-neutral-gray-1","flex","gap-x-3"],[1,"min-w-[142px]","whitespace-nowrap","text-body-md-short","text-neutral-black"],[1,"flex-1","flex","items-center","gap-x-6","text-express-md","text-neutral-gray-6"],["class","bg-secondary-7-2 px-2 py-1 rounded-full",4,"ngIf"],[1,"flex-1","flex","gap-x-2","items-center","text-express-md","text-neutral-gray-6"],[1,"flex-1","text-express-md","text-neutral-gray-6"],["class","flex-1 text-express-md text-neutral-gray-6 flex flex-col gap-y-3",4,"ngIf"],["class","p-3 flex gap-x-3",4,"ngIf"],["icon","document","size","small"],[1,"flex"],[1,"flex-1","text-body-md","text-neutral-gray-6"],["icon","delete","size","small",1,"mr-2.5"],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip","click"],["trigger","","originOverlay","cdkOverlayOrigin"],["icon","edit_alt","size","small",1,"mr-2.5"],["cf-button","","size","medium",3,"click"],["icon","external_link","size","small",1,"mr-2.5"],["icon","refresh","size","small",1,"mr-2.5"],[1,"flex","gap-x-2","items-center","py-1.5","px-3","bg-secondary-5-1"],["icon","circle_check","size","small",1,"text-secondary-5-3"],[1,"flex","gap-x-2","items-center","py-1.5","px-2","bg-primary-1-1"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","8","cy","8","r","7","fill","#E03C31"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.4592 6.45972C10.7131 6.20588 10.7131 5.79432 10.4592 5.54048C10.2054 5.28664 9.79383 5.28664 9.53999 5.54048L7.99961 7.08086L6.45923 5.54048C6.20539 5.28664 5.79383 5.28664 5.53999 5.54048C5.28615 5.79432 5.28615 6.20588 5.53999 6.45972L7.08037 8.0001L5.53999 9.54048C5.28615 9.79432 5.28615 10.2059 5.53999 10.4597C5.79383 10.7136 6.20539 10.7136 6.45923 10.4597L7.99961 8.91934L9.53999 10.4597C9.79383 10.7136 10.2054 10.7136 10.4592 10.4597C10.7131 10.2059 10.7131 9.79432 10.4592 9.54048L8.91885 8.0001L10.4592 6.45972Z","fill","white"],[1,"text-express-lg","text-secondary-3-4","hover:underline","hover:cursor-default",3,"click"],[1,"text-express-md","text-neutral-gray-6"],["icon","plane","size","small"],[1,"flex","justify-between","gap-x-3","py-3"],[1,"flex","items-center"],[1,"flex","justify-center","items-center","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-sm"],[1,"w-[80px]","flex-shrink-0","px-4"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"],[1,"flex","flex-col","items-center"],[1,"text-heading-sm"],[1,"text-express-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","gap-y-1","text-express-sm","text-neutral-gray-4","relative"],[1,"flex","gap-x-1","items-center"],[1,"w-1","h-1","bg-neutral-gray-3","rounded-full"],[1,"w-[100px]","h-[1px]","bg-neutral-gray-3"],["icon","plane","size","small",1,"text-neutral-gray-3"],["class","w-full h-[1px] bg-neutral-gray-1",4,"ngIf"],[1,"flex","gap-x-2","justify-start"],["class","text-body-sm",4,"ngIf"],[1,"w-full","h-[1px]","bg-neutral-gray-1"],[1,"text-body-sm"],[1,"bg-secondary-7-2","px-2","py-1","rounded-full"],[1,"text-express-sm","text-neutral-gray-6","py-1","px-2","rounded","bg-neutral-gray-2"],[1,"flex","gap-x-2","py-2"],[1,"w-[24px]","h-[24px]","object-contain",3,"src"],[1,"flex-1","text-express-md","text-neutral-gray-6","flex","flex-col","gap-y-3"],["class","flex flex-col gap-y-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-y-3"],[1,"flex","gap-x-2"],[1,"uppercase"],["class","flex gap-x-2",4,"ngFor","ngForOf"],[1,"rounded","text-express-sm","h-fit","py-1","px-2","border","border-neutral-gray-5"],[1,"flex","gap-2","flex-wrap"],["class","text-express-sm text-neutral-gray-6 py-1 px-2 rounded bg-neutral-gray-2",4,"ngFor","ngForOf"],[1,"p-3","flex","gap-x-3"],[1,"flex-1"],[1,"rounded","border","border-neutral-gray-1"],[1,"w-full","p-4"],["class","md:flex md:flex-col hidden w-full",4,"ngIf"],[1,"md:flex","md:flex-col","hidden","w-full"],[1,"px-2.5","py-1.5","flex","justify-between","gap-x-2.5"],[1,"flex","flex-col"],[1,"flex","flex-col","gap-y-2","py-3","px-4"],[1,"flex","gap-x-4","items-center"],[1,"text-body-sm","min-w-[100px]"],[1,"text-express-sm"],[1,"text-body-sm","whitespace-nowrap","min-w-[100px]"],["class","text-express-sm text-secondary-3-4 hover:underline hover:cursor-default",3,"click",4,"ngIf"],["class","text-express-sm text-neutral-gray-6",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","gap-x-2"],[1,"text-express-sm","text-secondary-3-4","hover:underline","hover:cursor-default",3,"click"],[1,"text-express-sm","text-neutral-gray-6"],[1,"flex","items-center","gap-x-2","text-heading-sm","text-neutral-gray-6","px-4","pb-3"],[1,"p-4","flex","flex-col","gap-y-4","bg-neutral-white","rounded-lg"],[1,"flex","flex-col","bg-neutral-white","md:mb-[90px]","rounded-lg"],[1,"flex","flex-col","py-3","px-4","gap-y-3"],[1,"text-body-md","text-neutral-black"],["class","bg-secondary-7-2 px-2 py-1 rounded-full text-express-md",4,"ngIf"],[1,"flex","flex-col","py-3","px-4","gap-y-3","border-t","border-neutral-gray-1"],[1,"flex","gap-x-2","items-center","text-express-md","text-neutral-gray-6"],["class","flex flex-col py-3 px-4 gap-y-3 border-t border-neutral-gray-1",4,"ngIf"],[1,"bg-secondary-7-2","px-2","py-1","rounded-full","text-express-md"],[1,"flex","flex-col","bg-neutral-white","rounded-lg"],["cf-button","","size","small","type","secondary","class","bg-white",3,"click",4,"ngIf"],["cf-button","","size","small","type","secondary",1,"bg-white",3,"click"],["cfHeadIcon","","icon","options_horizontal","size","medium"],["cfHeadIcon","","icon","external_link","size","medium",1,"mr-2"],["cfHeadIcon","","icon","refresh","size","medium",1,"mr-2"],[1,"pb-4","w-full"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"ngClass","click",4,"ngIf"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"click",4,"ngIf"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"ngClass","click"],["icon","edit_alt","size","small",3,"ngClass"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"click"],["icon","coupon_slash","size","small"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"],["class","inline-flex gap-x-1 items-center whitespace-nowrap text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"inline-flex","gap-x-1","items-center","whitespace-nowrap","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"],["class","line-through",4,"ngIf"],[1,"line-through"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.NdJ("click",function(){return i.gotoManage()}),e._uU(3,"S\u0103n v\xe9"),e.qZA(),e._UZ(4,"cf-icon",3),e.TgZ(5,"span",4),e._uU(6,"Chi ti\u1ebft y\xeau c\u1ea7u"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6),e.YNc(9,ml,117,40,"div",7),e.YNc(10,fl,4,0,"div",8),e.qZA()()(),e.TgZ(11,"div",9)(12,"div")(13,"div",1)(14,"span",2),e.NdJ("click",function(){return i.gotoManage()}),e._uU(15,"S\u0103n v\xe9"),e.qZA(),e._UZ(16,"cf-icon",3),e.TgZ(17,"span",4),e._uU(18,"Chi ti\u1ebft y\xeau c\u1ea7u"),e.qZA()(),e.TgZ(19,"div",10)(20,"div",11,12),e.NdJ("click",function(){e.CHM(o);const a=e.MAs(21);return e.KtG(i.mobileTabChange("TICKET_INFO",a))}),e._uU(22," Chi ti\u1ebft \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e.TgZ(23,"div",11,13),e.NdJ("click",function(){e.CHM(o);const a=e.MAs(24);return e.KtG(i.mobileTabChange("PAX_INFO",a))}),e._uU(25," Th\xf4ng tin h\xe0nh kh\xe1ch "),e.qZA(),e.TgZ(26,"div",11,14),e.NdJ("click",function(){e.CHM(o);const a=e.MAs(24);return e.KtG(i.mobileTabChange("ORDER_CONFIG",a))}),e._uU(28," C\u1ea5u h\xecnh s\u0103n v\xe9 "),e.qZA(),e.TgZ(29,"div",11,14),e.NdJ("click",function(){e.CHM(o);const a=e.MAs(24);return e.KtG(i.mobileTabChange("ORDER_INFO",a))}),e._uU(31," Th\xf4ng tin chi ti\u1ebft "),e.qZA()()(),e.YNc(32,Jl,5,4,"div",15),e.YNc(33,Pl,4,0,"div",8),e.qZA(),e.YNc(34,Hl,4,0,"div",8),e.TgZ(35,"div",16)(36,"button",17),e.NdJ("click",function(){return i.gotoManage()}),e._UZ(37,"cf-icon",18),e._uU(38," Quay l\u1ea1i "),e.qZA(),e.YNc(39,Yl,4,6,"div",19),e.qZA(),e.YNc(40,$l,3,2,"ng-template",null,20,e.W1O),e.YNc(42,Xl,2,2,"ng-template",null,21,e.W1O),e.YNc(44,ru,2,2,"ng-template",null,22,e.W1O),e.YNc(46,au,1,0,"cf-spinner",19)}2&t&&(e.xp6(9),e.Q6J("ngIf",i.pnrOrderDetailData),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderDetailData),e.xp6(10),e.ekj("text-secondary-3-4","TICKET_INFO"===i.mobileTab)("!border-secondary-3-4","TICKET_INFO"===i.mobileTab)("bg-secondary-3-1","TICKET_INFO"===i.mobileTab),e.xp6(3),e.ekj("text-secondary-3-4","PAX_INFO"===i.mobileTab)("!border-secondary-3-4","PAX_INFO"===i.mobileTab)("bg-secondary-3-1","PAX_INFO"===i.mobileTab),e.xp6(3),e.ekj("text-secondary-3-4","ORDER_CONFIG"===i.mobileTab)("!border-secondary-3-4","ORDER_CONFIG"===i.mobileTab)("bg-secondary-3-1","ORDER_CONFIG"===i.mobileTab),e.xp6(3),e.ekj("text-secondary-3-4","ORDER_INFO"===i.mobileTab)("!border-secondary-3-4","ORDER_INFO"===i.mobileTab)("bg-secondary-3-1","ORDER_INFO"===i.mobileTab),e.xp6(3),e.Q6J("ngIf",i.pnrOrderDetailData),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderDetailData),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderDetailData),e.xp6(5),e.Q6J("ngIf",i.pnrOrderDetailData),e.xp6(7),e.Q6J("ngIf",i.isSpinning))},dependencies:[f.ez,f.mk,f.sg,f.O5,f.JJ,_.AxE,_.Sm8,D.N8,D.Xq,ie.IA,I.OR,Ie.Lk,ke.f,fe.xu,b.DW,K._],encapsulation:2}),n})()},89701:(Ze,z,g)=>{g.d(z,{N:()=>f});const f=b=>{if(b<60)return`${b}p`;const D=Math.floor(b/60);return`${D}h ${b-60*D}p`}},61545:(Ze,z,g)=>{g.d(z,{_:()=>G});var f=g(98184),b=g(36895),D=g(37094),_=g(72506),F=g(74891),T=g(24513),I=g(67460),h=g(38514),e=g(88001),p=g(94650),L=g(9381);let j=(()=>{class y{constructor(){this.openTooltipAvailables=[]}addToolTip(C){this.openTooltipAvailables.push(C)}closeAllTooltip(){for(const C of this.openTooltipAvailables)C.hideTooltip();this.openTooltipAvailables=[]}getAllTooltip(){return this.openTooltipAvailables}}return y.\u0275fac=function(C){return new(C||y)},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})();var X=g(9497);const x=["tooltipAvailable"];function W(y,H){1&y&&p.GkF(0)}function Q(y,H){if(1&y&&(p.TgZ(0,"div"),p.YNc(1,W,1,0,"ng-container",6),p.qZA()),2&y){const C=p.oxw(2);p.xp6(1),p.Q6J("ngTemplateOutlet",C.content)}}function q(y,H){if(1&y){const C=p.EpF();p.TgZ(0,"div",3,4),p.NdJ("click",function(R){p.CHM(C);const V=p.oxw();return p.KtG(V.toggleTooltip(R))}),p.YNc(2,Q,2,1,"div",5),p.qZA()}if(2&y){const C=p.oxw(),O=p.MAs(3);p.Q6J("manualHandle",!0)("placement","topCenter")("cfTooltip",O),p.xp6(2),p.Q6J("ngIf",C.content)}}function w(y,H){1&y&&(p.TgZ(0,"div",7)(1,"div",8)(2,"span",9),p._uU(3,"Mi\u1ec5n ph\xed"),p.qZA(),p._UZ(4,"cf-icon",10),p.qZA()())}function P(y,H){1&y&&(p.TgZ(0,"li"),p._uU(1,"T\u1eeb y\xeau c\u1ea7u th\u1ee9 3 s\u1ebd b\u1eaft \u0111\u1ea7u thu ph\xed n\u1ebfu canh th\xe0nh c\xf4ng."),p.qZA())}function U(y,H){1&y&&(p.TgZ(0,"li"),p._uU(1,"T\u1eeb y\xeau c\u1ea7u th\u1ee9 3 s\u1ebd b\u1eaft \u0111\u1ea7u thu ph\xed n\u1ebfu s\u0103n th\xe0nh c\xf4ng."),p.qZA())}function _e(y,H){if(1&y){const C=p.EpF();p.TgZ(0,"div",11)(1,"div",12)(2,"ul",13)(3,"li"),p._uU(4," B\u1ea1n \u0111\u01b0\u1ee3c "),p.TgZ(5,"strong"),p._uU(6,"mi\u1ec5n ph\xed"),p.qZA(),p._uU(7," t\u1ed1i \u0111a 2 y\xeau c\u1ea7u ho\u1ea1t \u0111\u1ed9ng c\xf9ng l\xfac. "),p.qZA(),p.YNc(8,P,2,0,"li",5),p.YNc(9,U,2,0,"li",5),p.qZA()(),p.TgZ(10,"cf-icon",14),p.NdJ("click",function(){p.CHM(C);const R=p.oxw();return p.KtG(R.closeTooltip())}),p.qZA()()}if(2&y){const C=p.oxw();p.xp6(8),p.Q6J("ngIf",C.availableSlotData.type===C.TYPE_ORDER.DOWN_FARE_TICKET),p.xp6(1),p.Q6J("ngIf",C.availableSlotData.type===C.TYPE_ORDER.HUNT_NEW_TICKET)}}let G=(()=>{class y{constructor(C,O,R,V,de){this._mobileDetectService=O,this._bottomSheetService=R,this._tooltipAvailableSlotService=V,this._systemService=de,this.isShowTooltipAvailable=!1,this.TYPE_ORDER=h.G,this.tpsConfigAllFree=this._systemService.isFeatureEnabled(e.Ke.Web_Features_TpsConfig_OnAllFree_Enable),C.registerIcons([_.UNF,_.SK7])}clickout(){this.isShowTooltipAvailable&&!this._mobileDetectService.isMobile()&&(this._tooltipAvailableSlotService.closeAllTooltip(),this.isShowTooltipAvailable=!1)}toggleTooltip(C){if(C.preventDefault(),C.stopPropagation(),this._tooltipAvailableSlotService.closeAllTooltip(),this.isShowTooltipAvailable=!this.isShowTooltipAvailable,this.isShowTooltipAvailable)if(this._mobileDetectService.isMobile()){const O=this.availableSlotData.type===h.G.DOWN_FARE_TICKET?`<ul class="list-disc text-left">\n            <li> B\u1ea1n \u0111\u01b0\u1ee3c <strong>mi\u1ec5n ph\xed</strong> t\u1ed1i \u0111a 2 y\xeau c\u1ea7u ho\u1ea1t \u0111\u1ed9ng c\xf9ng l\xfac. </li>\n            <li><strong>T\u1eeb y\xeau c\u1ea7u th\u1ee9 3 s\u1ebd b\u1eaft \u0111\u1ea7u thu ph\xed n\u1ebfu canh th\xe0nh c\xf4ng.</strong></li>\n            <li>B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng canh \u0111\u01b0\u1ee3c v\xe9. C\xf3 th\u1ec3 h\u1ee7y canh v\xe9 b\u1ea5t k\xec l\xfac n\xe0o!</li>\n            <li>N\u1ebfu canh \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ph\xed d\u1ecbch v\u1ee5 ${this.availableSlotData.amount}${this.availableSlotData.currency} ch\xeanh l\u1ec7ch gi\xe1 v\xe9 m\u1edbi so v\u1edbi gi\xe1 v\xe9 ban \u0111\u1ea7u.</li>\n          </ul>`:`<ul class="list-disc text-left">\n            <li> B\u1ea1n \u0111\u01b0\u1ee3c <strong>mi\u1ec5n ph\xed</strong> t\u1ed1i \u0111a 2 y\xeau c\u1ea7u ho\u1ea1t \u0111\u1ed9ng c\xf9ng l\xfac. </li>\n            <li><strong>T\u1eeb y\xeau c\u1ea7u th\u1ee9 3 s\u1ebd b\u1eaft \u0111\u1ea7u thu ph\xed n\u1ebfu s\u0103n th\xe0nh c\xf4ng.</strong></li>\n            <li>B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng s\u0103n \u0111\u01b0\u1ee3c v\xe9. C\xf3 th\u1ec3 h\u1ee7y s\u0103n v\xe9 b\u1ea5t k\xec l\xfac n\xe0o!</li>\n            <li>N\u1ebfu s\u0103n \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ph\xed d\u1ecbch v\u1ee5 ${new Intl.NumberFormat("vi-VN").format(this.availableSlotData.amount)}${this.availableSlotData.currency}/pax (ch\u1ec9 t\xednh h\xe0nh kh\xe1ch ADT v\xe0 CHD).</li>\n          </ul>`,R=this._bottomSheetService.open(I.Q4,{headerTitle:"C\xe1ch t\xednh ph\xed",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",data:{body:O,okText:"\u0110\xe3 hi\u1ec3u",cancelText:"",hasIcon:!1}});R.containerInstance._leftButtonClick.subscribe(()=>{R.dismiss()})}else this.tooltipAvailable.showTooltip(),this._tooltipAvailableSlotService.addToolTip(this.tooltipAvailable);else this.tooltipAvailable.hideTooltip()}closeTooltip(){this.tooltipAvailable.hideTooltip()}}return y.\u0275fac=function(C){return new(C||y)(p.Y36(_.KNP),p.Y36(L.L),p.Y36(D.a2),p.Y36(j),p.Y36(X.o))},y.\u0275cmp=p.Xpm({type:y,selectors:[["tooltip-available-slot"]],viewQuery:function(C,O){if(1&C&&p.Gf(x,5,T.Lk),2&C){let R;p.iGM(R=p.CRH())&&(O.tooltipAvailable=R.first)}},hostBindings:function(C,O){1&C&&p.NdJ("click",function(V){return O.clickout(V)},!1,p.evT)},inputs:{content:"content",availableSlotData:"availableSlotData"},standalone:!0,features:[p.jDz],decls:4,vars:2,consts:[["class","whitespace-nowrap cursor-default",3,"manualHandle","placement","cfTooltip","click",4,"ngIf"],["class","whitespace-nowrap cursor-default",4,"ngIf"],["toolTipTemplate",""],[1,"whitespace-nowrap","cursor-default",3,"manualHandle","placement","cfTooltip","click"],["tooltipAvailable",""],[4,"ngIf"],[4,"ngTemplateOutlet"],[1,"whitespace-nowrap","cursor-default"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"],[1,"flex","justify-between","gap-x-2","max-w-[260px]","!ml-3"],[1,"text-body-sm"],[1,"list-disc"],["icon","close","size","small",1,"text-neutral-white",3,"click"]],template:function(C,O){1&C&&(p.YNc(0,q,3,4,"div",0),p.YNc(1,w,5,0,"div",1),p.YNc(2,_e,11,2,"ng-template",null,2,p.W1O)),2&C&&(p.Q6J("ngIf",O.availableSlotData&&!O.tpsConfigAllFree),p.xp6(1),p.Q6J("ngIf",O.availableSlotData&&O.tpsConfigAllFree))},dependencies:[b.ez,b.O5,b.tP,_.AxE,_.Sm8,T.Lk,F.f,f.U8,D.DW],encapsulation:2}),y})()}}]);