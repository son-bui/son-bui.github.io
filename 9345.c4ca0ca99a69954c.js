"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[9345],{29345:(I,f,r)=>{r.r(f),r.d(f,{LoginComponent:()=>T});var g=r(36895),s=r(24006),d=r(76188),c=r(94700),p=r(83700),a=r(72506),u=r(44143),h=r(28746),e=r(94650),m=r(82761),v=r(46779);function C(t,l){if(1&t&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div"),e.O4$(),e.TgZ(3,"svg",28),e._UZ(4,"path",29)(5,"path",30)(6,"path",31),e.qZA()(),e.kcU(),e.TgZ(7,"div",32),e._uU(8),e.qZA()()()),2&t){const o=e.oxw();e.xp6(8),e.hij(" ",o.error," ")}}function x(t,l){1&t&&e._UZ(0,"cf-input-hint",33),2&t&&e.Q6J("hint","T\xean \u0111\u0103ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function w(t,l){1&t&&e._UZ(0,"cf-input-hint",33),2&t&&e.Q6J("hint","T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\xfang")}function y(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"cf-icon",34),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.showPassword=!i.showPassword)}),e.qZA()}}function E(t,l){if(1&t){const o=e.EpF();e.TgZ(0,"cf-icon",35),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.showPassword=!i.showPassword)}),e.qZA()}}function F(t,l){1&t&&e._UZ(0,"cf-input-hint",33),2&t&&e.Q6J("hint","M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Z(t,l){1&t&&e._UZ(0,"cf-icon",36)}const A=function(t){return{"opacity-50 pointer-events-none cursor-default":t}};let T=(()=>{class t{constructor(o,n,i,_,L,b){this.formBuilder=n,this.route=i,this.router=_,this.authenticationService=L,this.recaptchaV3Service=b,this.isLoading=!1,this.submitted=!1,this.showPassword=!1,this.patten="^[A-Za-z0-9-]+$",o.registerIcons([a.bLw,a.MwJ,a.$S]),this.authenticationService.currentUserValue&&this.router.navigate(["/admin"])}ngOnInit(){const o=localStorage.getItem("reminiscentUser");o&&JSON.parse(o),this.loginForm=this.formBuilder.group({username:["partner",[s.kI.required,s.kI.pattern(this.patten)]],password:["P@ssword123",s.kI.required]}),this.authenticationService.getCurrentIp().subscribe({next:i=>{this.ipAddress=i.ip},error:i=>{console.log(i)}}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/admin"}get f(){return this.loginForm.controls}onSubmit(){if(this.loginForm.markAllAsTouched(),this.loginForm.invalid||this.isLoading)return;const o=this.loginForm.value;this.isLoading=!0,this.authenticationService.authen({password:o.password,username:o.username}).pipe((0,h.x)(()=>this.isLoading=!1)).subscribe({next:i=>{i?(this.error="",localStorage.setItem("currentUser",JSON.stringify({status:"OK",data:{userId:"55df947a-dd75-4068-8162-c0fcd53b5932",username:"son-f2",enable:!0,roleId:"",authorities:[],accountNonExpired:!0,accountNonLocked:!0,credentialsNonExpired:!0,roleName:null,displayName:"S\u01a1n B\xf9i F2",title:"\u0110\u1ea1i l\xfd F2",avatar:"https://cheapflighttest.s3.ap-southeast-1.amazonaws.com/null",address:null,phone:"0328557686",description:null,accessToken:i.accessToken,userManager:{id:"8eaf3820-2df9-4187-929c-56d8eaece2d2",displayName:"S\u01a1n B\xf9i F1",username:"son-f1"},email:"sonf2@giacmobayre.com"},objectError:null,traceId:null,errorCode:null,success:!0})),this.authenticationService.currentUserSubject.next(i),this.router.navigate([this.returnUrl])):this.error=i.objectError.errorDescription.vi},error:i=>{this.error=i.error.objectError.errorDescription.vi}})}checkedChange(o){var n;null===(n=this.loginForm.get("rememberMe"))||void 0===n||n.setValue(o)}resetPassword(){this.router.navigate(["reset-password"])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(a.KNP),e.Y36(s.qu),e.Y36(m.gz),e.Y36(m.F0),e.Y36(v.r),e.Y36(c.YC))},t.\u0275cmp=e.Xpm({type:t,selectors:[["cf-login"]],standalone:!0,features:[e._Bn([]),e.jDz],decls:36,vars:16,consts:[[1,"notranslate","w-screen","h-screen","!h-[100svh]","relative"],["src","assets/images/login_background.svg","alt","",1,"h-1/2","md:h-[34%]","w-full","object-cover","absolute","bottom-0","left-0","-z-9999"],[1,"absolute","w-full","h-full","top-0","left-0"],[1,"overflow-auto","w-full","h-full","flex","flex-col","justify-between","gap-y-6"],[1,"px-32","flex-1","md:flex-none","flex","justify-center","items-center"],[1,"bg-neutral-white","md:bg-transparent","rounded-xl","shadow-lg","md:shadow-none","py-16","md:py-8","px-8"],[1,"ml-[-15px]","md:ml-0"],["src","assets/logo/flychill_logo.png","alt","",1,"w-[192px]","h-auto"],[1,"md:w-[300px]","w-[360px]","flex","flex-col","gap-y-8"],[1,"flex","flex-col","gap-y-3"],[1,"text-heading-xl","text-neutral-gray-6"],[1,"text-body-md-long","text-neutral-gray-4"],["class","bg-[#FFF8E7] rounded px-4 py-3 flex flex-col gap-y-4",4,"ngIf"],["autocomplete","off",1,"flex","flex-col","gap-y-6",3,"formGroup","ngSubmit"],[1,"flex","flex-col","gap-y-4"],[1,"grow-[400]","!w-full",3,"disabled","status"],["cfLabel",""],["cf-input","","size","medium","autocomplete","off","placeholder","T\xean \u0111\u0103ng nh\u1eadp","type","text","formControlName","username"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp m\u1eadt kh\u1ea9u","formControlName","password",3,"type"],["cfTailIcon","","class","cursor-pointer text-neutral-gray-4","icon","eye","size","small",3,"click",4,"ngIf"],["cfTailIcon","","class","cursor-pointer text-neutral-gray-4","icon","eye_off","size","small",3,"click",4,"ngIf"],["cf-button","","size","medium",1,"flex","justify-center","items-center",3,"ngClass"],["class","text-neutral-white mr-2.5 animate-spin","icon","refresh","size","small",4,"ngIf"],[1,"flex","justify-center","items-center"],[1,"p-2.5","text-body-sm","text-neutral-gray-5"],[1,"bg-[#FFF8E7]","rounded","px-4","py-3","flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-2"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.23916 18.3887L10.1497 3.95489C10.3277 3.66664 10.594 3.42543 10.92 3.25719C11.246 3.08895 11.6194 3.00005 12 3.00005C12.3806 3.00005 12.754 3.08895 13.08 3.25719C13.406 3.42543 13.6723 3.66664 13.8503 3.95489L22.7608 18.3887C22.9281 18.6611 23.0101 18.9659 22.999 19.2736C22.9879 19.5812 22.8839 19.8811 22.6973 20.1441C22.5106 20.4071 22.2477 20.6241 21.934 20.7741C21.6204 20.9241 21.2667 21.002 20.9075 21H3.08847C2.72962 21.0014 2.37647 20.9231 2.06336 20.7729C1.75026 20.6226 1.48787 20.4055 1.3017 20.1426C1.11553 19.8797 1.01193 19.5801 1.00097 19.2727C0.99001 18.9654 1.07207 18.6608 1.23916 18.3887Z","fill","#FCB40A"],["d","M12 18.75C11.5858 18.75 11.25 18.4143 11.25 18L11.25 17.9901C11.25 17.5758 11.5858 17.2401 12 17.2401C12.4142 17.2401 12.75 17.5758 12.75 17.9901L12.75 18C12.75 18.4143 12.4142 18.75 12 18.75Z","fill","#2C2C2C"],["d","M12 15.75C11.5858 15.75 11.25 15.4142 11.25 15L11.25 8.00002C11.25 7.5858 11.5858 7.25002 12 7.25002C12.4142 7.25002 12.75 7.5858 12.75 8.00002L12.75 15C12.75 15.4142 12.4142 15.75 12 15.75Z","fill","#2C2C2C"],[1,"text-body-md-short"],["cfHint","",3,"hint"],["cfTailIcon","","icon","eye","size","small",1,"cursor-pointer","text-neutral-gray-4",3,"click"],["cfTailIcon","","icon","eye_off","size","small",1,"cursor-pointer","text-neutral-gray-4",3,"click"],["icon","refresh","size","small",1,"text-neutral-white","mr-2.5","animate-spin"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"div",10),e._uU(11,"Ch\xe0o m\u1eebng tr\u1edf l\u1ea1i"),e.qZA(),e.TgZ(12,"div",11),e._uU(13,"Ch\xe0o b\u1ea1n! Vui l\xf2ng nh\u1eadp th\xf4ng tin \u0111\u0103ng nh\u1eadp"),e.qZA()(),e.YNc(14,C,9,1,"div",12),e.TgZ(15,"form",13),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(16,"div",14)(17,"cf-input-group",15)(18,"label",16),e._uU(19,"T\xean \u0111\u0103ng nh\u1eadp"),e.qZA(),e._UZ(20,"input",17),e.YNc(21,x,1,1,"cf-input-hint",18),e.YNc(22,w,1,1,"cf-input-hint",18),e.qZA(),e.TgZ(23,"cf-input-group",15)(24,"label",16),e._uU(25,"M\u1eadt kh\u1ea9u"),e.qZA(),e._UZ(26,"input",19),e.YNc(27,y,1,0,"cf-icon",20),e.YNc(28,E,1,0,"cf-icon",21),e.YNc(29,F,1,1,"cf-input-hint",18),e.qZA()(),e.TgZ(30,"button",22),e.YNc(31,Z,1,0,"cf-icon",23),e._uU(32," \u0110\u0103ng Nh\u1eadp "),e.qZA()()()()(),e.TgZ(33,"div",24)(34,"div",25),e._uU(35,"Version: 25.04.03.e1"),e.qZA()()()()()),2&o&&(e.xp6(14),e.Q6J("ngIf",n.error),e.xp6(1),e.Q6J("formGroup",n.loginForm),e.xp6(2),e.Q6J("disabled",n.isLoading)("status",n.loginForm.controls.username.invalid&&(n.loginForm.controls.username.dirty||n.loginForm.controls.username.touched)?"error":"default"),e.xp6(4),e.Q6J("ngIf",n.loginForm.controls.username.hasError("required")&&(n.loginForm.controls.username.touched||n.loginForm.controls.username.dirty)),e.xp6(1),e.Q6J("ngIf",n.loginForm.controls.username.hasError("pattern")&&(n.loginForm.controls.username.touched||n.loginForm.controls.username.dirty)),e.xp6(1),e.Q6J("disabled",n.isLoading)("status",n.loginForm.controls.password.invalid&&(n.loginForm.controls.password.dirty||n.loginForm.controls.password.touched)?"error":"default"),e.xp6(3),e.Q6J("type",n.showPassword?"text":"password"),e.xp6(1),e.Q6J("ngIf",!n.showPassword),e.xp6(1),e.Q6J("ngIf",n.showPassword),e.xp6(1),e.Q6J("ngIf",n.loginForm.controls.password.hasError("required")&&(n.loginForm.controls.password.touched||n.loginForm.controls.password.dirty)),e.xp6(1),e.Q6J("ngClass",e.VKq(14,A,n.isLoading)),e.xp6(1),e.Q6J("ngIf",n.isLoading))},dependencies:[d.aw,s.u5,s._Y,s.Fj,s.JJ,s.JL,s.UX,s.sg,s.u,g.O5,g.mk,c.a,c.lQ,p.N8,p.Xq,u.j$,u.ND,u.BN,u.v2,a.AxE,a.Sm8],encapsulation:2}),t})()}}]);