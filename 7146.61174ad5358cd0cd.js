"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[7146],{47146:(k,E,s)=>{s.r(E),s.d(E,{ManageOrderBcPageComponent:()=>de,OrderBcDetailComponent:()=>Se});var u=s(36895),c=s(24006),m=s(83700),U=s(88516),h=s(72506),T=s(44143),f=s(4688),C=s(74713),g=s(48373),_=s(67460),v=s(15439),O=s(28746),e=s(94650),F=s(80529),J=s(88001);const B={headers:new F.WM({"Content-Type":"application/json"})};let P=(()=>{class n{constructor(t,i){this.http=t,this.appConfig=i}getListOrder(t){return this.http.post(this.appConfig.apiUrl+"b2c/partner/orders",JSON.stringify(t),B)}getOrderDetail(t){return this.http.get(this.appConfig.apiUrl+"b2c/partner/order/"+t,B)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(F.eN),e.LFG(J.qB))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var L=s(82761),I=s(16039);const Q=function(n,a){return{"border-b-4 border-neutral-gray-4":n,"!pl-5":a}},j=function(n){return{"text-neutral-gray-6":n}},Y=function(n){return{"!bg-neutral-gray-6":n}};function z(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",37,38),e.NdJ("click",function(){const d=e.CHM(t).$implicit,l=e.MAs(2),x=e.oxw();return e.KtG(x.onChangeTab(d,l))}),e.TgZ(3,"div",39)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"cf-label",40),e._uU(7),e.qZA()()(),e.BQk()}if(2&n){const t=a.$implicit,i=a.first;e.xp6(1),e.Q6J("ngClass",e.WLB(6,Q,t.active,!i)),e.xp6(2),e.Q6J("ngClass",e.VKq(9,j,t.active)),e.xp6(2),e.hij(" ",t.text," "),e.xp6(1),e.Q6J("color","green")("ngClass",e.VKq(11,Y,t.active)),e.xp6(1),e.hij(" ",t.counter>99?"99+":t.counter," ")}}function R(n,a){1&n&&e._UZ(0,"cf-input-hint",41),2&n&&e.Q6J("hint","Th\u1eddi gian kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function H(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t||"-")}}function V(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"p"),e._uU(2),e.qZA(),e.BQk()),2&n){const t=a.$implicit;e.xp6(2),e.Oqu(t||"-")}}function W(n,a){1&n&&(e.TgZ(0,"div",53),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"path",55),e.qZA(),e.kcU(),e.TgZ(3,"div",56),e._uU(4,"Ch\u1edd thanh to\xe1n"),e.qZA()())}function $(n,a){1&n&&(e.TgZ(0,"div",57),e.O4$(),e.TgZ(1,"svg",54)(2,"g",58),e._UZ(3,"path",59)(4,"path",60)(5,"path",61)(6,"path",62)(7,"path",63)(8,"path",64)(9,"path",65),e.qZA(),e.TgZ(10,"defs")(11,"clipPath",66),e._UZ(12,"rect",67),e.qZA()()(),e.kcU(),e.TgZ(13,"div",56),e._uU(14,"\u0110ang x\u1eed l\xfd"),e.qZA()())}function K(n,a){1&n&&(e.TgZ(0,"div",68),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"circle",69)(3,"path",70),e.qZA(),e.kcU(),e.TgZ(4,"div",56),e._uU(5,"\u0110\u1eb7t v\xe9 th\u1ea5t b\u1ea1i"),e.qZA()())}function G(n,a){1&n&&(e.TgZ(0,"div",71),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"path",72),e.qZA(),e.kcU(),e.TgZ(3,"div",56),e._uU(4,"Th\xe0nh c\xf4ng"),e.qZA()())}function X(n,a){1&n&&(e.TgZ(0,"div",73),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"circle",74)(3,"path",70),e.qZA(),e.kcU(),e.TgZ(4,"div",56),e._uU(5,"\u0110\xe3 h\u1ee7y"),e.qZA()())}function ee(n,a){1&n&&(e.TgZ(0,"div",75),e.O4$(),e.TgZ(1,"svg",54),e._UZ(2,"path",76),e.qZA(),e.kcU(),e.TgZ(3,"div",56),e._uU(4,"\u0110\xe3 ho\xe0n ti\u1ec1n"),e.qZA()())}function te(n,a){1&n&&e._UZ(0,"div")}function ne(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"tr",42)(1,"td",43),e._uU(2),e.qZA(),e.TgZ(3,"td",43),e._uU(4),e.qZA(),e.TgZ(5,"td",43),e.YNc(6,H,3,1,"ng-container",3),e.qZA(),e.TgZ(7,"td",43),e.YNc(8,V,3,1,"ng-container",3),e.qZA(),e.TgZ(9,"td",43),e._uU(10),e.qZA(),e.TgZ(11,"td",43)(12,"div",44),e.YNc(13,W,5,0,"div",45),e.YNc(14,$,15,0,"div",46),e.YNc(15,K,6,0,"div",47),e.YNc(16,G,5,0,"div",48),e.YNc(17,X,6,0,"div",49),e.YNc(18,ee,5,0,"div",50),e.YNc(19,te,1,0,"div",51),e.qZA()(),e.TgZ(20,"td",43),e._uU(21),e.ALo(22,"number"),e.qZA(),e.TgZ(23,"td",43)(24,"div",52),e.NdJ("click",function(){const d=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.gotoOrderDetail(d.orderCode))}),e._uU(25,"Chi ti\u1ebft"),e.qZA()()()}if(2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.orderCode||"-"," "),e.xp6(2),e.hij(" ",t.createdAt," "),e.xp6(2),e.Q6J("ngForOf",t.kotCodes),e.xp6(2),e.Q6J("ngForOf",t.bookingCodes),e.xp6(2),e.hij(" ",t.channel||"-"," "),e.xp6(2),e.Q6J("ngSwitch",t.status),e.xp6(1),e.Q6J("ngSwitchCase","WaitingForPayment"),e.xp6(1),e.Q6J("ngSwitchCase","Processing"),e.xp6(1),e.Q6J("ngSwitchCase","Failed"),e.xp6(1),e.Q6J("ngSwitchCase","Success"),e.xp6(1),e.Q6J("ngSwitchCase","Canceled"),e.xp6(1),e.Q6J("ngSwitchCase","Refunded"),e.xp6(3),e.hij(" ",e.lcZ(22,13,t.totalAmountDue)||"-"," ")}}function ie(n,a){1&n&&e._UZ(0,"cf-spinner")}const b=function(){return[]},ae=function(){return{num:25}},re=function(){return{num:50}},oe=function(){return{num:75}},ce=function(){return{num:100}},le=function(n,a,t,i){return[n,a,t,i]};let de=(()=>{class n{constructor(t,i,o,d,l){this._cfIconRegister=t,this._manageOrderService=i,this._router=o,this._fb=d,this._excelService=l,this.listTab=[{value:"ALL",text:"T\u1ea5t c\u1ea3",counter:0,active:!0},{value:"WaitingForPayment",text:"Ch\u01b0a thanh to\xe1n",counter:0,active:!1},{value:"Processing",text:"\u0110ang x\u1eed l\xfd",counter:0,active:!1},{value:"Failed",text:"Th\u1ea5t b\u1ea1i",counter:0,active:!1},{value:"Success",text:"Th\xe0nh c\xf4ng",counter:0,active:!1},{value:"Canceled",text:"\u0110\xe3 h\u1ee7y",counter:0,active:!1},{value:"Refunded",text:"\u0110\xe3 ho\xe0n ti\u1ec1n",counter:0,active:!1}],this.listOfData=[],this.pageSize=25,this.pageOffset=1,this.sortbyOptions=[{text:"Th\u1eddi gian \u0111\u1eb7t \u0111\u01a1n",value:"CREATE_TIME"},{text:"Th\u1eddi gian bay",value:"DEPARTURE_TIME"}],this.channelOptions=[{text:"T\u1ea5t c\u1ea3",value:""}],this.searchByOptions=[{text:"M\xe3 \u0111\u01a1n h\xe0ng",value:"ORDER_CODE"},{text:"M\xe3 PNR",value:"PNR"},{text:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i li\xean h\u1ec7",value:"PHONE_NUMBER"}],this.placholderSearch="Nh\u1eadp m\xe3 \u0111\u01a1n h\xe0ng",this.invalidTimeFilter=!1,this.dateRangeStr="",this.numberOfDateFilter=6,this.startWeek=new Date,this.endWeek=new Date,this.isLoading=!1,this.totalData=0,this.currentTab="ALL",this.sortChange=(D,Z)=>Z,this.searchChange=(D,Z)=>Z,t.registerIcons([h.esH,h.iYu]),this.startWeek=new Date,this.startWeek.setDate(this.startWeek.getDate()-this.numberOfDateFilter),this.endWeek=new Date;const x=(0,u.p6)(this.startWeek,"dd/MM/yyyy","vi-VN"),y=(0,u.p6)(this.endWeek,"dd/MM/yyyy","vi-VN");this.dateRangeStr=x+" - "+y}ngOnInit(){this.initFormGroup(),this.getListOrder()}initFormGroup(){this.searchForm=this._fb.group({sortby:["CREATE_TIME",c.kI.required],fromDate:[this.startWeek,c.kI.required],toDate:[this.endWeek,c.kI.required],airline:[""],searchBy:["ORDER_CODE",c.kI.required],searchText:[""],stateBooking:[""],channel:[""]})}resetRangeDate(t,i){t.setValue(""),i.setValue("")}onDateSelection(t,i,o,d){if(i.value||o.value)if(i.value&&!o.value&&t&&t.getTime()>=i.value.getTime()){o.setValue(t),d.close(),this.startDate=i.value;const l=(0,u.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr+=l}else{o.setValue(null),i.setValue(t);const l=(0,u.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=l+" - "}else{i.setValue(t),o.setValue(null);const l=(0,u.p6)(t,"dd/MM/yyyy","vi-VN");this.dateRangeStr=l+" - "}this.invalidTimeFilter=i.invalid||o.invalid}getListOrder(){const t=this.searchForm.value,i={pagination:{pageNumber:this.pageOffset,pageSize:this.pageSize},sort:{typeOrderSort:"CREATED_AT",sortDirection:"DESC"},filter:{typeOrderFilter:t.searchBy,searchText:t.searchText||""},filterTime:{typeOrderFilterTime:t.sortby,startTime:t.fromDate?v(t.fromDate).format("YYYY-MM-DD"):"",endTime:t.toDate?v(t.toDate).format("YYYY-MM-DD"):""},providers:"",channel:"",status:"ALL"===this.currentTab?"":this.currentTab};this.isLoading=!0,this._manageOrderService.getListOrder(i).pipe((0,O.x)(()=>this.isLoading=!1)).subscribe({next:o=>{const d=this.listTab.find(l=>l.value===this.currentTab);d&&(d.counter=o.totalItemCount||0),this.listOfData=o.results.map(l=>({orderCode:l.orderCode,createdAt:v(1e3*l.timeStampCreatedAt).format("DD/MM/YYYY HH:mm"),kotCodes:l.kotCodes,bookingCodes:l.bookingCodes,channel:l.channel,status:l.status,totalPrice:l.totalAmountDue})),this.totalData=o.totalItemCount||0}})}pageIndexChange(t){this.pageOffset=t,this.getListOrder()}onServerPageSizeChange(t){this.pageSize=t,this.pageOffset=1,this.getListOrder()}exportExcel(t){const i="DanhSachDon_"+(0,u.p6)(new Date,"yyyy-MM-dd","vi-VN");this._excelService.exportToExcel(t.map(o=>({orderCode:o.orderCode,createdAt:o.createdAt,kotCodes:o.kotCodes.map(d=>d).join(", "),bookingCodes:o.bookingCodes.map(d=>d).join(", "),channel:o.channel,status:this.getStatusOrder(o.status),totalPrice:o.totalPrice})),["M\xe3 \u0111\u01a1n h\xe0ng","Ng\xe0y \u0111\u1eb7t","M\xe3 giao d\u1ecbch KOT","M\xe3 PNR","K\xeanh b\xe1n","Tr\u1ea1ng th\xe1i","T\u1ed5ng thanh to\xe1n"],i,[{wch:10},{wch:10},{wch:20},{wch:25},{wch:25},{wch:20},{wch:20}])}getStatusOrder(t){switch(t){case"WaitingForPayment":return"Ch\u01b0a thanh to\xe1n";case"Processing":return"\u0110ang x\u1eed l\xfd";case"Failed":return"Th\u1ea5t b\u1ea1i";case"Success":return"Th\xe0nh c\xf4ng";case"Canceled":return"\u0110\xe3 h\u1ee7y";case"Refunded":return"\u0110\xe3 ho\xe0n ti\u1ec1n";default:return""}}gotoOrderDetail(t){this._router.navigate([`order-bc-detail/${t}`])}onChangeTab(t,i){t.value!==this.currentTab&&(i.scrollIntoView({behavior:"smooth",inline:"center"}),this.listOfData=[],this.listTab.forEach(o=>o.active=!1),t.active=!0,this.currentTab=t.value,this.getListOrder())}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.KNP),e.Y36(P),e.Y36(L.F0),e.Y36(c.qu),e.Y36(I.x))},n.\u0275cmp=e.Xpm({type:n,selectors:[["manage-order-bc-page"]],standalone:!0,features:[e.jDz],decls:64,vars:64,consts:[[1,"flex","flex-col","w-full"],[1,"flex","flex-col","gap-y-5","bg-neutral-white","py-5","px-6"],[1,"flex","overflow-x-auto"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-y-4"],[1,"flex","items-end","gap-x-4"],["textField","text","valueField","value",1,"!max-w-none","w-[165px]",3,"status","data","formControl","placeholder","allowSearch"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[1,"flex","mr-2"],[1,"grow",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfLabel",""],["cf-input","","type","text","size","medium","placeholder","Ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh",1,"py-[7px]",3,"ngModel","click","ngModelChange"],[1,"hidden"],["cfHint","",3,"hint",4,"ngIf"],["cfDatepicker","","type","text","outsideDays","hidden",1,"w-0","m-0","bottom-0",3,"secondaryCalendar","displayMonths","rangeSelection","containerWidth","startDate","canReset","fromDate","toDate","dateSelect"],["dateRange","cfDatepicker"],["textField","text","valueField","value",1,"!max-w-none","w-[160px]",3,"status","data","placeholder","allowSearch"],["textField","text","valueField","value",1,"!max-w-none","w-[160px]",3,"status","data","formControl","placeholder","allowSearch"],["cf-button","","size","medium",1,"justify-center","whitespace-nowrap",3,"type","click"],["cfHeadIcon","","icon","export","size","small",1,"mr-2"],["textField","text","valueField","value",1,"!max-w-none","w-[180px]",3,"status","data","formControl","placeholder","allowSearch"],[1,"!w-full","md:mr-4","md:hidden"],["cfHeadIcon","","icon","search","size","small"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm trong danh s\xe1ch k\u1ebft qu\u1ea3...",3,"formControl","keydown.enter"],["tableSearchInput",""],["cfHeadIcon","","icon","search","size","small",1,"mr-2"],[1,"py-4","px-[30px]","rounded-lg","md:hidden"],[1,"bg-neutral-white","rounded-lg","shadow-cf-md"],[1,"p-4","flex","justify-between","items-center"],[1,"text-heading-sm"],[1,"",3,"fnSort","fnSearch","pageSizeList","listData","pageSize","totalData","serverSidePagination","pageIndexChange","serverPageSizeChange"],["managerTable",""],["cf-thead",""],["cf-th","",1,"whitespace-nowrap",3,"sortName"],["ngFor","",3,"ngForOf"],[4,"ngIf"],[1,"py-2.5","pr-5","pl-0","flex","gap-x-2.5","border-b","border-neutral-gray-1","cursor-pointer",3,"ngClass","click"],["tabElement",""],[1,"flex","items-center","whitespace-nowrap","text-heading-md","text-neutral-gray-4","md:text-express-md",3,"ngClass"],[1,"!text-express-xs","!p-1","bg-neutral-gray-4","ml-2",3,"color","ngClass"],["cfHint","",3,"hint"],[1,"border-b","border-neutral-gray-1"],[1,"py-2","px-3","text-body-sm"],[1,"whitespace-nowrap",3,"ngSwitch"],["class","w-fit bg-secondary-7-2 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-secondary-7-5",4,"ngSwitchCase"],["class","w-fit bg-secondary-3-3 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-white",4,"ngSwitchCase"],["class","w-fit bg-red-1 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-primary-1-4",4,"ngSwitchCase"],["class","w-fit bg-secondary-5-1 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-secondary-5-3",4,"ngSwitchCase"],["class","w-fit bg-neutral-gray-3 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-neutral-gray-6",4,"ngSwitchCase"],["class","w-fit bg-cyan-1 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-cyan-5",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"text-espressive-sm","text-secondary-3-4","cursor-pointer","whitespace-nowrap",3,"click"],[1,"w-fit","bg-secondary-7-2","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-secondary-7-5"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8 1.33325C11.6817 1.33343 14.666 4.31845 14.666 8.00024C14.6658 11.6819 11.6816 14.6661 8 14.6663C4.31821 14.6663 1.33318 11.682 1.33301 8.00024C1.33301 4.31835 4.3181 1.33325 8 1.33325ZM8 4.00024C7.6319 4.00024 7.33316 4.2982 7.33301 4.66626V8.00024C7.3331 8.17686 7.40347 8.34602 7.52832 8.47095L9.52832 10.4709C9.78866 10.7313 10.2104 10.7313 10.4707 10.4709C10.7311 10.2106 10.7311 9.78891 10.4707 9.52856L8.66602 7.72388V4.66626C8.66586 4.29831 8.36795 4.00042 8 4.00024Z","fill","#A6732B"],[1,"text-espressive-sm"],[1,"w-fit","bg-secondary-3-3","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-white"],["clip-path","url(#clip0_7545_8147)"],["d","M4.72728 7.99998C4.72728 7.59833 4.40166 7.27271 4.00001 7.27271H1.09092C0.689272 7.27271 0.363647 7.59833 0.363647 7.99998C0.363647 8.40163 0.689272 8.72725 1.09092 8.72725H4.00001C4.40166 8.72725 4.72728 8.40163 4.72728 7.99998Z","fill","white"],["d","M14.9091 7.27271H13.4546C13.0529 7.27271 12.7273 7.59833 12.7273 7.99998C12.7273 8.40163 13.0529 8.72725 13.4546 8.72725H14.9091C15.3108 8.72725 15.6364 8.40163 15.6364 7.99998C15.6364 7.59833 15.3108 7.27271 14.9091 7.27271Z","fill","white"],["d","M8.36363 4.36364C8.76527 4.36364 9.0909 4.03801 9.0909 3.63636V0.727273C9.0909 0.325624 8.76527 0 8.36363 0C7.96198 0 7.63635 0.325624 7.63635 0.727273V3.63636C7.63635 4.03801 7.96198 4.36364 8.36363 4.36364Z","fill","white"],["d","M8.36375 11.6364C7.9621 11.6364 7.63647 11.962 7.63647 12.3636V15.2727C7.63647 15.6744 7.9621 16 8.36375 16C8.7654 16 9.09102 15.6744 9.09102 15.2727V12.3636C9.09102 11.962 8.7654 11.6364 8.36375 11.6364Z","fill","white"],["d","M3.7353 2.34313C3.45137 2.0591 2.99087 2.05915 2.70679 2.34313C2.42277 2.62715 2.42277 3.08761 2.70679 3.37164L4.76386 5.42875C4.90587 5.57076 5.092 5.64179 5.27809 5.64179C5.46417 5.64179 5.65036 5.57076 5.79232 5.4288C6.07634 5.14478 6.07634 4.68431 5.79232 4.40029L3.7353 2.34313Z","fill","white"],["d","M11.9634 10.5713C11.6795 10.2873 11.2189 10.2873 10.9349 10.5713C10.6509 10.8553 10.6509 11.3158 10.9349 11.5998L12.992 13.6568C13.1341 13.7989 13.3202 13.8698 13.5063 13.8698C13.6925 13.8698 13.8786 13.7988 14.0205 13.6568C14.3046 13.3728 14.3046 12.9124 14.0205 12.6283L11.9634 10.5713Z","fill","white"],["d","M4.76381 10.5714L2.70679 12.6284C2.42277 12.9124 2.42277 13.3729 2.70679 13.6569C2.8488 13.7989 3.03494 13.8699 3.22107 13.8699C3.4072 13.8699 3.59334 13.7989 3.7353 13.6569L5.79232 11.5999C6.07634 11.3158 6.07634 10.8554 5.79232 10.5714C5.5083 10.2873 5.04779 10.2873 4.76381 10.5714Z","fill","white"],["id","clip0_7545_8147"],["width","16","height","16","fill","white"],[1,"w-fit","bg-red-1","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-primary-1-4"],["cx","8","cy","8","r","7","fill","#E03C31"],["d","M9.54031 5.54043C9.79412 5.28662 10.2054 5.28669 10.4593 5.54043C10.7131 5.79427 10.7131 6.20553 10.4593 6.45937L8.91824 7.99941L10.4593 9.54043C10.7131 9.79427 10.7131 10.2055 10.4593 10.4594C10.2054 10.7132 9.79415 10.7132 9.54031 10.4594L7.99929 8.91836L6.45925 10.4594C6.20541 10.7132 5.79415 10.7132 5.54031 10.4594C5.28656 10.2055 5.2865 9.79424 5.54031 9.54043L7.08035 7.99941L5.54031 6.45937C5.28656 6.20553 5.2865 5.79424 5.54031 5.54043C5.79412 5.28662 6.2054 5.28669 6.45925 5.54043L7.99929 7.08047L9.54031 5.54043Z","fill","white"],[1,"w-fit","bg-secondary-5-1","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-secondary-5-3"],["d","M8.00004 1.33334C6.6815 1.33334 5.39257 1.72434 4.29624 2.45688C3.19991 3.18942 2.34543 4.23061 1.84085 5.44879C1.33626 6.66696 1.20424 8.00741 1.46148 9.30061C1.71871 10.5938 2.35365 11.7817 3.286 12.7141C4.21835 13.6464 5.40623 14.2813 6.69944 14.5386C7.99265 14.7958 9.33309 14.6638 10.5513 14.1592C11.7694 13.6546 12.8106 12.8001 13.5432 11.7038C14.2757 10.6075 14.6667 9.31855 14.6667 8.00001C14.6616 6.23348 13.9576 4.54076 12.7084 3.29163C11.4593 2.0425 9.76658 1.33847 8.00004 1.33334ZM6.88893 11.0078L4.27393 8.39279C4.05701 8.17586 4.05701 7.82416 4.27393 7.60723C4.49086 7.39031 4.84256 7.39031 5.05949 7.60723L6.88893 9.43668L10.9406 5.38501C11.1575 5.16808 11.5092 5.16809 11.7262 5.38501C11.9431 5.60194 11.9431 5.95364 11.7262 6.17057L6.88893 11.0078Z","fill","#07A35D"],[1,"w-fit","bg-neutral-gray-3","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-neutral-gray-6"],["cx","8","cy","8","r","7","fill","#999999"],[1,"w-fit","bg-cyan-1","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-cyan-5"],["d","M8.13803 1.52858C8.39838 1.78892 8.39838 2.21103 8.13803 2.47138L7.2761 3.33331H8.33329C11.4348 3.33331 14 5.89846 14 8.99998C14 12.1015 11.4348 14.6666 8.33329 14.6666C5.23177 14.6666 2.66663 12.1015 2.66663 8.99998C2.66663 8.63179 2.9651 8.33331 3.33329 8.33331C3.70148 8.33331 3.99996 8.63179 3.99996 8.99998C3.99996 11.3651 5.96815 13.3333 8.33329 13.3333C10.6984 13.3333 12.6666 11.3651 12.6666 8.99998C12.6666 6.63484 10.6984 4.66665 8.33329 4.66665H7.2761L8.13803 5.52858C8.39838 5.78892 8.39838 6.21103 8.13803 6.47138C7.87768 6.73173 7.45557 6.73173 7.19522 6.47138L5.19522 4.47138C4.93487 4.21103 4.93487 3.78892 5.19522 3.52858L7.19522 1.52858C7.45557 1.26823 7.87768 1.26823 8.13803 1.52858Z","fill","#007C80"]],template:function(t,i){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,z,8,13,"ng-container",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"cf-select",6)(7,"label",7),e._uU(8," L\u1ecdc theo "),e.qZA()(),e.TgZ(9,"div",8)(10,"cf-input-group",9),e._UZ(11,"cf-icon",10),e.TgZ(12,"label",11),e._uU(13,"Th\u1eddi gian"),e.qZA(),e.TgZ(14,"input",12),e.NdJ("click",function(){e.CHM(o);const l=e.MAs(18);return e.KtG(l.open())})("ngModelChange",function(l){return i.dateRangeStr=l}),e.qZA(),e.TgZ(15,"div",13),e.YNc(16,R,1,1,"cf-input-hint",14),e.qZA()(),e.TgZ(17,"input",15,16),e.NdJ("dateSelect",function(l){e.CHM(o);const x=e.MAs(18);return e.KtG(i.onDateSelection(l,i.searchForm.controls.fromDate,i.searchForm.controls.toDate,x))}),e.qZA()(),e.TgZ(19,"cf-select",17)(20,"label",7),e._uU(21," H\xe3ng "),e.qZA()(),e.TgZ(22,"cf-select",18)(23,"label",7),e._uU(24," K\xeanh b\xe1n "),e.qZA()(),e.TgZ(25,"button",19),e.NdJ("click",function(){e.CHM(o);const l=e.MAs(43);return e.KtG(i.exportExcel(l.data))}),e._UZ(26,"cf-icon",20),e._uU(27," Xu\u1ea5t excel "),e.qZA()(),e.TgZ(28,"div",5),e._UZ(29,"cf-select",21),e.TgZ(30,"cf-input-group",22),e._UZ(31,"cf-icon",23),e.TgZ(32,"input",24,25),e.NdJ("keydown.enter",function(){return i.getListOrder()}),e.qZA()(),e.TgZ(34,"button",19),e.NdJ("click",function(){return i.getListOrder()}),e._UZ(35,"cf-icon",26),e._uU(36," T\xecm ki\u1ebfm "),e.qZA()()()()(),e.TgZ(37,"div",27)(38,"div",28)(39,"div",29)(40,"div",30),e._uU(41,"Danh s\xe1ch \u0111\u01a1n h\xe0ng"),e.qZA()(),e.TgZ(42,"cf-table",31,32),e.NdJ("pageIndexChange",function(l){return i.pageIndexChange(l)})("serverPageSizeChange",function(l){return i.onServerPageSizeChange(l)}),e.TgZ(44,"thead",33)(45,"th",34),e._uU(46,"M\xe3 \u0111\u01a1n h\xe0ng"),e.qZA(),e.TgZ(47,"th",34),e._uU(48,"Ng\xe0y \u0111\u1eb7t"),e.qZA(),e.TgZ(49,"th",34),e._uU(50,"M\xe3 giao d\u1ecbch KOT"),e.qZA(),e.TgZ(51,"th",34),e._uU(52,"M\xe3 PNR"),e.qZA(),e.TgZ(53,"th",34),e._uU(54,"K\xeanh b\xe1n"),e.qZA(),e.TgZ(55,"th",34),e._uU(56,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(57,"th",34),e._uU(58,"T\u1ed5ng thanh to\xe1n"),e.qZA(),e.TgZ(59,"th",34),e._uU(60,"Thao t\xe1c"),e.qZA()(),e.TgZ(61,"tbody"),e.YNc(62,ne,26,15,"ng-template",35),e.qZA()()()(),e.YNc(63,ie,1,0,"cf-spinner",36)}if(2&t){const o=e.MAs(43);e.xp6(3),e.Q6J("ngForOf",i.listTab),e.xp6(3),e.Q6J("status","default")("data",i.sortbyOptions||e.DdM(51,b))("formControl",i.searchForm.controls.sortby)("placeholder","")("allowSearch",!0),e.xp6(4),e.Q6J("status",i.invalidTimeFilter?"error":"default"),e.xp6(4),e.Q6J("ngModel",i.dateRangeStr),e.xp6(2),e.Q6J("ngIf",i.invalidTimeFilter),e.xp6(1),e.Q6J("secondaryCalendar","lunar")("displayMonths",2)("rangeSelection",!0)("containerWidth",600)("startDate",i.startDate)("canReset",!1)("fromDate",i.searchForm.controls.fromDate.value)("toDate",i.searchForm.controls.toDate.value),e.xp6(2),e.Q6J("status","default")("data",e.DdM(52,b))("placeholder","")("allowSearch",!0),e.xp6(3),e.Q6J("status","default")("data",i.channelOptions||e.DdM(53,b))("formControl",i.searchForm.controls.channel)("placeholder","")("allowSearch",!0),e.xp6(3),e.Q6J("type","secondary"),e.xp6(4),e.Q6J("status","default")("data",i.searchByOptions||e.DdM(54,b))("formControl",i.searchForm.controls.searchBy)("placeholder","")("allowSearch",!0),e.xp6(3),e.Q6J("formControl",i.searchForm.controls.searchText),e.xp6(2),e.Q6J("type","secondary"),e.xp6(8),e.Q6J("fnSort",i.sortChange)("fnSearch",i.searchChange)("pageSizeList",e.l5B(59,le,e.DdM(55,ae),e.DdM(56,re),e.DdM(57,oe),e.DdM(58,ce)))("listData",i.listOfData)("pageSize",i.pageSize)("totalData",i.totalData)("serverSidePagination",!0),e.xp6(3),e.Q6J("sortName","airline"),e.xp6(2),e.Q6J("sortName","pnr"),e.xp6(2),e.Q6J("sortName","bookedDate"),e.xp6(2),e.Q6J("sortName","bookedDate"),e.xp6(2),e.Q6J("sortName","departDate"),e.xp6(2),e.Q6J("sortName","state"),e.xp6(2),e.Q6J("sortName","totalPrice"),e.xp6(2),e.Q6J("sortName","totalPrice"),e.xp6(3),e.Q6J("ngForOf",o.partOfdata),e.xp6(1),e.Q6J("ngIf",i.isLoading)}},dependencies:[u.ez,u.mk,u.sg,u.O5,u.RF,u.n9,u.ED,u.JJ,f.b,C.q,h.AxE,h.Sm8,m.N8,m.Xq,g.rC,g.E_,g.zs,T.j$,T.ND,T.BN,T.v2,c.u5,c.Fj,c.JJ,c.On,c.UX,c.oH,U.Cs,_.OR],encapsulation:2}),n})();var se=s(62733);function ue(n,a){1&n&&(e.TgZ(0,"div",57),e._UZ(1,"cf-icon",58),e.TgZ(2,"div",59),e._uU(3,"Ch\u1edd thanh to\xe1n"),e.qZA()())}function ge(n,a){1&n&&(e.TgZ(0,"div",60),e._UZ(1,"cf-icon",61),e.TgZ(2,"div",59),e._uU(3,"\u0110ang x\u1eed l\xfd"),e.qZA()())}function pe(n,a){1&n&&(e.TgZ(0,"div",62),e._UZ(1,"cf-icon",63),e.TgZ(2,"div",59),e._uU(3,"Th\u1ea5t b\u1ea1i"),e.qZA()())}function he(n,a){1&n&&(e.TgZ(0,"div",64),e._UZ(1,"cf-icon",65),e.TgZ(2,"div",59),e._uU(3,"Th\xe0nh c\xf4ng"),e.qZA()())}function fe(n,a){1&n&&(e.TgZ(0,"div",66),e._UZ(1,"cf-icon",63),e.TgZ(2,"div",59),e._uU(3,"\u0110\xe3 h\u1ee7y"),e.qZA()())}function xe(n,a){1&n&&(e.TgZ(0,"div",67),e._UZ(1,"cf-icon",68),e.TgZ(2,"div",59),e._uU(3,"\u0110\xe3 ho\xe0n ti\u1ec1n"),e.qZA()())}function me(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function _e(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",69),e._uU(3),e.qZA(),e.TgZ(4,"td",69),e._uU(5),e.qZA(),e.TgZ(6,"td",69),e._uU(7),e.qZA(),e.TgZ(8,"td",69),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"td",69),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td",69),e._uU(15),e.ALo(16,"number"),e.qZA(),e.TgZ(17,"td",69),e._uU(18),e.ALo(19,"number"),e.qZA()(),e.BQk()),2&n){const t=a.$implicit;e.xp6(3),e.AsE("",t.lastName," ",t.firstName,""),e.xp6(2),e.Oqu(t.type),e.xp6(2),e.Oqu(t.gender),e.xp6(2),e.Oqu(e.lcZ(10,8,t.originPrice)),e.xp6(3),e.Oqu(e.lcZ(13,10,t.sellingPrice)),e.xp6(3),e.Oqu(e.lcZ(16,12,t.discount)),e.xp6(3),e.hij("",e.lcZ(19,14,t.priceAfterDiscount)," ")}}function ve(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",34)(2,"div",35)(3,"div",36)(4,"div"),e._UZ(5,"img",37),e.qZA(),e.TgZ(6,"div",38)(7,"span",39),e._uU(8),e.qZA(),e.TgZ(9,"span",40),e._uU(10),e.qZA()()(),e._UZ(11,"div",41),e.TgZ(12,"div",42)(13,"div",43)(14,"span"),e._uU(15),e.qZA(),e._UZ(16,"cf-icon",44),e.TgZ(17,"span"),e._uU(18),e.qZA()(),e.TgZ(19,"div",45),e._UZ(20,"cf-icon",46),e.TgZ(21,"span",47),e._uU(22),e.ALo(23,"date"),e.qZA()()(),e._UZ(24,"div",41),e.TgZ(25,"div",48)(26,"div",49),e._uU(27,"M\xe3 \u0111\u1eb7t ch\u1ed7"),e.qZA(),e.TgZ(28,"div",50),e._uU(29),e.qZA()(),e._UZ(30,"div",41),e.TgZ(31,"div",48)(32,"div",49),e._uU(33,"T\xecnh tr\u1ea1ng"),e.qZA(),e.TgZ(34,"div",51)(35,"div",23),e.YNc(36,ue,4,0,"div",24),e.YNc(37,ge,4,0,"div",25),e.YNc(38,pe,4,0,"div",26),e.YNc(39,he,4,0,"div",27),e.YNc(40,fe,4,0,"div",28),e.YNc(41,xe,4,0,"div",29),e.YNc(42,me,2,0,"div",30),e.qZA()()()(),e.TgZ(43,"table",52)(44,"thead")(45,"tr",53)(46,"th",54),e._uU(47,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(48,"th",54),e._uU(49,"Lo\u1ea1i"),e.qZA(),e.TgZ(50,"th",54),e._uU(51,"Gi\u1edbi t\xednh"),e.qZA(),e.TgZ(52,"th",54),e._uU(53,"Gi\xe1 g\u1ed1c"),e.qZA(),e.TgZ(54,"th",54),e._uU(55,"Gi\xe1 b\xe1n"),e.qZA(),e.TgZ(56,"th",54),e._uU(57,"Khuy\u1ebfn m\xe3i/pax"),e.qZA(),e.TgZ(58,"th",54),e._uU(59,"Gi\xe1 sau KM"),e.qZA()()(),e.TgZ(60,"tbody"),e.YNc(61,_e,20,16,"ng-container",33),e.qZA()(),e.TgZ(62,"div",55)(63,"div",56),e._uU(64,"T\u1ed5ng gi\xe1 v\xe9"),e.qZA(),e.TgZ(65,"div",4),e._uU(66),e.ALo(67,"number"),e.qZA()()(),e.BQk()),2&n){const t=a.$implicit,i=e.oxw(3);e.xp6(5),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(3),e.hij("",t.airlineCode," -\xa0"),e.xp6(2),e.Oqu(t.airlineName),e.xp6(5),e.hij(" ",t.startPoint,""),e.xp6(3),e.hij(" ",t.endPoint," "),e.xp6(4),e.lnq("",t.airlineCode,"",t.flightNumber," (",e.xi3(23,18,t.departureTime,"HH:mm dd/MM/yyyy"),")"),e.xp6(7),e.Oqu(t.bookingCode||"-"),e.xp6(6),e.Q6J("ngSwitch",i.orderDetailData.status),e.xp6(1),e.Q6J("ngSwitchCase","WaitingForPayment"),e.xp6(1),e.Q6J("ngSwitchCase","Processing"),e.xp6(1),e.Q6J("ngSwitchCase","Failed"),e.xp6(1),e.Q6J("ngSwitchCase","Success"),e.xp6(1),e.Q6J("ngSwitchCase","Canceled"),e.xp6(1),e.Q6J("ngSwitchCase","Refunded"),e.xp6(20),e.Q6J("ngForOf",t.passengers),e.xp6(5),e.hij("",e.lcZ(67,21,t.totalCharge)," \u0111")}}function Ze(n,a){if(1&n&&(e.TgZ(0,"div",32),e.YNc(1,ve,68,23,"ng-container",33),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.orderDetailData.flightFares)}}function Te(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"tr")(2,"td",69),e._uU(3),e.qZA(),e.TgZ(4,"td",69),e._uU(5),e.qZA(),e.TgZ(6,"td",69),e._uU(7),e.ALo(8,"date"),e.qZA(),e.TgZ(9,"td",69),e._uU(10),e.qZA(),e.TgZ(11,"td",69),e._uU(12),e.qZA(),e.TgZ(13,"td",69),e._uU(14),e.ALo(15,"number"),e.qZA()(),e.BQk()),2&n){const t=a.$implicit;e.xp6(3),e.Oqu(t.airlineCode),e.xp6(2),e.AsE("",t.startPoint,"",t.endPoint,""),e.xp6(2),e.Oqu(e.xi3(8,7,t.departureTime,"dd/MM/yyyy")),e.xp6(3),e.Oqu(t.passengerName),e.xp6(2),e.Oqu(t.serviceName),e.xp6(2),e.Oqu(e.lcZ(15,10,t.price))}}const Ce=function(){return[]};function ye(n,a){if(1&n&&(e.TgZ(0,"div",70)(1,"div",71)(2,"div",72),e._uU(3,"D\u1ecbch v\u1ee5 mua k\xe8m v\xe9 m\xe1y bay"),e.qZA()(),e.TgZ(4,"table",52)(5,"thead")(6,"tr",53)(7,"th",54),e._uU(8,"H\xe3ng bay"),e.qZA(),e.TgZ(9,"th",54),e._uU(10,"Chuy\u1ebfn bay"),e.qZA(),e.TgZ(11,"th",54),e._uU(12,"Ng\xe0y \u0111i"),e.qZA(),e.TgZ(13,"th",54),e._uU(14,"H\xe0nh kh\xe1ch"),e.qZA(),e.TgZ(15,"th",54),e._uU(16,"T\xean d\u1ecbch v\u1ee5"),e.qZA(),e.TgZ(17,"th",54),e._uU(18,"T\u1ed5ng gi\xe1"),e.qZA()()(),e.TgZ(19,"tbody"),e.YNc(20,Te,16,12,"ng-container",33),e.qZA()()()),2&n){const t=e.oxw(2);e.xp6(20),e.Q6J("ngForOf",t.orderDetailData.flightServices||e.DdM(1,Ce))}}function De(n,a){1&n&&(e.TgZ(0,"div",57),e._UZ(1,"cf-icon",58),e.TgZ(2,"div",59),e._uU(3,"Ch\u1edd thanh to\xe1n"),e.qZA()())}function Ae(n,a){1&n&&(e.TgZ(0,"div",60),e._UZ(1,"cf-icon",61),e.TgZ(2,"div",59),e._uU(3,"\u0110ang x\u1eed l\xfd"),e.qZA()())}function Ee(n,a){1&n&&(e.TgZ(0,"div",62),e._UZ(1,"cf-icon",63),e.TgZ(2,"div",59),e._uU(3,"Th\u1ea5t b\u1ea1i"),e.qZA()())}function be(n,a){1&n&&(e.TgZ(0,"div",64),e._UZ(1,"cf-icon",65),e.TgZ(2,"div",59),e._uU(3,"Th\xe0nh c\xf4ng"),e.qZA()())}function Ue(n,a){1&n&&(e.TgZ(0,"div",66),e._UZ(1,"cf-icon",63),e.TgZ(2,"div",59),e._uU(3,"\u0110\xe3 h\u1ee7y"),e.qZA()())}function Oe(n,a){1&n&&(e.TgZ(0,"div",67),e._UZ(1,"cf-icon",68),e.TgZ(2,"div",59),e._uU(3,"\u0110\xe3 ho\xe0n ti\u1ec1n"),e.qZA()())}function qe(n,a){1&n&&(e.TgZ(0,"div"),e._uU(1,"-"),e.qZA())}function we(n,a){if(1&n&&(e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div"),e.YNc(4,Ze,2,1,"div",9),e.TgZ(5,"div",10)(6,"div",11)(7,"div",12),e._uU(8,"T\u1ed5ng chi ph\xed"),e.qZA(),e.TgZ(9,"div",13),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.YNc(12,ye,21,2,"div",14),e.qZA()(),e.TgZ(13,"div",15)(14,"div",16)(15,"div",17),e._uU(16,"T\xf3m t\u1eaft \u0111\u01a1n h\xe0ng"),e.qZA(),e.TgZ(17,"div",18)(18,"div",19)(19,"div",20)(20,"div",21),e._uU(21,"M\xe3 \u0111\u01a1n h\xe0ng"),e.qZA(),e.TgZ(22,"div",22),e._uU(23),e.qZA()(),e.TgZ(24,"div",20)(25,"div",21),e._uU(26,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(27,"div",23),e.YNc(28,De,4,0,"div",24),e.YNc(29,Ae,4,0,"div",25),e.YNc(30,Ee,4,0,"div",26),e.YNc(31,be,4,0,"div",27),e.YNc(32,Ue,4,0,"div",28),e.YNc(33,Oe,4,0,"div",29),e.YNc(34,qe,2,0,"div",30),e.qZA()(),e.TgZ(35,"div",20)(36,"div",21),e._uU(37,"K\xeanh b\xe1n"),e.qZA(),e.TgZ(38,"div",31),e._uU(39),e.qZA()(),e.TgZ(40,"div",20)(41,"div",21),e._uU(42,"PTTT"),e.qZA(),e.TgZ(43,"div",31),e._uU(44),e.qZA()(),e.TgZ(45,"div",20)(46,"div",21),e._uU(47,"M\xe3 giao d\u1ecbch"),e.qZA(),e.TgZ(48,"div",31),e._uU(49),e.qZA()(),e.TgZ(50,"div",20)(51,"div",21),e._uU(52,"T\u1ed5ng ti\u1ec1n"),e.qZA(),e.TgZ(53,"div",31),e._uU(54),e.ALo(55,"number"),e.qZA()(),e.TgZ(56,"div",20)(57,"div",21),e._uU(58,"Gi\u1ea3m gi\xe1"),e.qZA(),e.TgZ(59,"div",31),e._uU(60),e.ALo(61,"number"),e.qZA()(),e.TgZ(62,"div",20)(63,"div",21),e._uU(64,"Ph\xed giao d\u1ecbch"),e.qZA(),e.TgZ(65,"div",31),e._uU(66),e.ALo(67,"number"),e.qZA()(),e.TgZ(68,"div",20)(69,"div",21),e._uU(70,"T\u1ed5ng thanh to\xe1n"),e.qZA(),e.TgZ(71,"div",22),e._uU(72),e.ALo(73,"number"),e.qZA()()()()(),e.TgZ(74,"div",16)(75,"div",17),e._uU(76,"Th\xf4ng tin li\xean h\u1ec7"),e.qZA(),e.TgZ(77,"div",18)(78,"div",19)(79,"div",20)(80,"div",21),e._uU(81,"H\u1ecd v\xe0 t\xean"),e.qZA(),e.TgZ(82,"div",31),e._uU(83),e.qZA()(),e.TgZ(84,"div",20)(85,"div",21),e._uU(86,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),e.qZA(),e.TgZ(87,"div",31),e._uU(88),e.qZA()(),e.TgZ(89,"div",20)(90,"div",21),e._uU(91,"Email"),e.qZA(),e.TgZ(92,"div",31),e._uU(93),e.qZA()()()()(),e.TgZ(94,"div",16)(95,"div",17),e._uU(96,"Y\xeau c\u1ea7u xu\u1ea5t h\xf3a \u0111\u01a1n"),e.qZA(),e.TgZ(97,"div",18)(98,"div",19)(99,"div",20)(100,"div",21),e._uU(101,"MST"),e.qZA(),e.TgZ(102,"div",31),e._uU(103),e.qZA()(),e.TgZ(104,"div",20)(105,"div",21),e._uU(106,"T\xean c\xf4ng ty"),e.qZA(),e.TgZ(107,"div",31),e._uU(108),e.qZA()(),e.TgZ(109,"div",20)(110,"div",21),e._uU(111,"\u0110\u1ecba ch\u1ec9"),e.qZA(),e.TgZ(112,"div",31),e._uU(113),e.qZA()()()()()()()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",null==t.orderDetailData||null==t.orderDetailData.flightFares?null:t.orderDetailData.flightFares.length),e.xp6(6),e.hij("",e.lcZ(11,24,t.orderDetailData.totalAmountDue)," \u0111"),e.xp6(2),e.Q6J("ngIf",null==t.orderDetailData||null==t.orderDetailData.flightServices?null:t.orderDetailData.flightServices.length),e.xp6(11),e.Oqu(t.orderDetailData.orderCode),e.xp6(4),e.Q6J("ngSwitch",t.orderDetailData.status),e.xp6(1),e.Q6J("ngSwitchCase","WaitingForPayment"),e.xp6(1),e.Q6J("ngSwitchCase","Processing"),e.xp6(1),e.Q6J("ngSwitchCase","Failed"),e.xp6(1),e.Q6J("ngSwitchCase","Success"),e.xp6(1),e.Q6J("ngSwitchCase","Canceled"),e.xp6(1),e.Q6J("ngSwitchCase","Refunded"),e.xp6(6),e.Oqu(t.orderDetailData.channel),e.xp6(5),e.Oqu(t.orderDetailData.payment.paymentMethod),e.xp6(5),e.hij("",t.orderDetailData.payment.gatewayTransactionId," "),e.xp6(5),e.Oqu(e.lcZ(55,26,t.orderDetailData.totalAmount)),e.xp6(6),e.Oqu(e.lcZ(61,28,t.orderDetailData.totalDiscount)),e.xp6(6),e.Oqu(e.lcZ(67,30,t.orderDetailData.totalTax)),e.xp6(6),e.Oqu(e.lcZ(73,32,t.orderDetailData.totalAmountDue)),e.xp6(11),e.Oqu(t.orderDetailData.contact.name||"-"),e.xp6(5),e.Oqu(t.orderDetailData.contact.phone||"-"),e.xp6(5),e.Oqu(t.orderDetailData.contact.email||"-"),e.xp6(10),e.Oqu(t.orderDetailData.invoiceInfo.taxNum||"-"),e.xp6(5),e.hij("",t.orderDetailData.invoiceInfo.companyName||"-"," "),e.xp6(5),e.Oqu(t.orderDetailData.invoiceInfo.companyAddress||"-")}}let Se=(()=>{class n{constructor(t,i,o,d){this.activatedRoute=i,this._manageOrderService=o,this._flightDataService=d,t.registerIcons([h.okA,h.Ffn]),this.orderCode=i.snapshot.params.code}ngOnInit(){this.getOrderDetail()}getOrderDetail(){this._manageOrderService.getOrderDetail(this.orderCode).subscribe({next:t=>{var i,o,d,l,x,y,D,Z,q,w;this.orderDetailData={channel:t.channel||"-",createdAt:t.createdAt,customerId:t.customerId,expiredAt:t.expiredAt,orderCode:t.orderCode,status:t.status,totalAmount:t.totalAmount,totalAmountDue:t.totalAmountDue,totalDiscount:t.totalDiscount,totalTax:t.totalTax,flightFares:t.orderDetail.flightFares.map(r=>({airlineCode:r.airlineCode,airlineName:r.airlineName,airlineLogo:this._flightDataService.getAirlineLogoByCode(r.airlineCode),arrivalLocalTime:r.arrivalLocalTime,arrivalLocalTimeZone:r.arrivalLocalTimeZone,arrivalTime:r.arrivalTime,bookingCode:r.bookingCode,departureLocalTime:r.departureLocalTime,departureLocalTimeZone:r.departureLocalTimeZone,departureTime:r.departureTime,endPoint:r.endPoint,fareClass:r.fareClass,flightNumber:r.flightNumber,kotCode:r.kotCode,messageError:r.messageError,operatingCode:r.operatingCode,operatingName:r.operatingName,seatRemain:r.seatRemain,startPoint:r.startPoint,status:r.status,passengers:t.orderDetail.passengers.map(p=>{var A,S,M,N;return{birthday:p.birthday,firstName:p.firstName,gender:this.getGender(p.gender),index:p.index,lastName:p.lastName,parentIndex:p.parentIndex,type:this.getPaxType(p.type),discount:(null===(A=this.getChargeByPaxType(p.type,r.charges))||void 0===A?void 0:A.discount)||0,originPrice:(null===(S=this.getChargeByPaxType(p.type,r.charges))||void 0===S?void 0:S.originPrice)||0,priceAfterDiscount:(null===(M=this.getChargeByPaxType(p.type,r.charges))||void 0===M?void 0:M.priceAfterDiscount)||0,sellingPrice:(null===(N=this.getChargeByPaxType(p.type,r.charges))||void 0===N?void 0:N.sellingPrice)||0}}),totalCharge:0})),passengers:t.orderDetail.passengers.map(r=>({birthday:r.birthday,firstName:r.firstName,gender:this.getGender(r.gender),index:r.index,lastName:r.lastName,parentIndex:r.parentIndex,type:this.getPaxType(r.type)})),payment:{gatewayTransactionId:(null===(i=t.payment)||void 0===i?void 0:i.gatewayTransactionId)||"-",paymentMethod:(null===(o=t.payment)||void 0===o?void 0:o.paymentMethod)||"-"},contact:{email:null===(d=t.orderDetail.contact)||void 0===d?void 0:d.email,name:null===(l=t.orderDetail.contact)||void 0===l?void 0:l.name,phone:null===(x=t.orderDetail.contact)||void 0===x?void 0:x.phone,phonePrefix:null===(y=t.orderDetail.contact)||void 0===y?void 0:y.phonePrefix},invoiceInfo:{companyAddress:null===(D=t.orderDetail.invoiceInfo)||void 0===D?void 0:D.companyAddress,companyName:null===(Z=t.orderDetail.invoiceInfo)||void 0===Z?void 0:Z.companyName,isVatInvoice:null===(q=t.orderDetail.invoiceInfo)||void 0===q?void 0:q.isVatInvoice,taxNum:null===(w=t.orderDetail.invoiceInfo)||void 0===w?void 0:w.taxNum},flightServices:t.orderDetail.flightServices.map(r=>({airlineCode:r.airlineCode,departureTime:r.departureTime,endPoint:r.endPoint,passengerName:r.passengerLastName+" "+r.passengerFirstName,price:r.price,serviceName:r.serviceName,serviceType:r.serviceType,startPoint:r.startPoint}))},this.orderDetailData.flightFares.forEach(r=>{r.totalCharge=r.passengers.reduce((p,A)=>p+A.priceAfterDiscount,0)}),console.log(this.orderDetailData)}})}getChargeByPaxType(t,i){switch(t){case"ADULT":default:return i.find(o=>"ADULT"===o.paxType);case"CHILD":return i.find(o=>"CHILD"===o.paxType);case"INFANT":return i.find(o=>"INFANT"===o.paxType)}}getGender(t){switch(t){case"MALE":default:return"Nam";case"FEMALE":return"N\u1eef"}}getPaxType(t){switch(t){case"ADULT":default:return"ADT";case"CHILD":return"CHD";case"INFANT":return"INF"}}getStatusOrder(t){switch(t){case"WaitingForPayment":return"Ch\u01b0a thanh to\xe1n";case"Processing":return"\u0110ang x\u1eed l\xfd";case"Failed":return"Th\u1ea5t b\u1ea1i";case"Success":return"Th\xe0nh c\xf4ng";case"Canceled":return"\u0110\xe3 h\u1ee7y";case"Refunded":return"\u0110\xe3 ho\xe0n ti\u1ec1n";default:return""}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(h.KNP),e.Y36(L.gz),e.Y36(P),e.Y36(se.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["order-bc-detail"]],standalone:!0,features:[e.jDz],decls:7,vars:1,consts:[[1,"w-full","h-full","flex","justify-center","pt-8","pb-4","px-[30px]"],[1,"w-full"],[1,"flex","gap-x-[20px]","w-full","mb-4"],[1,"w-1","bg-primary-2-4"],[1,"text-heading-md","text-neutral-black"],["class","w-full flex gap-x-4 justify-center",4,"ngIf"],[1,"w-full","flex","gap-x-4","justify-center"],[1,"w-[764px]","flex","flex-col","gap-y-6"],[1,"flex","flex-col","gap-y-4"],["class","flex flex-col gap-y-1",4,"ngIf"],[1,"px-6","bg-neutral-white"],[1,"flex","justify-end","items-center","gap-x-4","py-4","border-t","border-neutral-gray-1"],[1,"text-espressive-md","text-neutral-black"],[1,"text-heading-lg","text-secondary-3-4"],["class","px-6 pt-6 pb-6 bg-white rounded shadow-cf-md",4,"ngIf"],[1,"w-[340px]","h-fit","flex","flex-col","gap-y-4","md:hidden"],[1,"bg-neutral-white","rounded"],[1,"text-espressive-sm","px-4","py-3","border-b","border-neutral-gray-1"],[1,"p-4"],[1,"rounded","bg-neutral-gray-1","p-3","flex","flex-col","gap-y-2"],[1,"flex","items-center","gap-x-2"],[1,"text-espressive-sm","text-neutral-gray-4","min-w-[100px]"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"whitespace-nowrap",3,"ngSwitch"],["class","bg-secondary-7-2 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-secondary-7-5",4,"ngSwitchCase"],["class","bg-secondary-3-3 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-white",4,"ngSwitchCase"],["class","bg-red-1 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-primary-1-4",4,"ngSwitchCase"],["class","bg-secondary-5-1 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-secondary-5-3",4,"ngSwitchCase"],["class","bg-neutral-gray-3 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-neutral-gray-6",4,"ngSwitchCase"],["class","bg-cyan-1 rounded-[4px] py-1 px-2 flex justify-center items-center gap-x-1 text-cyan-5",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"text-body-md-short","text-neutral-gray-6"],[1,"flex","flex-col","gap-y-1"],[4,"ngFor","ngForOf"],[1,"bg-neutral-white","px-6","py-4","rounded","flex","flex-col","gap-y-6"],[1,"flex","gap-x-4"],[1,"h-full","w-full","flex","flex-col","gap-y-1.5","justify-center","items-center"],[1,"w-[90px]","h-[45px]","object-contain",3,"src"],[1,"text-body-sm","flex","flex-nowrap"],[1,"text-espressive-sm","whitespace-nowrap"],[1,"whitespace-nowrap"],[1,"w-[2px]","h-full","border-l","border-dashed","border-neutral-gray-1"],[1,"h-full","w-[206px]","shrink-0","flex","flex-col","justify-center"],[1,"text-heading-sm","py-1","px-3","bg-neutral-gray-1","flex","gap-x-2","items-center","justify-center","w-fit","rounded"],["icon","arrow_right","size","small"],[1,"mt-3","flex","gap-x-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"text-espressive-sm","text-neutral-black"],[1,"h-full","w-full","flex","flex-col","py-3","gap-[20px]"],[1,"text-body-md","text-neutral-black"],[1,"text-heading-lg"],[1,"text-heading-lg","text-neutral-black","flex","gap-2.5","items-center"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","pb-3"],[1,"flex","justify-end","gap-x-4","items-center","pt-4","mt-4","border-t","border-neutral-gray-1"],[1,"text-express-sm"],[1,"bg-secondary-7-2","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-secondary-7-5"],["icon","clock","size","small"],[1,"text-espressive-sm"],[1,"bg-secondary-3-3","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-white"],["icon","loading","size","small"],[1,"bg-red-1","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-primary-1-4"],["icon","error","size","small"],[1,"bg-secondary-5-1","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-secondary-5-3"],["icon","check","size","small"],[1,"bg-neutral-gray-3","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-neutral-gray-6"],[1,"bg-cyan-1","rounded-[4px]","py-1","px-2","flex","justify-center","items-center","gap-x-1","text-cyan-5"],["icon","refresh","size","small"],[1,"text-body-md","text-neutral-black","pt-4"],[1,"px-6","pt-6","pb-6","bg-white","rounded","shadow-cf-md"],[1,"mb-6"],[1,"text-heading-sm","text-neutral-black"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"div",3),e.TgZ(4,"div",4),e._uU(5,"V\xe9 m\xe1y bay"),e.qZA()(),e.YNc(6,we,114,34,"div",5),e.qZA()()),2&t&&(e.xp6(6),e.Q6J("ngIf",i.orderDetailData))},dependencies:[u.ez,u.sg,u.O5,u.RF,u.n9,u.ED,u.JJ,u.uU,m.N8,h.AxE,h.Sm8],encapsulation:2}),n})()},4688:(k,E,s)=>{s.d(E,{b:()=>T});var u=s(36895),c=s(94650),m=s(72506);function U(f,C){if(1&f){const g=c.EpF();c.TgZ(0,"cf-icon",3),c.NdJ("click",function(v){c.CHM(g);const O=c.oxw();return c.KtG(O.close(v))}),c.qZA()}}const h=["*"];let T=(()=>{class f{constructor(g,_,v){this.renderer=g,this.elementRef=_,this.mode="default",this.type="solid",this.size="medium",this.color="red",this.onClose=new c.vpe,v.registerIcons([m.UNF])}ngOnChanges(g){this.loadClasses()}ngOnInit(){this.loadClasses()}loadClasses(){this.classes="rounded inline-flex justify-center items-center gap-x-1 "+this.getSizeClass()+" "+this.getModeClass()}getSizeClass(){return"small"===this.size?"py-1 px-2 text-express-sm":"xsmall"===this.size?"py-[2px] px-1 text-express-sm":"py-1.5 px-3 text-express-md"}getModeClass(){return"outline"===this.type?`bg-white bordertext-${this.color}-4 border-${this.color}-4`:"inverted"===this.type?`bg-${this.color}-1 text-${this.color}-4`:"gray-2"===this.color?"text-neutral-gray-6 bg-neutral-gray-2":`text-neutral-white bg-${this.color}-4`}close(g){this.onClose.emit(g),g.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}}return f.\u0275fac=function(g){return new(g||f)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(m.KNP))},f.\u0275cmp=c.Xpm({type:f,selectors:[["cf-label"]],hostVars:2,hostBindings:function(g,_){2&g&&c.Tol(_.classes)},inputs:{mode:"mode",type:"type",size:"size",color:"color"},outputs:{onClose:"onClose"},standalone:!0,features:[c.TTD,c.jDz],ngContentSelectors:h,decls:4,vars:1,consts:[[1,"flex","justify-between","items-center","gap-x-2"],[1,"text-ellipsis","overflow-hidden","whitespace-normal","flex","items-center"],["icon","close","size","small","class","cursor-pointer",3,"click",4,"ngIf"],["icon","close","size","small",1,"cursor-pointer",3,"click"]],template:function(g,_){1&g&&(c.F$t(),c.TgZ(0,"div",0)(1,"div",1),c.Hsn(2),c.qZA(),c.YNc(3,U,1,0,"cf-icon",2),c.qZA()),2&g&&(c.xp6(3),c.Q6J("ngIf","closeable"===_.mode))},dependencies:[u.ez,u.O5,m.AxE,m.Sm8],encapsulation:2,changeDetection:0}),f})()}}]);