"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[5973],{95973:(B,I,l)=>{l.r(I),l.d(I,{IdentityProviderGoogleModalComponent:()=>x,IdentityProviderPageComponent:()=>Y,IdentityProviderZaloModalComponent:()=>G});var p=l(83700),h=l(36895),n=l(24006),u=l(37094),b=l(27898),f=l(72506),c=l(44143),e=l(94650),g=l(97579),A=l(88001),P=l(80529);const m={headers:new P.WM({"Content-Type":"application/json"})};let v=(()=>{class o{constructor(i,t){this.http=i,this.appConfig=t}getIdentityProviderZalo(){return this.http.get(this.appConfig.apiUrl+"b2c/identity-provider/zalo",m)}getIdentityProviderGoogle(){return this.http.get(this.appConfig.apiUrl+"b2c/identity-provider/google",m)}updateIdentityProviderZalo(i){return this.http.post(this.appConfig.apiUrl+"b2c/identity-provider/zalo",JSON.stringify(i),m)}updateIdentityProviderGoogle(i){return this.http.post(this.appConfig.apiUrl+"b2c/identity-provider/google",JSON.stringify(i),m)}}return o.\u0275fac=function(i){return new(i||o)(e.LFG(P.eN),e.LFG(A.qB))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var C=l(62331);function T(o,r){1&o&&e._UZ(0,"cf-input-hint",16),2&o&&e.Q6J("hint","App Id kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function k(o,r){1&o&&e._UZ(0,"cf-input-hint",16),2&o&&e.Q6J("hint","Secret Key kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}let G=(()=>{class o{constructor(i,t,d,a,y,Z,s,E,_){this.fb=t,this._modal=d,this._bottomSheetService=a,this._identityProviderService=y,this._toastService=Z,this.ref=s,this.bottomSheetData=E,this.bottomSheetRef=_,s&&(this.identityProviderZalo=s.data.identityProviderZalo)}ngOnInit(){this.initFormGroup()}initFormGroup(){this.formGroup=this.fb.group({appId:[this.identityProviderZalo.appId||"",[n.kI.required]],secretKey:["",[n.kI.required]],isEnabled:[this.identityProviderZalo.isEnabled||!1,[n.kI.required]]})}checkedChange(i){var t;null===(t=this.formGroup.get("isEnabled"))||void 0===t||t.setValue(i)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){const i=this.formGroup.value;this._identityProviderService.updateIdentityProviderZalo({isEnabled:i.isEnabled,appId:i.appId,secretKey:i.secretKey}).subscribe({next:d=>{console.log(d),this._toastService.add({severity:"success",summary:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",detail:"Th\xf4ng tin \u0111\u1ecbnh danh zalo \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt.",sticky:!1}),this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt th\xf4ng tin \u0111\u1ecbnh danh zalo. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0})}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(f.KNP),e.Y36(n.qu),e.Y36(g.oE),e.Y36(u.a2),e.Y36(v),e.Y36(C.BX),e.Y36(g.gb,8),e.Y36(u.Rr,8),e.Y36(u.Zu,8))},o.\u0275cmp=e.Xpm({type:o,selectors:[["identity-provider-zalo-modal"]],standalone:!0,features:[e.jDz],decls:27,vars:8,consts:[[1,"w-[640px]","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-gray-6"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","flex","flex-col","gap-y-4"],[1,"grow-[400]","w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","size","medium",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],[1,"w-full","flex","flex-col","gap-y-1.5"],[1,"text-express-sm"],["size","medium",1,"md:mt-[22px]","md:mb-5",3,"checked","checkChange"],[1,"p-6","flex","gap-x-4","justify-end","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:!w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:!w-full","justify-center","items-center",3,"disabled","click"],["icon","circle_check","size","small",1,"ml-2"],["cfHint","",3,"hint"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"C\u1eadp nh\u1eadt \u0111\u1ecbnh danh Zalo"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return t.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"cf-input-group",5)(7,"label",6),e._uU(8," App Id "),e.qZA(),e._UZ(9,"input",7),e.YNc(10,T,1,1,"cf-input-hint",8),e.qZA(),e.TgZ(11,"cf-input-group",5)(12,"label",6),e._uU(13," Secret Key "),e.qZA(),e._UZ(14,"input",7),e.YNc(15,k,1,1,"cf-input-hint",8),e.qZA(),e.TgZ(16,"div",9)(17,"div",10),e._uU(18,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(19,"cf-checkbox",11),e.NdJ("checkChange",function(a){return t.checkedChange(a)}),e._uU(20," K\xedch ho\u1ea1t "),e.qZA()()(),e.TgZ(21,"div",12)(22,"button",13),e.NdJ("click",function(){return t.close()}),e._uU(23," \u0110\xf3ng "),e.qZA(),e.TgZ(24,"button",14),e.NdJ("click",function(){return t.ok()}),e._uU(25," X\xe1c nh\u1eadn "),e._UZ(26,"cf-icon",15),e.qZA()()()),2&i&&(e.xp6(6),e.Q6J("status",t.formGroup.controls.appId.invalid&&(t.formGroup.controls.appId.dirty||t.formGroup.controls.appId.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.formGroup.controls.appId),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.appId.hasError("required")&&(t.formGroup.controls.appId.touched||t.formGroup.controls.appId.dirty)),e.xp6(1),e.Q6J("status",t.formGroup.controls.secretKey.invalid&&(t.formGroup.controls.secretKey.dirty||t.formGroup.controls.secretKey.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.formGroup.controls.secretKey),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.secretKey.hasError("required")&&(t.formGroup.controls.secretKey.touched||t.formGroup.controls.secretKey.dirty)),e.xp6(4),e.Q6J("checked",!!t.formGroup.controls.isEnabled.value),e.xp6(5),e.Q6J("disabled",t.formGroup.invalid))},dependencies:[h.ez,h.O5,f.AxE,f.Sm8,p.N8,p.Xq,n.UX,n.Fj,n.JJ,n.oH,n.u5,c.j$,c.ND,c.BN,c.v2,u.DW,b.u],encapsulation:2}),o})();function S(o,r){1&o&&e._UZ(0,"cf-input-hint",16),2&o&&e.Q6J("hint","Client Id kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function U(o,r){1&o&&e._UZ(0,"cf-input-hint",16),2&o&&e.Q6J("hint","Client Secret kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}let x=(()=>{class o{constructor(i,t,d,a,y,Z,s,E,_){this.fb=t,this._modal=d,this._bottomSheetService=a,this._identityProviderService=y,this._toastService=Z,this.ref=s,this.bottomSheetData=E,this.bottomSheetRef=_,s&&(this.identityProviderGoogle=s.data.identityProviderGoogle)}ngOnInit(){this.initFormGroup()}initFormGroup(){this.formGroup=this.fb.group({clientId:[this.identityProviderGoogle.clientId||"",[n.kI.required]],clientSecret:["",[n.kI.required]],isEnabled:[this.identityProviderGoogle.isEnabled||!1,[n.kI.required]]})}checkedChange(i){var t;null===(t=this.formGroup.get("isEnabled"))||void 0===t||t.setValue(i)}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){const i=this.formGroup.value;this._identityProviderService.updateIdentityProviderGoogle({isEnabled:i.isEnabled,clientId:i.clientId,clientSecret:i.clientSecret}).subscribe({next:d=>{console.log(d),this._toastService.add({severity:"success",summary:"C\u1eadp nh\u1eadt th\xe0nh c\xf4ng",detail:"Th\xf4ng tin \u0111\u1ecbnh danh google \u0111\xe3 \u0111\u01b0\u1ee3c c\u1eadp nh\u1eadt.",sticky:!1}),this.ref&&this.ref.close(!0),this.bottomSheetData&&this.bottomSheetRef.dismiss(!0)},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"Kh\xf4ng th\u1ec3 c\u1eadp nh\u1eadt th\xf4ng tin \u0111\u1ecbnh danh google  . Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0})}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(f.KNP),e.Y36(n.qu),e.Y36(g.oE),e.Y36(u.a2),e.Y36(v),e.Y36(C.BX),e.Y36(g.gb,8),e.Y36(u.Rr,8),e.Y36(u.Zu,8))},o.\u0275cmp=e.Xpm({type:o,selectors:[["identity-provider-google-modal"]],standalone:!0,features:[e.jDz],decls:27,vars:8,consts:[[1,"w-[640px]","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-gray-6"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","flex","flex-col","gap-y-4"],[1,"grow-[400]","w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["cf-input","","size","medium",3,"formControl"],["cfHint","",3,"hint",4,"ngIf"],[1,"w-full","flex","flex-col","gap-y-1.5"],[1,"text-express-sm"],["size","medium",1,"md:mt-[22px]","md:mb-5",3,"checked","checkChange"],[1,"p-6","flex","gap-x-4","justify-end","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:!w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:!w-full","justify-center","items-center",3,"disabled","click"],["icon","circle_check","size","small",1,"ml-2"],["cfHint","",3,"hint"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3,"C\u1eadp nh\u1eadt \u0111\u1ecbnh danh Google"),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return t.close()}),e.qZA()(),e.TgZ(5,"div",4)(6,"cf-input-group",5)(7,"label",6),e._uU(8," Client Id "),e.qZA(),e._UZ(9,"input",7),e.YNc(10,S,1,1,"cf-input-hint",8),e.qZA(),e.TgZ(11,"cf-input-group",5)(12,"label",6),e._uU(13," Client Secret "),e.qZA(),e._UZ(14,"input",7),e.YNc(15,U,1,1,"cf-input-hint",8),e.qZA(),e.TgZ(16,"div",9)(17,"div",10),e._uU(18,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(19,"cf-checkbox",11),e.NdJ("checkChange",function(a){return t.checkedChange(a)}),e._uU(20," K\xedch ho\u1ea1t "),e.qZA()()(),e.TgZ(21,"div",12)(22,"button",13),e.NdJ("click",function(){return t.close()}),e._uU(23," \u0110\xf3ng "),e.qZA(),e.TgZ(24,"button",14),e.NdJ("click",function(){return t.ok()}),e._uU(25," X\xe1c nh\u1eadn "),e._UZ(26,"cf-icon",15),e.qZA()()()),2&i&&(e.xp6(6),e.Q6J("status",t.formGroup.controls.clientId.invalid&&(t.formGroup.controls.clientId.dirty||t.formGroup.controls.clientId.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.formGroup.controls.clientId),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.clientId.hasError("required")&&(t.formGroup.controls.clientId.touched||t.formGroup.controls.clientId.dirty)),e.xp6(1),e.Q6J("status",t.formGroup.controls.clientSecret.invalid&&(t.formGroup.controls.clientSecret.dirty||t.formGroup.controls.clientSecret.touched)?"error":"default"),e.xp6(3),e.Q6J("formControl",t.formGroup.controls.clientSecret),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.clientSecret.hasError("required")&&(t.formGroup.controls.clientSecret.touched||t.formGroup.controls.clientSecret.dirty)),e.xp6(4),e.Q6J("checked",!!t.formGroup.controls.isEnabled.value),e.xp6(5),e.Q6J("disabled",t.formGroup.invalid))},dependencies:[h.ez,h.O5,f.AxE,f.Sm8,p.N8,p.Xq,n.UX,n.Fj,n.JJ,n.oH,n.u5,c.j$,c.ND,c.BN,c.v2,u.DW,b.u],encapsulation:2}),o})();function q(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"\u0110\xe3 k\xedch ho\u1ea1t"),e.qZA())}function J(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Ch\u01b0a k\xedch ho\u1ea1t"),e.qZA())}function D(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"\u0110\xe3 k\xedch ho\u1ea1t"),e.qZA())}function N(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1,"Ch\u01b0a k\xedch ho\u1ea1t"),e.qZA())}let Y=(()=>{class o{constructor(i,t){this._identityProviderService=i,this._modal=t,this.identityProviderZalo={appId:"",secretKey:"",isEnabled:!1},this.identityProviderGoogle={clientId:"",clientSecret:"",isEnabled:!1}}ngOnInit(){this.onGetIdentityProviderZalo(),this.onGetIdentityProviderGoogle()}onSelectAllChange(i){}onGetIdentityProviderZalo(){this._identityProviderService.getIdentityProviderZalo().subscribe(i=>{console.log(i),this.identityProviderZalo={appId:i.appId,secretKey:"******",isEnabled:i.isEnabled}})}onGetIdentityProviderGoogle(){this._identityProviderService.getIdentityProviderGoogle().subscribe(i=>{console.log(i),this.identityProviderGoogle={clientId:i.clientId,clientSecret:"******",isEnabled:i.isEnabled}})}onUpdateIdentityZalo(){this._modal.open(G,{identityProviderZalo:this.identityProviderZalo}).afterClosed$.subscribe({next:t=>{t.data&&this.onGetIdentityProviderZalo()}})}onUpdateIdentityGoogle(){this._modal.open(x,{identityProviderGoogle:this.identityProviderGoogle}).afterClosed$.subscribe({next:t=>{t.data&&this.onGetIdentityProviderGoogle()}})}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(v),e.Y36(g.oE))},o.\u0275cmp=e.Xpm({type:o,selectors:[["identity-provider-page"]],standalone:!0,features:[e.jDz],decls:63,vars:8,consts:[[1,"flex","justify-center","py-4","px-[30px]","md:p-4"],[1,"w-[1000px]","max-w-[1000px]","flex","flex-col","gap-y-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","gap-x-[20px]"],[1,"w-1","bg-secondary-7-4"],[1,"text-heading-md"],[1,"flex","flex-col","gap-y-6","p-6","bg-neutral-white"],[1,"flex","justify-between","items-start","gap-x-6"],[1,"flex","flex-col","gap-y-[1px]"],[1,"text-heading-sm","text-neutral-gray-6"],[1,"text-body-md-long","text-neutral-gray-4"],["cf-button","",1,"min-w-[100px]","justify-center",3,"click"],[1,"flex","flex-col","gap-4","bg-neutral-white","rounded"],[1,"grid","grid-cols-2","gap-x-4","gap-y-2"],[1,"w-full","flex","flex-col","gap-y-1.5"],[1,"text-express-sm"],[1,"w-full","h-10","py-2.5","px-3","text-body-md","text-neutral-gray-6","rounded","border","border-neutral-gray-3","bg-neutral-gray-1"],[4,"ngIf"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e._UZ(4,"div",4),e.TgZ(5,"div",5),e._uU(6,"\u0110\u1ecbnh danh nh\xe0 cung c\u1ea5p"),e.qZA()(),e.TgZ(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9),e._uU(11,"\u0110\u1ecbnh danh Zalo"),e.qZA(),e.TgZ(12,"div",10),e._uU(13," Nh\u1eefng domain n\u1eb1m trong danh s\xe1ch x\xe1c th\u1ef1c m\u1edbi c\xf3 th\u1ec3 s\u1eed d\u1ee5ng c\xe1c d\u1ecbch v\u1ee5 c\u1ee7a Gi\u1ea5c M\u01a1 Bay R\u1ebb "),e.qZA()(),e.TgZ(14,"div")(15,"button",11),e.NdJ("click",function(){return t.onUpdateIdentityZalo()}),e._uU(16," C\u1eadp nh\u1eadt "),e.qZA()()(),e.TgZ(17,"div",12)(18,"div",13)(19,"div",14)(20,"div",15),e._uU(21,"App ID"),e.qZA(),e.TgZ(22,"div",16),e._uU(23),e.qZA()(),e.TgZ(24,"div",14)(25,"div",15),e._uU(26,"Secret Key"),e.qZA(),e.TgZ(27,"div",16),e._uU(28),e.qZA()(),e.TgZ(29,"div",14)(30,"div",15),e._uU(31,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(32,"div",16),e.YNc(33,q,2,0,"span",17),e.YNc(34,J,2,0,"span",17),e.qZA()()()()(),e.TgZ(35,"div",6)(36,"div",7)(37,"div",8)(38,"div",9),e._uU(39,"\u0110\u1ecbnh danh Google"),e.qZA(),e.TgZ(40,"div",10),e._uU(41," Nh\u1eefng domain n\u1eb1m trong danh s\xe1ch x\xe1c th\u1ef1c m\u1edbi c\xf3 th\u1ec3 s\u1eed d\u1ee5ng c\xe1c d\u1ecbch v\u1ee5 c\u1ee7a Gi\u1ea5c M\u01a1 Bay R\u1ebb "),e.qZA()(),e.TgZ(42,"div")(43,"button",11),e.NdJ("click",function(){return t.onUpdateIdentityGoogle()}),e._uU(44," C\u1eadp nh\u1eadt "),e.qZA()()(),e.TgZ(45,"div",12)(46,"div",13)(47,"div",14)(48,"div",15),e._uU(49,"Client Id"),e.qZA(),e.TgZ(50,"div",16),e._uU(51),e.qZA()(),e.TgZ(52,"div",14)(53,"div",15),e._uU(54,"Client Secret"),e.qZA(),e.TgZ(55,"div",16),e._uU(56),e.qZA()(),e.TgZ(57,"div",14)(58,"div",15),e._uU(59,"Tr\u1ea1ng th\xe1i"),e.qZA(),e.TgZ(60,"div",16),e.YNc(61,D,2,0,"span",17),e.YNc(62,N,2,0,"span",17),e.qZA()()()()()()()()),2&i&&(e.xp6(23),e.hij(" ",t.identityProviderZalo.appId," "),e.xp6(5),e.hij(" ",t.identityProviderZalo.secretKey," "),e.xp6(5),e.Q6J("ngIf",t.identityProviderZalo.isEnabled),e.xp6(1),e.Q6J("ngIf",!t.identityProviderZalo.isEnabled),e.xp6(17),e.hij(" ",t.identityProviderGoogle.clientId," "),e.xp6(5),e.hij(" ",t.identityProviderGoogle.clientSecret," "),e.xp6(5),e.Q6J("ngIf",t.identityProviderGoogle.isEnabled),e.xp6(1),e.Q6J("ngIf",!t.identityProviderGoogle.isEnabled))},dependencies:[h.ez,h.O5,p.N8,p.Xq],encapsulation:2}),o})()}}]);