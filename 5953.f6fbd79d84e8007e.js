"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[5953],{85953:(ge,Et,v)=>{v.r(Et),v.d(Et,{BtcResultBookingComponent:()=>Ao,BtcResultDepositComponent:()=>Ze,BtcResultListComponent:()=>_d,BtcResultPaxComponent:()=>X_,BtcResultPaymentComponent:()=>i0,BtcResultSearchComponent:()=>n0});var m=v(36895),V=v(10908),j=v(83700),_=v(72506),Dt=v(12264),nt=v(76978),tt=v(80429),t=v(94650);let ht=(()=>{class i{transform(e){const n={Mon:"Th2",Tue:"Th3",Wed:"Th4",Thu:"Th5",Fri:"Th6",Sat:"Th7",Sun:"CN"};return(0,m.p6)(e,"EEE, dd/MM/yyyy","en-US").replace(/Mon|Tue|Wed|Thu|Fri|Sat|Sun/g,r=>n[r])}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"formatVietnameseDate",type:i,pure:!0,standalone:!0}),i})();var st=v(97579),rt=v(28490);function Wt(i,a){if(1&i&&(t.TgZ(0,"div",66),t._UZ(1,"cf-icon",67),t.TgZ(2,"span",68),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(3),t.lnq(" D\u1eebng t\u1ea1i: ",t.xi3(4,3,e.startPoint,n.getLocationData)," (",e.startPoint,"). Th\u1eddi gian d\u1eebng: ",e.delaySt," ")}}function gi(i,a){1&i&&t._UZ(0,"div",69)}function mi(i,a){if(1&i&&(t.TgZ(0,"span",70)(1,"span",71),t._uU(2),t.qZA(),t.TgZ(3,"span",72),t._uU(4),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij("",e.name,":\xa0"),t.xp6(2),t.Oqu(e.value)}}function fi(i,a){1&i&&(t.TgZ(0,"div",73),t._uU(1," Chi\u1ec1u \u0111i"),t.qZA())}function hi(i,a){1&i&&(t.TgZ(0,"div",73),t._uU(1," Chi\u1ec1u v\u1ec1"),t.qZA())}function vi(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).ngIf;t.xp6(1),t.hij("\xa0(",null==e.fareCur?null:e.fareCur.fareClass,")")}}function xi(i,a){if(1&i&&(t.TgZ(0,"span",61)(1,"span",74),t._uU(2),t.qZA(),t.YNc(3,vi,2,1,"span",8),t.qZA()),2&i){const e=t.oxw(2).ngIf;t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function yi(i,a){if(1&i&&(t.TgZ(0,"span",61),t._uU(1),t.qZA()),2&i){const e=t.oxw(3).ngIf;t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.fareCur?null:e.fareCur.fareClass,"")}}function Ci(i,a){if(1&i&&t.YNc(0,yi,2,1,"span",75),2&i){const e=t.oxw(2).ngIf;t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function Ti(i,a){1&i&&(t.TgZ(0,"div",21),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function bi(i,a){1&i&&(t.TgZ(0,"div",21),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function ki(i,a){if(1&i&&(t.TgZ(0,"div",60),t.YNc(1,Ti,2,0,"div",77),t.YNc(2,bi,2,0,"div",77),t.TgZ(3,"div",61),t._uU(4),t.qZA()()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function Ei(i,a){if(1&i&&(t.ynx(0),t.YNc(1,ki,5,3,"div",76),t.BQk()),2&i){const e=t.oxw(2).ngIf;t.xp6(1),t.Q6J("ngForOf",e.fareRuleClassesObj[e.IDF])}}function Di(i,a){1&i&&(t.TgZ(0,"div",60)(1,"div",21),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",61),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",60)(6,"div",21),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",61),t._uU(9,"N/A"),t.qZA()())}const me=function(){return[]};function Ai(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",11),t.YNc(2,Wt,5,6,"div",12),t.TgZ(3,"div",13)(4,"div",14),t.YNc(5,gi,1,0,"div",15),t.qZA(),t.TgZ(6,"div",16)(7,"div",17)(8,"div"),t._UZ(9,"img",18),t.qZA(),t.TgZ(10,"div",19)(11,"div",20),t._uU(12),t.qZA(),t.TgZ(13,"div",21),t._uU(14),t.qZA()(),t.TgZ(15,"div",22),t._uU(16),t.qZA()(),t.TgZ(17,"div",23)(18,"div",24)(19,"div",25)(20,"div",26),t._UZ(21,"cf-icon",27),t.TgZ(22,"div"),t._uU(23),t.ALo(24,"date"),t.qZA()(),t.TgZ(25,"div",28),t._UZ(26,"div",29)(27,"div",30)(28,"cf-icon",31),t.qZA()(),t.TgZ(29,"div",32),t._UZ(30,"cf-icon",33),t.TgZ(31,"div",34),t._uU(32),t.ALo(33,"formatVietnameseDate"),t.qZA()(),t.TgZ(34,"div",35),t._UZ(35,"cf-icon",36),t.TgZ(36,"div",37)(37,"span",38),t._uU(38),t.qZA(),t.TgZ(39,"span",39),t._uU(40),t.ALo(41,"mapper"),t.qZA()()()(),t.TgZ(42,"div")(43,"div",40),t._UZ(44,"cf-icon",27),t.TgZ(45,"div"),t._uU(46),t.ALo(47,"date"),t.qZA()(),t.TgZ(48,"div",32),t._UZ(49,"cf-icon",33),t.TgZ(50,"div",34),t._uU(51),t.ALo(52,"formatVietnameseDate"),t.qZA()(),t.TgZ(53,"div",35),t._UZ(54,"cf-icon",36),t.TgZ(55,"div",37)(56,"span",38),t._uU(57),t.qZA(),t.TgZ(58,"span",39),t._uU(59),t.ALo(60,"mapper"),t.qZA()()()()()(),t.TgZ(61,"div",41),t.YNc(62,mi,5,2,"span",42),t.ALo(63,"mapper"),t.qZA()()(),t.TgZ(64,"div",43)(65,"div",44)(66,"div",45)(67,"div",35),t._UZ(68,"img",46),t.TgZ(69,"div",47)(70,"div",48),t._uU(71),t.qZA(),t.TgZ(72,"div",49),t._uU(73),t.qZA()()(),t.YNc(74,fi,2,0,"div",50),t.YNc(75,hi,2,0,"div",50),t.qZA(),t.TgZ(76,"div",51)(77,"div",52)(78,"div",53)(79,"div",48),t._uU(80),t.ALo(81,"date"),t.qZA(),t.TgZ(82,"div",49),t._uU(83),t.ALo(84,"date"),t.qZA()(),t.TgZ(85,"div",53)(86,"div",48),t._uU(87),t.ALo(88,"date"),t.qZA(),t.TgZ(89,"div",49),t._uU(90),t.ALo(91,"date"),t.qZA()()(),t.TgZ(92,"div",54),t._UZ(93,"div",55)(94,"div",56)(95,"cf-icon",57),t.qZA(),t.TgZ(96,"div",52)(97,"div",47)(98,"div",48),t._uU(99),t.ALo(100,"mapper"),t.qZA()(),t.TgZ(101,"div",47)(102,"div",48),t._uU(103),t.ALo(104,"mapper"),t.qZA()()()()(),t.TgZ(105,"div",58)(106,"div",59)(107,"div",60)(108,"div",21),t._uU(109,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(110,"div",61),t._uU(111),t.qZA()(),t.TgZ(112,"div",60)(113,"div",21),t._uU(114,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(115,"div",61),t._uU(116),t.qZA()(),t.TgZ(117,"div",60)(118,"div",21),t._uU(119,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.YNc(120,xi,4,2,"span",62),t.YNc(121,Ci,1,1,"ng-template",null,63,t.W1O),t.qZA(),t.YNc(123,Ei,2,1,"ng-container",64),t.YNc(124,Di,10,0,"ng-template",null,65,t.W1O),t.qZA()()(),t.BQk()),2&i){const e=a.$implicit,n=t.MAs(122),o=t.MAs(125),r=t.oxw().ngIf,c=t.oxw(3);t.xp6(2),t.Q6J("ngIf",e.delaySt),t.xp6(3),t.Q6J("ngForOf",t.DdM(74,me).constructor(6)),t.xp6(4),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij("",e.operating," - "),t.xp6(2),t.hij("\xa0",e.operatingName,""),t.xp6(2),t.hij(" ",e.flightNumber," "),t.xp6(7),t.Oqu(t.xi3(24,35,e.startTime,"HH:mm")),t.xp6(9),t.hij(" ",t.lcZ(33,38,e.departure.localTime)," "),t.xp6(6),t.hij("",e.startPoint," - "),t.xp6(2),t.Oqu(t.xi3(41,40,e.startPoint,c.getLocationData)),t.xp6(6),t.hij(" ",t.xi3(47,43,e.endTime,"HH:mm")," "),t.xp6(5),t.hij("",t.lcZ(52,46,e.arrival.localTime)," "),t.xp6(6),t.hij("",e.endPoint," - "),t.xp6(2),t.Oqu(t.xi3(60,48,e.endPoint,c.getLocationData)),t.xp6(3),t.Q6J("ngForOf",t.gM2(63,51,e,c.formatRuleBySegment,c.ticketCur,c.index)),t.xp6(6),t.Q6J("src","assets/airline-logo/"+e.operating+".png",t.LSH),t.xp6(3),t.AsE("",e.airline,"",e.flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",0===c.index),t.xp6(1),t.Q6J("ngIf",1===c.index),t.xp6(5),t.Oqu(t.xi3(81,56,e.startTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(84,59,e.startTime,"dd/MM/yyy")),t.xp6(4),t.Oqu(t.xi3(88,62,e.endTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(91,65,e.endTime,"dd/MM/yyy")),t.xp6(9),t.AsE("",t.xi3(100,68,e.startPoint,c.getLocationData)," - ",e.startPoint," "),t.xp6(4),t.AsE("",t.xi3(104,71,e.endPoint,c.getLocationData)," - ",e.endPoint," "),t.xp6(8),t.Oqu(e.durationStrMobile),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(4),t.Q6J("ngIf",(null==r.fareCur?null:r.fareCur.cabinName)&&"null"!=(null==r.fareCur?null:r.fareCur.cabinName))("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",r.fareRuleClassesObj&&r.IDF)("ngIfElse",o)}}function Zi(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",9),t._UZ(2,"cf-icon",10),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"mapper"),t.ALo(6,"mapper"),t.qZA()(),t.YNc(7,Ai,126,75,"ng-container",5),t.qZA()),2&i){const e=a.ngIf,n=t.oxw(3);t.xp6(4),t.AsE("Chuy\u1ebfn bay: ",t.xi3(5,3,null==e||null==e.departure||null==e.departure.airport?null:e.departure.airport.code,n.getLocationData)," - ",t.xi3(6,6,null==e||null==e.arrival||null==e.arrival.airport?null:e.arrival.airport.code,n.getLocationData),""),t.xp6(3),t.Q6J("ngForOf",e.segments)}}function Bi(i,a){1&i&&(t.TgZ(0,"th",80),t._uU(1," Gi\u1ea3m gi\xe1 "),t.qZA())}function wi(i,a){if(1&i&&(t.TgZ(0,"td",92),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (",t.Dn7(2,1,t.lcZ(3,5,e.discountAmount),",","."),") ")}}function Ii(i,a){if(1&i&&(t.TgZ(0,"td",93),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",",".")," ")}}function Si(i,a){if(1&i&&(t.TgZ(0,"td",93),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",",".")," ")}}function Fi(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"td",88),t._uU(2),t.qZA(),t.TgZ(3,"td",88),t._uU(4),t.ALo(5,"number"),t.qZA(),t.TgZ(6,"td",88),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",88),t._uU(10),t.ALo(11,"number"),t.qZA(),t.YNc(12,wi,4,7,"td",89),t.ALo(13,"mapper"),t.YNc(14,Ii,4,7,"td",90),t.ALo(15,"mapper"),t.YNc(16,Si,4,7,"ng-template",null,91,t.W1O),t.qZA()),2&i){const e=a.$implicit,n=t.MAs(17),o=t.oxw(3).$implicit,r=t.oxw();t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(t.lcZ(5,7,e.quantity)),t.xp6(3),t.Oqu(t.lcZ(8,9,e.baseFare)),t.xp6(3),t.Oqu(t.lcZ(11,11,e.surCharge)),t.xp6(2),t.Q6J("ngIf",t.xi3(13,13,o.ticketPriceList,r.isDiscountAmount)),t.xp6(2),t.Q6J("ngIf",t.xi3(15,16,o.ticketPriceList,r.isDiscountAmount))("ngIfElse",n)}}function Ni(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",","."),"\u0111 ")}}function qi(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",","."),"\u0111")}}function Oi(i,a){if(1&i&&(t.TgZ(0,"div",98)(1,"div",96),t._uU(2,"Gi\u1ea3m gi\xe1"),t.qZA(),t.TgZ(3,"div",99),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.AsE(" ",t.Dn7(5,2,t.lcZ(6,6,e.discountAmount),",",".")," X ",e.quantity,"")}}function Pi(i,a){if(1&i&&(t.TgZ(0,"div",47)(1,"div",94)(2,"div",95),t._uU(3),t.qZA(),t.TgZ(4,"div",95),t.YNc(5,Ni,4,7,"span",64),t.ALo(6,"mapper"),t.YNc(7,qi,4,7,"ng-template",null,91,t.W1O),t.qZA()(),t.TgZ(9,"div",94)(10,"div",96),t._uU(11,"Gi\xe1 v\xe9 m\xe1y bay"),t.qZA(),t.TgZ(12,"div",96),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",94)(17,"div",96),t._uU(18,"Thu\u1ebf & ph\xed"),t.qZA(),t.TgZ(19,"div",96),t._uU(20),t.ALo(21,"replace"),t.ALo(22,"number"),t.qZA()(),t.YNc(23,Oi,7,8,"div",97),t.ALo(24,"mapper"),t.qZA()),2&i){const e=a.$implicit,n=t.MAs(8),o=t.oxw(3).$implicit,r=t.oxw();t.xp6(3),t.Oqu(e.type),t.xp6(2),t.Q6J("ngIf",t.xi3(6,8,o.ticketPriceList,r.isDiscountAmount))("ngIfElse",n),t.xp6(8),t.AsE("",t.Dn7(14,11,t.lcZ(15,15,e.baseFare),",","."),"\u0111 x ",e.quantity,""),t.xp6(7),t.AsE("",t.Dn7(21,17,t.lcZ(22,21,e.surCharge),",","."),"\u0111 x ",e.quantity,""),t.xp6(3),t.Q6J("ngIf",t.xi3(24,23,o.ticketPriceList,r.isDiscountAmount))}}function Mi(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",11)(2,"div",9),t._UZ(3,"cf-icon",10),t.TgZ(4,"span",3),t._uU(5,"Gi\xe1 v\xe9"),t.qZA()(),t.TgZ(6,"table",78)(7,"thead")(8,"tr",79)(9,"th",80),t._uU(10,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(11,"th",80),t._uU(12,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(13,"th",80),t._uU(14,"Gi\xe1 v\xe9"),t.qZA(),t.TgZ(15,"th",80),t._uU(16,"Thu\u1ebf ph\xed"),t.qZA(),t.YNc(17,Bi,2,0,"th",81),t.ALo(18,"mapper"),t.TgZ(19,"th",82),t._uU(20,"T\u1ed5ng chi ph\xed"),t.qZA()()(),t.TgZ(21,"tbody"),t.YNc(22,Fi,18,19,"tr",5),t.qZA()(),t.TgZ(23,"div",83)(24,"div",20),t._uU(25,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(26,"div",84),t._uU(27),t.ALo(28,"number"),t.ALo(29,"mapper"),t.qZA()()(),t.TgZ(30,"div",85)(31,"div",86),t.YNc(32,Pi,25,26,"div",87),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(17),t.Q6J("ngIf",t.xi3(18,4,e.ticketPriceList,n.isDiscountAmount)),t.xp6(5),t.Q6J("ngForOf",e.ticketPriceList||t.DdM(12,me)),t.xp6(5),t.hij(" ",t.lcZ(28,7,t.xi3(29,9,e.ticketPriceList,n.sumPriceTicket))," \u0111"),t.xp6(5),t.Q6J("ngForOf",e.ticketPriceList)}}function Ui(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.name,": ")}}function Ji(i,a){if(1&i&&(t.TgZ(0,"div",21),t.YNc(1,Ui,2,1,"span",8),t._UZ(2,"span",107),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.name),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function Li(i,a){if(1&i&&(t.TgZ(0,"div",103)(1,"div",104),t._uU(2),t.qZA(),t.TgZ(3,"div",105),t.YNc(4,Ji,3,2,"div",106),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij("",e.desc.vn,":"),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.items)}}function Ri(i,a){if(1&i&&(t.TgZ(0,"div",101),t.YNc(1,Li,5,2,"div",102),t.qZA()),2&i){const e=a.ngIf;t.xp6(1),t.Q6J("ngForOf",e.fareRulesObj[e.IDF])}}function ji(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Ri,2,1,"div",100),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.ticketCur.ticketSelected[e.index].ticketData)}}function Qi(i,a){1&i&&(t.TgZ(0,"div",20),t._uU(1," Li\xean h\u1ec7 booker \u0111\u1ec3 bi\u1ebft th\xf4ng tin ch\xednh x\xe1c"),t.qZA())}function Yi(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Qi,2,0,"div",108),t.BQk()),2&i){const e=a.ngIf;t.xp6(1),t.Q6J("ngIf",!e.fareRulesObj||!e.fareRulesObj[e.IDF])}}function Hi(i,a){if(1&i&&(t.TgZ(0,"div",7),t.YNc(1,Zi,8,9,"div",8),t.YNc(2,Mi,33,13,"ng-container",8),t.YNc(3,ji,2,1,"ng-container",8),t.YNc(4,Yi,2,1,"ng-container",8),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticketData),t.xp6(1),t.Q6J("ngIf",e.ticketPriceList),t.xp6(1),t.Q6J("ngIf",n.ticketCur.ticketSelected&&n.ticketCur.ticketSelected.length&&e.ticketData.fareRulesObj),t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function Vi(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Hi,5,4,"div",6),t.BQk()),2&i){const e=a.$implicit,n=a.index,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.index===n&&e.ticketData)}}let At=(()=>{class i{constructor(e,n,o,r,c,l,p){this.ref=e,this.cfIconRegister=n,this._cdr=o,this._locationDataSvc=r,this._bottomSheetService=c,this.bottomSheetData=l,this.bottomSheetRef=p,this.index=0,this.sumPriceTicket=d=>d.reduce((g,y)=>g+y.totalFare-y.discountAmount*y.quantity,0),this.isDiscountAmount=d=>d.find(g=>g.discountAmount),this.getLocationData=d=>this._locationDataSvc.getCityNameByCode(d),this.formatRuleBySegment=(d,g,y)=>{var x,C,f,E;const T=null===(C=null===(x=g.ticketSelected)||void 0===x?void 0:x.find((O,G)=>G===y))||void 0===C?void 0:C.ticketData,N=T.fareRuleClassesObj?null===(f=T.fareRuleClassesObj[T.IDF])||void 0===f?void 0:f.find(O=>"CHECKED_BAGGAGE"===O.cate):null,w=T.fareRuleClassesObj?null===(E=T.fareRuleClassesObj[T.IDF])||void 0===E?void 0:E.find(O=>"HAND_BAGGAGE"===O.cate):null;return[{name:"Th\u1eddi gian bay",value:d.durationStr},{name:"Lo\u1ea1i m\xe1y bay",value:d.modelAirplane},{name:"H\u1ea1ng ch\u1ed7",value:null!=T&&T.fareCur?T.fareCur.fareName+(T.fareCur.fareClass?`(${T.fareCur.fareClass})`:"N/A"):"N/A"},{name:"H\xe0nh l\xfd k\xfd g\u1eedi",value:N?N.value:"N/A"},{name:"H\xe0nh l\xfd x\xe1ch tay",value:w?w.value:"N/A"}]},n.registerIcons([_.UNF,_.Xlt,_.qDv,_.s5C,_.okA,_.B2I]),null!=e&&e.data&&(this.dataSearch=e.data.dataSearch,this.ticketCur=e.data.ticketCur,this.index=e.data.index),l&&(this.dataSearch=l.dataSearch,this.ticketCur=l.ticketCur,this.index=l.index),console.log(this.ticketCur.ticketSelected),console.log(this.dataSearch)}onClose(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(st.gb,8),t.Y36(_.KNP),t.Y36(t.sBO),t.Y36(rt._),t.Y36(V.a2),t.Y36(V.Rr,8),t.Y36(V.Zu,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-info-modal"]],standalone:!0,features:[t.jDz],decls:7,vars:1,consts:[[1,"w-[800px]","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:w-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],["class","flow-auto w-ful h-full overflow-auto py-4 px-6 flex flex-col gap-y-6",4,"ngIf"],[1,"flow-auto","w-ful","h-full","overflow-auto","py-4","px-6","flex","flex-col","gap-y-6"],[4,"ngIf"],[1,"mb-4","flex","items-center","gap-x-2"],["icon","circle_information","size","small",1,"cf-icon-small"],[1,"md:hidden"],["class","w-full bg-[#F0EAF4] rounded flex items-center  gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],[1,"flex","md:flex-col","justify-between","items-center","border","border-neutral-gray-2","rounded","shadow-cf-journey-booking-success","relative"],[1,"absolute","md:hidden","-translate-x-[18%]","top-0","h-full","flex","flex-col","justify-between","py-3.5"],["class","w-1.5 h-3 border border-l-0 bg-neutral-white border-neutral-gray-2 rounded-r-full",4,"ngFor","ngForOf"],[1,"px-6","pt-4","pb-6","flex","flex-1","md:flex-col","justify-between","gap-x-8","gap-y-4","md:items-start","md:px-0"],[1,"flex","flex-col","items-center","justify-center"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,""],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black","flex","gap-x-2","items-center"],["icon","clock","size","small"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","location","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3","flex","gap-x-2","items-center"],[1,"py-6","px-[18px]","max-w-[232px]","md:max-w-full","md:w-full","border-l","md:border-l-0","md:border-t","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],["class","flex flex-nowrap",4,"ngFor","ngForOf"],[1,"md:flex","border","border-neutral-gray-2","hidden","py-4","md:w-full","bg-white","flex-col","rounded-lg","gap-3"],[1,"flex","flex-1","gap-x-9","px-3","flex-col"],[1,"flex","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],["class","h-fit py-1 px-2 text-neutral-white text-espressive-sm bg-secondary-5-3 rounded ",4,"ngIf"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","pt-4","px-4"],[1,"w-full","border-t","pt-3","border-dashed","border-neutral-gray-2","flex","justify-between","gap-y-2","flex-col"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf","ngIfElse"],["noncabinTemplate",""],[4,"ngIf","ngIfElse"],["emptyFareRuleTpl",""],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"w-1.5","h-3","border","border-l-0","bg-neutral-white","border-neutral-gray-2","rounded-r-full"],[1,"flex","flex-nowrap"],[1,"whitespace-nowrap","text-body-sm"],[1,"text-espressive-sm","text-neutral-black"],[1,"h-fit","py-1","px-2","text-neutral-white","text-espressive-sm","bg-secondary-5-3","rounded"],[1,"capitalize"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],["class","text-body-sm",4,"ngIf"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-left text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-heading-md"],[1,"hidden","md:flex","flex-col","gap-y-4","border","border-neutral-gray-2","rounded-lg"],[1,"flex","flex-col","bg-neutral-white","rounded-lg","p-4","gap-y-2"],["class","flex flex-col gap-y-1",4,"ngFor","ngForOf"],[1,"text-body-md","text-neutral-black","py-3"],["class","text-body-md text-secondary-5-3 py-3",4,"ngIf"],["class","text-right text-body-md text-neutral-black py-3",4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-body-md","text-secondary-5-3","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","justify-between","items-center"],[1,"text-heading-xs","text-neutral-black"],[1,"text-body-sm","text-neutral-gray-4"],["class","flex justify-between items-center pb-3",4,"ngIf"],[1,"flex","justify-between","items-center","pb-3"],[1,"text-body-sm","text-secondary-5-3"],["class","flex flex-col gap-y-2",4,"ngIf"],[1,"flex","flex-col","gap-y-2"],["class","border border-neutral-gray-2 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-2","rounded-lg","p-4"],[1,"text-express-md","mb-2"],[1,"text-body-sm","flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngFor","ngForOf"],[3,"innerHTML"],["class","text-espressive-sm",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Th\xf4ng tin chuy\u1ebfn bay"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return n.onClose()}),t.qZA()(),t.YNc(6,Vi,2,1,"ng-container",5),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.ticketCur.ticketSelected))},dependencies:[m.ez,m.sg,m.O5,m.JJ,m.uU,_.AxE,_.Sm8,j.N8,ht,tt.q,V.DW,nt.AS],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();var A=v(24006),ct=v(44143),fe=v(67460),he=v(34541),it=v(80529),J=v(88001),X=v(50494),lt=v(63900),at=v(54004),s=v(97582),u=v(87067);let Gi=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})();var _t=v(49557);const ve={headers:new it.WM({"Content-Type":"application/json"})};let xe=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaService=o}bookingPayment(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/booking-payment",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:n})),ve)),(0,at.U)(n=>(0,X.yE)(Gi,n,{excludeExtraneousValues:!0})))}createRefundPaymentOrder(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/create-refund-payment-order",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:n})),ve)))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Rt=v(62331);function Ki(i,a){if(1&i&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.dataBooking.orderId," ")}}function $i(i,a){if(1&i&&(t.TgZ(0,"div",27)(1,"div",10),t._uU(2," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.YNc(3,Ki,2,1,"div",11),t.qZA()),2&i){const e=t.oxw(),n=t.MAs(50);t.xp6(3),t.Q6J("ngIf",e.dataBooking)("ngIfElse",n)}}function zi(i,a){if(1&i&&(t.TgZ(0,"div",28),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.dataBooking.totalPrice),",",".")," \u0111 ")}}function Wi(i,a){if(1&i&&(t.TgZ(0,"div",31),t._UZ(1,"cf-icon",32),t.TgZ(2,"span",33),t._uU(3),t.qZA()()),2&i){const e=a.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function Xi(i,a){if(1&i&&(t.TgZ(0,"div",29),t.YNc(1,Wi,4,3,"div",30),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.configStatus[e.dataBooking.state])}}function tn(i,a){1&i&&t._UZ(0,"cf-input-hint",34),2&i&&t.Q6J("hint","Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function en(i,a){1&i&&t._UZ(0,"cf-input-hint",34),2&i&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1")}function nn(i,a){1&i&&t._UZ(0,"cf-input-hint",34),2&i&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1")}function on(i,a){1&i&&t._UZ(0,"cf-input-hint",34),2&i&&t.Q6J("hint","H\u1ecd v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function an(i,a){1&i&&t._UZ(0,"cf-input-hint",34),2&i&&t.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function rn(i,a){1&i&&t._UZ(0,"cf-input-hint",34),2&i&&t.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function cn(i,a){1&i&&t._UZ(0,"div",35)}function ln(i,a){1&i&&t._UZ(0,"cf-spinner")}let ye=(()=>{class i{onEnterKey(e){e.preventDefault(),this.ok()}constructor(e,n,o,r,c,l){this.cfIconRegister=e,this.bottomSheetData=n,this.bottomSheetRef=o,this.ref=r,this.btcBookingPaymentSvc=c,this._toastService=l,this.form=(0,t.f3M)(A.qu).nonNullable.group({phoneNumber:["",[A.kI.required,A.kI.minLength(7),A.kI.maxLength(11)]],email:["",[A.kI.required,A.kI.email]],name:["",A.kI.required]}),this.isLoading=!1,this.configStatus=Dt.cT,this.cfIconRegister.registerIcons([_.gW0,_.qDv,_.o1t,_.P5K,_.PcQ,_.PcQ,_.Gey,_.B2I,_.UNF,_.glu,_.rks,_.S7Q]),r&&(this.dataBooking=r.data.dataBooking),n&&(this.dataBooking=n.dataBooking)}onClose(){this.ref&&this.ref.close(),this.bottomSheetData&&this.bottomSheetRef.dismiss()}ok(){if(this.form.markAllAsTouched(),this.form.invalid)return;this.isLoading=!0;const e=Object.assign(Object.assign({},this.form.value),this.dataBooking);this.btcBookingPaymentSvc.createRefundPaymentOrder(e).subscribe({next:n=>{this.onClose(),this._toastService.add({severity:"success",summary:"T\u1ea1o y\xeau c\u1ea7u ho\xe0n ti\u1ec1n th\xe0nh c\xf4ng",detail:"\u0110\xe3 t\u1ea1o y\xeau c\u1ea7u ho\xe0n ti\u1ec1n th\xe0nh c\xf4ng!",sticky:!1})},error:n=>{this._toastService.add({severity:"error",summary:"T\u1ea1o y\xeau c\u1ea7u ho\xe0n ti\u1ec1n th\u1ea5t b\u1ea1i",detail:"\u0110\xe3 c\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i sau!",sticky:!1}),console.error(n)},complete:()=>{this.isLoading=!1}})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(V.Rr,8),t.Y36(V.Zu,8),t.Y36(st.gb,8),t.Y36(xe),t.Y36(Rt.BX))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-booking-refund"]],hostBindings:function(e,n){1&e&&t.NdJ("keydown.enter",function(r){return n.onEnterKey(r)})},standalone:!0,features:[t.jDz],decls:52,vars:22,consts:[[1,"w-[800px]","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:w-full",3,"formGroup"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"bg-white","shadow-lg","flex-1","rounded","py-4","px-6","md:px-3","md:py-3","flex","flex-col","gap-4"],[1,"text-body-md-long"],[1,"flex","md:bg-white"],["class","flex flex-col justify-between pr-[30px] md:pr-2 border-r border-dashed border-neutral-gray-3",4,"ngIf"],[1,"flex","flex-col","justify-between","pr-[30px]","md:px-2","border-r","border-dashed","border-neutral-gray-3",3,"ngClass"],[1,"text-body-md","md:text-body-xs","text-neutral-gray-4"],["class","font-semibold text-heading-lg md:text-heading-md",4,"ngIf","ngIfElse"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]","md:pl-2"],["class","font-semibold text-heading-lg md:text-body-sm",4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-3","w-full"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cf-input","","size","medium","autocomplete","off","formControlName","phoneNumber","placeholder","Nh\u1eadp s\u1ed1 \u0111i\u1ec7n tho\u1ea1i"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","formControlName","name","placeholder","Nh\u1eadp h\u1ecd v\xe0 t\xean"],["cf-input","","size","medium","autocomplete","off","formControlName","email","placeholder","Nh\u1eadp email"],[1,"flex-1","flex","gap-x-4","justify-end","md:justify-between","items-end"],["cf-button","","size","medium","type","secondary",1,"min-w-[100px]","md:w-full","justify-center",3,"click"],["cf-button","","size","medium","color","primary-1",1,"min-w-[100px]","md:w-full","justify-center",3,"disabled","click"],["emptyTabComboItemTpl",""],[4,"ngIf"],[1,"flex","flex-col","justify-between","pr-[30px]","md:pr-2","border-r","border-dashed","border-neutral-gray-3"],[1,"font-semibold","text-heading-lg","md:text-heading-md"],[1,"font-semibold","text-heading-lg","md:text-body-sm"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"md:hidden","text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],["cfHint","",3,"hint"],[1,"w-28","md:w-20","bg-neutral-gray-2","h-8","mt-1","rounded-md","animate-pulse"]],template:function(e,n){if(1&e&&(t.TgZ(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Y\xeau c\u1ea7u ho\xe0n ti\u1ec1n"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return n.onClose()}),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8," B\u1ea1n \u0111ang g\u1eedi y\xeau c\u1ea7u ho\xe0n ti\u1ec1n cho \u0111\u01a1n h\xe0ng "),t.TgZ(9,"b"),t._uU(10),t.qZA(),t._uU(11," do l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh \u0111\u1eb7t v\xe9. Ch\xfang t\xf4i s\u1ebd li\xean h\u1ec7 x\xe1c minh th\xf4ng tin v\xe0 ho\xe0n ti\u1ec1n ngay khi nh\u1eadn \u0111\u01b0\u1ee3c y\xeau c\u1ea7u "),t.qZA(),t.TgZ(12,"div",7),t.YNc(13,$i,4,2,"div",8),t.TgZ(14,"div",9)(15,"div",10),t._uU(16," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.YNc(17,zi,4,7,"div",11),t.qZA(),t.TgZ(18,"div",12)(19,"div",10),t._uU(20," Tr\u1ea1ng th\xe1i "),t.qZA(),t.YNc(21,Xi,2,1,"div",13),t.qZA()(),t.TgZ(22,"div",14)(23,"cf-input-group",15)(24,"label",16)(25,"span",17),t._uU(26,"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"),t.qZA()(),t._UZ(27,"input",18),t.YNc(28,tn,1,1,"cf-input-hint",19),t.YNc(29,en,1,1,"cf-input-hint",19),t.YNc(30,nn,1,1,"cf-input-hint",19),t.qZA(),t.TgZ(31,"cf-input-group",15)(32,"label",16)(33,"span",17),t._uU(34,"H\u1ecd v\xe0 t\xean"),t.qZA()(),t.YNc(35,on,1,1,"cf-input-hint",19),t._UZ(36,"input",20),t.qZA(),t.TgZ(37,"cf-input-group",15)(38,"label",16)(39,"span",17),t._uU(40,"Email"),t.qZA()(),t._UZ(41,"input",21),t.YNc(42,an,1,1,"cf-input-hint",19),t.YNc(43,rn,1,1,"cf-input-hint",19),t.qZA()(),t.TgZ(44,"div",22)(45,"button",23),t.NdJ("click",function(){return n.onClose()}),t._uU(46," Hu\u1ef7 "),t.qZA(),t.TgZ(47,"button",24),t.NdJ("click",function(){return n.ok()}),t._uU(48," G\u1eedi y\xeau c\u1ea7u "),t.qZA()()()()(),t.YNc(49,cn,1,0,"ng-template",null,25,t.W1O),t.YNc(51,ln,1,0,"cf-spinner",26)),2&e){const o=t.MAs(50);let r,c;t.Q6J("formGroup",n.form),t.xp6(10),t.hij(" ",n.dataBooking.orderId,""),t.xp6(3),t.Q6J("ngIf","PAYMENT_PROCESSING"!==(null==n.dataBooking?null:n.dataBooking.state)),t.xp6(1),t.Q6J("ngClass","PAYMENT_PROCESSING"!==(null==n.dataBooking?null:n.dataBooking.state)?"pl-[30px]":"pl-0"),t.xp6(3),t.Q6J("ngIf",n.dataBooking)("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",n.dataBooking&&(null==n.dataBooking?null:n.dataBooking.state))("ngIfElse",o),t.xp6(2),t.Q6J("status",n.form.controls.phoneNumber.invalid&&(n.form.controls.phoneNumber.dirty||n.form.controls.phoneNumber.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",n.form.controls.phoneNumber.hasError("required")&&(n.form.controls.phoneNumber.touched||n.form.controls.phoneNumber.dirty)),t.xp6(1),t.Q6J("ngIf",n.form.controls.phoneNumber.hasError("minlength")&&(n.form.controls.phoneNumber.touched||n.form.controls.phoneNumber.dirty)),t.xp6(1),t.Q6J("ngIf",n.form.controls.phoneNumber.hasError("maxlength")&&(n.form.controls.phoneNumber.touched||n.form.controls.phoneNumber.dirty)),t.xp6(1),t.Q6J("status",n.form.controls.name.invalid&&(n.form.controls.name.dirty||n.form.controls.name.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",n.form.controls.name.hasError("required")&&(n.form.controls.name.touched||n.form.controls.name.dirty)),t.xp6(2),t.Q6J("status",n.form.controls.email.invalid&&(n.form.controls.email.dirty||n.form.controls.email.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(r=n.form.get("email"))?null:r.hasError("required"))&&((null==(r=n.form.get("email"))?null:r.touched)||(null==(r=n.form.get("email"))?null:r.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(c=n.form.get("email"))?null:c.hasError("email"))&&((null==(c=n.form.get("email"))?null:c.touched)||(null==(c=n.form.get("email"))?null:c.dirty))),t.xp6(4),t.Q6J("disabled",!n.form.dirty),t.xp6(4),t.Q6J("ngIf",n.isLoading)}},dependencies:[m.ez,m.mk,m.O5,m.JJ,_.AxE,_.Sm8,j.N8,j.Xq,nt.AS,V.DW,A.UX,A._Y,A.Fj,A.JJ,A.JL,A.sg,A.u,ct.j$,ct.ND,ct.BN,ct.v2,fe.OR,he.C],encapsulation:2}),i})();var Zt=v(87683),Nt=v(31380);function sn(i,a){if(1&i&&(t.TgZ(0,"div",11),t._uU(1),t.ALo(2,"formatVietnameseDate"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.departDate),"")}}function un(i,a){if(1&i&&(t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t._uU(3),t.qZA()(),t.TgZ(4,"div",8),t.YNc(5,sn,3,3,"div",9),t.TgZ(6,"div",10),t._uU(7),t.ALo(8,"mapper"),t.ALo(9,"mapper"),t.qZA()()()),2&i){const e=t.oxw(),n=e.index,o=e.$implicit,r=t.oxw();t.xp6(1),t.ekj("!text-primary-2-4",r.ticketCur.idxTicketSelected===n)("!bg-primary-2-1",r.ticketCur.idxTicketSelected===n),t.xp6(2),t.hij(" ",n+1," "),t.xp6(2),t.Q6J("ngIf",o.departDate),t.xp6(2),t.AsE("",t.xi3(8,8,o.startPoint,r.convertCodeToCity)," - ",t.xi3(9,11,o.endPoint,r.convertCodeToCity),"")}}function pn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4).index,r=t.oxw();return t.KtG(r.onShowTicketDetail(o))}),t._uU(1," Chi ti\u1ebft "),t.qZA()}}function dn(i,a){1&i&&(t.TgZ(0,"div",24),t._uU(1,"Bay th\u1eb3ng "),t.qZA())}function _n(i,a){if(1&i&&(t.TgZ(0,"div",24),t._uU(1),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function gn(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",16),t._UZ(2,"img",17),t.TgZ(3,"div",18)(4,"div",10),t._uU(5),t.qZA(),t.TgZ(6,"div",19),t._uU(7),t.qZA()(),t.YNc(8,pn,2,0,"div",20),t.qZA(),t.TgZ(9,"div",21)(10,"div",22)(11,"div",23),t._uU(12),t.ALo(13,"date"),t.qZA(),t.TgZ(14,"div",24),t._uU(15),t.qZA()(),t.TgZ(16,"div",25)(17,"div",24),t._uU(18),t.qZA(),t.TgZ(19,"div",26),t._UZ(20,"div",27)(21,"div",28),t.qZA(),t.YNc(22,dn,2,0,"div",29),t.YNc(23,_n,2,1,"div",29),t.qZA(),t._UZ(24,"cf-icon",30),t.TgZ(25,"div",22)(26,"div",23),t._uU(27),t.ALo(28,"date"),t.qZA(),t.TgZ(29,"div",24),t._uU(30),t.qZA()()(),t.BQk()),2&i){const e=a.ngIf,n=t.oxw(4);t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.AsE("",e.segments[0].airline," ",e.segments[0].flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",n.hiddenBtn),t.xp6(4),t.hij("",t.xi3(13,12,e.departure.localTime,"HH:mm")," "),t.xp6(3),t.Oqu(e.departure.airport.code),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(4),t.Oqu(t.xi3(28,15,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.arrival.airport.code)}}function mn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",32)(1,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,r=t.oxw();return t.KtG(r.reselectTicket(o))}),t._UZ(2,"cf-icon",34),t._uU(3," Ch\u1ecdn l\u1ea1i "),t.qZA(),t.TgZ(4,"button",33),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3).index,r=t.oxw();return t.KtG(r.onShowTicketDetail(o))}),t._UZ(5,"cf-icon",35),t._uU(6," Chi ti\u1ebft "),t.qZA()()}}function fn(i,a){if(1&i&&(t.TgZ(0,"div",13)(1,"div",14),t.YNc(2,gn,31,18,"ng-container",4),t.qZA(),t.YNc(3,mn,7,0,"div",15),t.qZA()),2&i){const e=t.oxw(2).index,n=t.oxw();t.xp6(2),t.Q6J("ngIf",n.ticketCur.ticketSelected[e].ticketData),t.xp6(1),t.Q6J("ngIf",!n.hiddenBtn)}}function hn(i,a){if(1&i&&(t.ynx(0),t.YNc(1,fn,4,2,"div",12),t.BQk()),2&i){const e=t.oxw().index,n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.ticketCur.ticketSelected[e]&&n.ticketCur.ticketSelected[e].ticketData)}}function vn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"cf-collapse-panel",2),t.NdJ("collapsePanelClick",function(){const r=t.CHM(e).index,c=t.oxw();return t.KtG(c.onCollapsePanelClick(r))}),t.YNc(1,un,10,14,"ng-template",null,3,t.W1O),t.YNc(3,hn,2,1,"ng-container",4),t.qZA()}if(2&i){const e=a.index,n=t.MAs(2),o=t.oxw();t.Q6J("title",n)("active",!!o.collapseByTicketCur&&o.collapseByTicketCur[e])("contentClass","!p-0 "),t.xp6(3),t.Q6J("ngIf",o.ticketCur)}}let jt=(()=>{class i{constructor(e,n,o){this.cfIconRegister=e,this.locationDataSvc=n,this._helper=o,this.hiddenBtn=!1,this.reselectClick=new t.vpe,this.showDetail=new t.vpe,this.convertCodeToCity=r=>this.locationDataSvc.getCityNameByCode(r),e.registerIcons([_.$S,_.okA,_.D7])}ngOnChanges(e){e.ticketCur&&e.ticketCur.currentValue&&(this.collapseByTicketCur=this.ticketCur.ticketSelected.map(n=>!!n.ticketData))}onShowTicketDetail(e){this.showDetail.emit(e)}onCollapsePanelClick(e){this.collapseByTicketCur[e]=!this.collapseByTicketCur[e]}reselectTicket(e){this.reselectClick.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(rt._),t.Y36(Nt.J))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-sticky-selected"]],inputs:{searchInput:"searchInput",ticketCur:"ticketCur",hiddenBtn:"hiddenBtn"},outputs:{reselectClick:"reselectClick",showDetail:"showDetail"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:1,consts:[[1,"w-full"],["class","  p-0  md:z-0 md:!shadow-none group relative overflow-hidden bg-transparent [&>*>*>*:nth-child(2)]:z-10 [&>*]:bg-transparent !border-0",3,"title","active","contentClass","collapsePanelClick",4,"ngFor","ngForOf"],[1,"p-0","md:z-0","md:!shadow-none","group","relative","overflow-hidden","bg-transparent","[&>*>*>*:nth-child(2)]:z-10","[&>*]:bg-transparent","!border-0",3,"title","active","contentClass","collapsePanelClick"],["titleTemplate",""],[4,"ngIf"],[1,"flex","gap-x-4","items-center"],[1,"flex","justify-center","items-center","min-w-10","!w-10","!h-10","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-md","select-none"],[1,"z-10"],[1,"flex","flex-col","z-20"],["class","text-body-md text-neutral-black",4,"ngIf"],[1,"text-heading-xs","text-neutral-black"],[1,"text-body-md","text-neutral-black"],["class","flex flex-col gap-3  m-4 z-20",4,"ngIf"],[1,"flex","flex-col","gap-3","m-4","z-20"],[1,"flex","flex-col","gap-y-4","p-4","border","border-neutral-gray-2","rounded","z-20"],["class","flex w-full justify-between items-center gap-4",4,"ngIf"],[1,"flex","justify-between","items-center","gap-x-4"],[1,"w-10","h-10","object-contain",3,"src"],[1,"flex","flex-col","items-start","grow"],[1,"text-body-sm","text-neutral-gray-4"],["class","text-espressive-md text-secondary-3-4 font-medium cursor-pointer",3,"click",4,"ngIf"],[1,"flex","justify-between","items-center","pr-2.5"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","grow"],[1,"flex","items-center","w-full","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["class","text-espressive-sm text-neutral-gray-4",4,"ngIf"],["icon","plane","size","small",1,"text-[#ccc]","mr-2"],[1,"text-espressive-md","text-secondary-3-4","font-medium","cursor-pointer",3,"click"],[1,"flex","w-full","justify-between","items-center","gap-4"],["cf-button","","size","small","type","secondary",1,"w-full","flex","justify-center","flex-1",3,"click"],["icon","refresh","size","small",1,"mr-2.5"],["icon","document","size","small",1,"mr-2.5"]],template:function(e,n){1&e&&(t.TgZ(0,"cf-collapse",0),t.YNc(1,vn,4,4,"cf-collapse-panel",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.searchInput.journey))},dependencies:[m.ez,m.sg,m.O5,m.uU,Zt.K,Zt.B,_.AxE,_.Sm8,tt.q,ht,j.N8,j.Xq],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})(),Ce=(()=>{class i{transform(e,n=4,o=16){if(!e||e.length<n)return e;const r=e.slice(0,n),c="*".repeat(e.length-n);return e.length>o?`${r}${c.slice(-o)}`:`${r}${c}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"maskData",type:i,pure:!0,standalone:!0}),i})(),Te=(()=>{class i{transform(e){if(!e||!e.includes("@"))return e;const[n,o]=e.split("@");return n.length<=4?e:`${n.slice(0,4)}${"*".repeat(n.length-4)}@${o}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"mailMask",type:i,pure:!0,standalone:!0}),i})();function xn(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",4)(2,"div",5),t._uU(3," MST "),t.qZA(),t.TgZ(4,"div",7),t._uU(5),t.ALo(6,"maskData"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5),t._uU(9," T\xean c\xf4ng ty "),t.qZA(),t.TgZ(10,"div",7),t._uU(11),t.ALo(12,"maskData"),t.qZA()(),t.TgZ(13,"div",4)(14,"div",5),t._uU(15," \u0110\u1ecba ch\u1ec9 "),t.qZA(),t.TgZ(16,"div",7),t._uU(17),t.ALo(18,"maskData"),t.qZA()(),t.BQk()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ",t.lcZ(6,3,e.invoiceInfo.taxNumber)," "),t.xp6(6),t.hij(" ",t.lcZ(12,5,e.invoiceInfo.companyName)," "),t.xp6(6),t.hij(" ",t.lcZ(18,7,e.invoiceInfo.companyAddress)," ")}}let yn=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-sticky-booking"]],inputs:{bookingContact:"bookingContact",bookingPassengers:"bookingPassengers",amountDiscount:"amountDiscount",invoiceInfo:"invoiceInfo"},standalone:!0,features:[t.jDz],decls:18,vars:7,consts:[[1,"flex","flex-col","gap-3"],[1,"flex","flex-col","bg-white","rounded-lg","shadow-lg"],[1,"border-b","border-neutral-gray-1","rounded-t-lg","py-3","px-4","text-neutral-gray-6","font-medium","text-body-sm"],[1,"p-4","flex","flex-col","gap-4"],[1,"flex","gap-4","items-center","text-heading-xs"],[1,"min-w-[82px]","text-neutral-gray-5"],[1,"font-medium","text-neutral-gray-6"],[1,"font-medium","text-neutral-gray-6","text-wrap","break-all"],[4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3," Th\xf4ng tin li\xean h\u1ec7 "),t.qZA(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5),t._uU(7," S\u1ed1 \u0111i\u1ec7n tho\u1ea1i "),t.qZA(),t.TgZ(8,"div",6),t._uU(9),t.ALo(10,"maskData"),t.qZA()(),t.TgZ(11,"div",4)(12,"div",5),t._uU(13," Email "),t.qZA(),t.TgZ(14,"div",7),t._uU(15),t.ALo(16,"mailMask"),t.qZA()(),t.YNc(17,xn,19,9,"ng-container",8),t.qZA()()()),2&e&&(t.xp6(9),t.hij(" ",t.lcZ(10,3,n.bookingContact.phone)," "),t.xp6(6),t.hij(" ",t.lcZ(16,5,n.bookingContact.email)," "),t.xp6(2),t.Q6J("ngIf",n.invoiceInfo&&(null==n.invoiceInfo?null:n.invoiceInfo.companyName)&&(null==n.invoiceInfo?null:n.invoiceInfo.companyAddress)&&(null==n.invoiceInfo?null:n.invoiceInfo.taxNumber)))},dependencies:[m.ez,m.O5,Ce,Te],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();var $=v(64070),Xt=v(41047),te=v(47911),ee=v(6158),Q=v(47910),Cn=v(39841),Tn=v(8440),bn=v(23674),kn=v(29604),ie=v(94327),ne=v(74710),q=v(15439),be=v(3259),En=v.t(be,2),oe=v(82805),ae=v(22529),Dn=v(88996),ke=v(64425);let An=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})();const Zn={headers:new it.WM({"Content-Type":"application/json"})};let Ee=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaService=o}bookingTopupSession(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"payment/create-topup-session",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:n})),Zn)),(0,at.U)(n=>(0,X.yE)(An,n,{excludeExtraneousValues:!0})))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Bn=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})();const De={headers:new it.WM({"Content-Type":"application/json"})};let Ae=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaSvc=o}getOrderById(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-order-detail",JSON.stringify({orderId:e,recaptcha:n}),De)),(0,at.U)(n=>(0,X.yE)(Bn,n,{excludeExtraneousValues:!0})))}postPayment(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"payment/test-topup",JSON.stringify({orderId:e}),De)))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var vt=v(82761),yt=v(9381);const wn=["htmlContent"];function In(i,a){1&i&&(t.O4$(),t.TgZ(0,"svg",23),t._UZ(1,"path",24),t.qZA())}function Sn(i,a){if(1&i&&t._UZ(0,"img",25),2&i){const e=t.oxw(2);t.Q6J("src",e.qrcodeSrc,t.LSH)}}function Fn(i,a){if(1&i&&(t.TgZ(0,"div",26),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.depositData.amount?t.lcZ(2,1,e.depositData.amount)+" \u0111":"--","")}}function Nn(i,a){if(1&i&&(t.TgZ(0,"div")(1,"span",27),t._uU(2,"H\u1ebft h\u1ea1n sau: "),t.qZA(),t.TgZ(3,"span",28),t._uU(4),t.ALo(5,"formatTime"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Oqu(t.lcZ(5,1,e.countdown))}}function qn(i,a){1&i&&(t.TgZ(0,"div",29),t._uU(1," M\xe3 QR h\u1ebft h\u1ea1n "),t.qZA())}function On(i,a){if(1&i&&(t.TgZ(0,"div",29),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.objectError.errorMessage," ")}}function Pn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",10)(1,"div",11)(2,"div",12),t.YNc(3,In,2,0,"svg",13),t.YNc(4,Sn,1,1,"img",14),t.qZA(),t.TgZ(5,"div",15),t.YNc(6,Fn,3,3,"div",16),t.YNc(7,Nn,6,3,"div",17),t.YNc(8,qn,2,0,"div",18),t.YNc(9,On,2,1,"div",18),t.qZA()(),t.TgZ(10,"div",19)(11,"button",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(),r=t.MAs(14);return t.KtG(o.exportJPEG(r))}),t._UZ(12,"cf-icon",21),t.TgZ(13,"span"),t._uU(14,"T\u1ea3i m\xe3 QR"),t.qZA()()(),t.TgZ(15,"div",22)(16,"p"),t._uU(17,"1. M\u1edf \u1ee9ng d\u1ee5ng ng\xe2n h\xe0ng tr\xean \u0111i\u1ec7n tho\u1ea1i"),t.qZA(),t.TgZ(18,"p"),t._uU(19,"2. Tr\xean \u1ee9ng d\u1ee5ng ch\u1ecdn t\xednh n\u0103ng "),t.TgZ(20,"strong"),t._uU(21,"Qu\xe9t m\xe3 QR"),t.qZA()(),t.TgZ(22,"p"),t._uU(23,"3. Qu\xe9t m\xe3 QR t\u1eeb trang n\xe0y v\xe0 thanh to\xe1n"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.qrcodeSrc),t.xp6(1),t.Q6J("ngIf",e.qrcodeSrc),t.xp6(2),t.Q6J("ngIf",e.qrcodeSrc),t.xp6(1),t.Q6J("ngIf",e.qrcodeSrc&&!e.isExpired),t.xp6(1),t.Q6J("ngIf",e.isExpired),t.xp6(1),t.Q6J("ngIf",e.objectError.error),t.xp6(2),t.Q6J("disabled",!e.qrcodeSrc||e.isLoading)}}function Mn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onPaymentTopup())}),t.TgZ(1,"span"),t._uU(2,"\u0110\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()()}}function Un(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",30)(1,"div",31)(2,"div",32)(3,"div",33),t._uU(4),t.qZA(),t.TgZ(5,"div",34),t._uU(6),t.qZA()(),t.TgZ(7,"div",35)(8,"div",32)(9,"div",33),t._uU(10,"S\u1ed1 t\xe0i kho\u1ea3n"),t.qZA(),t.TgZ(11,"div",34),t._uU(12),t.qZA()(),t.TgZ(13,"div")(14,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCopy(o.depositData.bankNumber))}),t._uU(15," Sao ch\xe9p "),t.qZA()()(),t.TgZ(16,"div",35)(17,"div",32)(18,"div",33),t._uU(19,"S\u1ed1 ti\u1ec1n"),t.qZA(),t.TgZ(20,"div",37),t._uU(21),t.ALo(22,"number"),t.qZA()(),t.TgZ(23,"div")(24,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCopy(o.depositData.amount))}),t._uU(25," Sao ch\xe9p "),t.qZA()()(),t.TgZ(26,"div",35)(27,"div",32)(28,"div",33),t._uU(29,"N\u1ed9i dung"),t.qZA(),t.TgZ(30,"div",38),t._uU(31),t.qZA()(),t.TgZ(32,"div")(33,"button",36),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onCopy(o.depositData.content))}),t._uU(34," Sao ch\xe9p "),t.qZA()()(),t.TgZ(35,"div",39)(36,"span",40),t._uU(37,"L\u01b0u \xfd: "),t.qZA(),t.TgZ(38,"ul",41)(39,"li",42),t._uU(40,"B\u1ea1n s\u1ebd kh\xf4ng mua \u0111\u01b0\u1ee3c v\xe9 n\u1ebfu sai n\u1ed9i dung chuy\u1ec3n kho\u1ea3n ho\u1eb7c chuy\u1ec3n kh\xf4ng \u0111\u1ee7 ti\u1ec1n"),t.qZA(),t.TgZ(41,"li",42),t._uU(42,"Ch\xfang t\xf4i s\u1ebd g\u1eedi email x\xe1c nh\u1eadn khi b\u1ea1n th\u1ef1c hi\u1ec7n thanh to\xe1n th\xe0nh c\xf4ng "),t.qZA()()()(),t.TgZ(43,"div",43)(44,"button",44),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onConfirmTopup())}),t.TgZ(45,"span"),t._uU(46,"T\xf4i \u0111\xe3 chuy\u1ec3n kho\u1ea3n"),t.qZA()(),t.YNc(47,Mn,3,0,"button",45),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(4),t.hij("Ch\u1ee7 t\xe0i kho\u1ea3n (",e.paymentMethodCur,")"),t.xp6(2),t.Oqu((null==e.depositData?null:e.depositData.bankAccountName)||"--"),t.xp6(6),t.Oqu((null==e.depositData?null:e.depositData.bankNumber)||"--"),t.xp6(2),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.bankNumber)),t.xp6(7),t.hij(" ",null!=e.depositData&&e.depositData.amount?t.lcZ(22,10,e.depositData.amount)+" \u0111":"--"," "),t.xp6(3),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.amount)),t.xp6(7),t.hij(" ",(null==e.depositData?null:e.depositData.content)||"--",""),t.xp6(2),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.content)),t.xp6(11),t.Q6J("disabled",!(null!=e.depositData&&e.depositData.id)),t.xp6(3),t.Q6J("ngIf",e.isDevEnvironment)}}function Jn(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",47)(1,"div",48),t._uU(2,"\u0110\xe3 x\u1eed l\xfd chia s\u1ebb th\xe0nh c\xf4ng"),t.qZA(),t.TgZ(3,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.webShareCall())}),t._uU(4,"Chia s\u1ebb"),t.qZA()()}}var qt=(()=>{return(i=qt||(qt={}))[i.QR=0]="QR",i[i.INFO=1]="INFO",qt;var i})();let Ze=(()=>{class i{constructor(e,n,o,r,c,l,p,d,g,y,x){this.clipboard=e,this._toastService=n,this._cdr=o,this._createTopupSessionSvc=r,this.route=c,this._mobileDetectService=l,this._bottomSheetService=p,this._router=d,this.cfIconRegister=g,this._getOrderDetailSvc=y,this.appConfig=x,this.bankAccountOptions=[],this.countdown=600,this.isExpired=!1,this.objectError={error:!1,errorMessage:"C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 QR"},this.isLoading=!1,this.isPaymentCompleted=!1,this.stepMobile=qt.QR,this.StepMobile=qt,this.isMobile=!1,this.paymentMethodCur="ACB",this.updateTimeExpired=new t.vpe,this.timeExpiredChange=new t.vpe,this.isPaymentCompletedChange=new t.vpe,this.isDevEnvironment=!1,this.isMobile=this._mobileDetectService.isMobile(),g.registerIcons([_._hx,_.B2I,_.Hn3,_.Rcu,_.D7]),this.isDevEnvironment="DEV"===this.appConfig.env}handleBeforeUnload(e){this.isPaymentCompleted||(console.log("beforeunload"),e.preventDefault(),e.returnValue="B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y khi ch\u01b0a ho\xe0n th\xe0nh thanh to\xe1n?")}ngOnDestroy(){window.removeEventListener("beforeunload",this.handleBeforeUnload)}canDeactivate(e){return console.log("canDeactivate"),!!this.isPaymentCompleted||confirm("B\u1ea1n c\xf3 ch\u1eafc mu\u1ed1n r\u1eddi kh\u1ecfi trang n\xe0y khi ch\u01b0a ho\xe0n th\xe0nh thanh to\xe1n?")}ngOnInit(){this._createTopupSessionSvc.bookingTopupSession({orderId:this.orderId,paymentMethod:this.paymentMethodCur}).subscribe(e=>{e.data&&this.initDepositData(e.data)})}initDepositData(e){this.timeRemaining$&&this.timeRemaining$.unsubscribe(),this.depositData=Object.assign(Object.assign({},this.depositData),e),this.objectError.error=!1,this.fileNameQR=`${e.content}.jpeg`;const n=new kn.b;n.setBeneficiaryOrganization(this.getBinBank(e.bankName),e.bankNumber).setTransactionAmount(e.amount.toString()).setAdditionalDataFieldTemplate(e.content),be.toDataURL(n.build(),{margin:0}).then(o=>{console.log(o),this.updateTimeExpired.emit(e.dateExpire);const r=this.calculateTimeDifferenceInSeconds(e.dateExpire);this.qrcodeSrc=o;const c=(0,oe.H)(0,1e3).pipe((0,at.U)(l=>r-l),(0,ae.o)(l=>l>=0));this.timeRemaining$=c.subscribe({next:l=>{this.countdown=l,l>0?this.isExpired=!1:(this.isExpired=!0,this.qrcodeSrc="",this.timeExpiredChange.emit(!0)),this._cdr.markForCheck()}}),this._cdr.markForCheck()}).catch(o=>{console.error(o),this.objectError.error=!0,this.objectError.errorMessage="C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng t\u1ea1o l\u1ea1i m\xe3 QR"}),console.log(this.qrcodeSrc),console.log(En)}calculateTimeDifferenceInSeconds(e){const n=q(e),o=q();return Math.abs(o.diff(n,"seconds"))}getBinBank(e){var n;return(null===(n=Tn.d.find(o=>o.code.toUpperCase()===e.toUpperCase()))||void 0===n?void 0:n.bin)||""}onCopy(e){this.clipboard.copy(null==e?void 0:e.toString()),this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"Sao ch\xe9p th\xe0nh c\xf4ng",sticky:!1})}onConfirmTopup(){this._getOrderDetailSvc.getOrderById(this.orderId).subscribe(e=>{e.data&&("PAYMENT_SUCCESS"!==e.data.state?this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"GMBR ch\u01b0a nh\u1eadn \u0111\u01b0\u1ee3c kho\u1ea3n thanh to\xe1n c\u1ee7a \u0111\u01a1n h\xe0ng, vui l\xf2ng ki\u1ec3m tra l\u1ea1i giao d\u1ecbch",sticky:!1}):this.isPaymentCompletedChange.emit(!0))})}exportJPEG(e){this.isLoading=!0;const n=this.htmlContent.nativeElement;(0,ne.C0)(n,{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(o=>{(0,ne.C0)(n,{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(r=>{this.isLoading=!0,(0,ne.C0)(n,{fetch:{bypassingCache:!0},drawImageInterval:1e3}).then(c=>{if(this.isLoading=!1,this.isMobile)if(this.image=new File([c],this.fileNameQR,{type:null==c?void 0:c.type}),navigator.canShare)if(navigator.canShare({files:[this.image]})){const l=this._bottomSheetService.open(e,{headerTitle:"Chia s\u1ebb"});l.containerInstance._rightButtonClick.subscribe(p=>l.dismiss())}else ie(c,this.fileNameQR);else ie(c,this.fileNameQR);else ie(c,this.fileNameQR);this._toastService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"T\u1ea1o file QR chuy\u1ec3n kho\u1ea3n th\xe0nh c\xf4ng. Vui l\xf2ng ki\u1ec3m tra k\u1ebft qu\u1ea3.",sticky:!1})}).catch(c=>{this.isLoading=!1,this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:"T\u1ea1o file QR chuy\u1ec3n kho\u1ea3n th\u1ea5t b\u1ea1i. Vui l\xf2ng th\u1eed l\u1ea1i.",sticky:!1})})})})}webShareCall(){(0,Dn.D)(navigator.share({files:[this.image]})).subscribe({next:e=>console.log(e),error:e=>console.log(e)})}stepMobileChange(e){this.stepMobile=e}onPaymentTopup(){this._getOrderDetailSvc.postPayment(this.orderId).subscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ke.TU),t.Y36(Rt.BX),t.Y36(t.sBO),t.Y36(Ee),t.Y36(vt.gz),t.Y36(yt.L),t.Y36(V.a2),t.Y36(vt.F0),t.Y36(_.KNP),t.Y36(Ae),t.Y36(J.qB))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-deposit"]],viewQuery:function(e,n){if(1&e&&t.Gf(wn,5),2&e){let o;t.iGM(o=t.CRH())&&(n.htmlContent=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("beforeunload",function(r){return n.handleBeforeUnload(r)},!1,t.Jf7)},inputs:{orderId:"orderId"},outputs:{updateTimeExpired:"updateTimeExpired",timeExpiredChange:"timeExpiredChange",isPaymentCompletedChange:"isPaymentCompletedChange"},standalone:!0,features:[t.jDz],decls:15,vars:18,consts:[["htmlContent",""],[1,"gap-x-1.5","hidden","md:flex","w-full","bg-white","py-2","px-4"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","flex-1","text-neutral-gray-4","border","border-neutral-gray-3","w-fit","flex","justify-center",3,"click"],[1,"px-4","w-full","mx-auto","relative","flex","gap-6","md:px-0"],[1,"flex-1","flex","flex-col","gap-8"],[1,"flex","gap-6","w-full"],["class","bg-white border-neutral-gray-1 border rounded pt-4 flex flex-col justify-between flex-1",4,"ngIf"],["class","bg-white border-neutral-gray-1 border rounded py-4 px-6 flex-1",4,"ngIf"],["mobileConfirmShare",""],[1,"bg-white","border-neutral-gray-1","border","rounded","pt-4","flex","flex-col","justify-between","flex-1"],[1,"flex","flex-col","gap-y-4","md:flex-col","md:gap-x-6","px-6","md:p-3","items-center","md:w-full"],[1,"w-[200px]","h-[200px]","md:w-[160px]","md:h-[160px]"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["class","w-[200px] h-auto","alt","",3,"src",4,"ngIf"],[1,"flex","flex-col","gap-y-1","items-center","md:flex-1"],["class","text-heading-lg text-secondary-5-3 md:text-express-xl",4,"ngIf"],[4,"ngIf"],["class","text-body-md-short text-primary-1-4",4,"ngIf"],[1,"w-full","min-h-[38px]","px-6","mb-3"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center",3,"disabled","click"],["icon","download",1,"mr-2"],[1,"p-4","bg-neutral-gray-0.5","text-body-md-short","text-neutral-gray-6","rounded-b"],["viewBox","0 0 200 200","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M0 0H75V75H0V0ZM12.5 62.5H62.5V12.5H12.5V62.5ZM50 25H25V50H50V25ZM75 200V125H0V200H75ZM12.5 137.5H62.5V187.5H12.5V137.5ZM50 150H25V175H50V150ZM200 0H125V75H200V0ZM187.5 62.5H137.5V12.5H187.5V62.5ZM175 25H150V50H175V25ZM0 87.5V112.5H37.5V100H62.5V112.5H87.5V137.5H112.5V150H87.5V162.5H100V175H87.5V200H100V175H112.5V200H137.5V175H150V200H162.5V175H150V162.5H175V200H200V175H187.5V162.5H175V150H150V162.5H137.5V150H125V137.5H162.5V112.5H137.5V87.5H100V75H112.5V50H100V37.5H112.5V12.5H100V0H87.5V50H100V75H87.5V87.5H75V100H62.5V87.5H37.5V100H25V87.5H0ZM87.5 87.5H100V100H112.5V112.5H87.5V87.5ZM112.5 112.5H137.5V125H125V137.5H112.5V112.5ZM125 150H112.5V162.5V175H137.5V162.5H125V150ZM175 125V137.5H187.5V150H200V125H187.5H175ZM150 100V87.5H175H200V112.5H175V100H150Z","fill","#F2F2F2"],["alt","",1,"w-[200px]","h-auto",3,"src"],[1,"text-heading-lg","text-secondary-5-3","md:text-express-xl"],[1,"text-body-md-short"],[1,"text-express-md"],[1,"text-body-md-short","text-primary-1-4"],[1,"bg-white","border-neutral-gray-1","border","rounded","py-4","px-6","flex-1"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","gap-y-1"],[1,"text-body-md-short","text-neutral-gray-5"],[1,"text-express-md","text-neutral-gray-6"],[1,"flex","justify-between","items-center","gap-x-2.5"],["cf-button","","size","small","type","secondary",1,"bg-white","whitespace-nowrap",3,"disabled","click"],[1,"text-express-md","text-secondary-5-3"],[1,"text-express-md","text-neutral-gray-6","md:break-words","md:max-w-[240px]"],[1,"bg-yellow-1","rounded-lg","text-yellow-5","py-2","px-4"],[1,"text-express-md","font-medium"],[1,"list-disc","pl-4"],[1,"text-espressive-md"],[1,"mt-6","flex","gap-2"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center","flex-1",3,"disabled","click"],["cf-button","","size","medium","type","secondary","class","bg-white w-full justify-center flex-1",3,"click",4,"ngIf"],["cf-button","","size","medium","type","secondary",1,"bg-white","w-full","justify-center","flex-1",3,"click"],[1,"pt-5","p-4","flex","flex-col","w-full"],[1,"flex","justify-center","text-body-md"],["cf-button","",1,"w-full","justify-center","mt-6",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",null,0)(2,"div",1)(3,"div",2)(4,"div",3),t.NdJ("click",function(){return n.stepMobileChange(n.StepMobile.QR)}),t._uU(5," M\xe3 QR "),t.qZA(),t.TgZ(6,"div",3),t.NdJ("click",function(){return n.stepMobileChange(n.StepMobile.INFO)}),t._uU(7," Th\xf4ng tin CK "),t.qZA()()(),t.TgZ(8,"div",4)(9,"div",5)(10,"div",6),t.YNc(11,Pn,24,7,"div",7),t.YNc(12,Un,48,12,"div",8),t.qZA()()()(),t.YNc(13,Jn,5,0,"ng-template",null,9,t.W1O)),2&e&&(t.xp6(4),t.ekj("text-neutral-white",n.stepMobile===n.StepMobile.QR)("!border-secondary-3-4",n.stepMobile===n.StepMobile.QR)("bg-secondary-3-4",n.stepMobile===n.StepMobile.QR)("!text-espressive-md-short",n.stepMobile===n.StepMobile.QR),t.xp6(2),t.ekj("text-neutral-white",n.stepMobile===n.StepMobile.INFO)("!border-secondary-3-4",n.stepMobile===n.StepMobile.INFO)("bg-secondary-3-4",n.stepMobile===n.StepMobile.INFO)("!text-espressive-md-short",n.stepMobile===n.StepMobile.INFO),t.xp6(5),t.Q6J("ngIf",n.stepMobile===n.StepMobile.QR),t.xp6(1),t.Q6J("ngIf",n.stepMobile===n.StepMobile.INFO||!n.isMobile))},dependencies:[m.ez,m.O5,m.JJ,j.N8,j.Xq,bn.Q,_.AxE,_.Sm8,V.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})(),Ct=(()=>{class i{constructor(){this.getBeService=(e,n)=>{let o=0;return o+=((null==e?void 0:e.charges.filter(c=>"BE_SERVICE"===c.chargeType.code))||[]).reduce((c,l)=>c+(l.charge.total-l.charge.base),0),o}}initTicketCur(e){return{ticketSelected:e===$.VB.OneWay?[{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}]:[{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0},{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}],totalPrice:0,idxTicketSelected:0}}convertSearchInputToRequest({adultCount:e,childCount:n,infantCount:o,journey:r,promotionCode:c}){return{adultCount:e||1,childCount:n||0,infantCount:o||0,flightsRequest:null!=r&&r.length?r.map(l=>Object.assign(Object.assign({},l),{departDate:q(l.departDate).format("YYYY-MM-DD"),providers:l.airline||"VN,VJ,QH,VU,FLY_ONE,GDS,BSP,AIR_1G"})):[{startPoint:"",endPoint:"",departDate:"",providers:"VN,VJ,QH,VU,FLY_ONE,GDS,BSP,AIR_1G",leg:0}],promoCode:c,paxType:null!=r&&r.length?r[0].paxType:"",cabin:null!=r&&r.length?r[0].cabin:"ECONOMY"}}sumPriceTicket(e){return e.reduce((n,o)=>n+o.totalFare,0)}progressPriceList(e,n){let o=[];const{adultCount:r,childCount:c,infantCount:l}=e,p={ADULT:r,CHILD:c,INFANT:l};for(const d in p){const g=p[d];if(g){const y=n.map(x=>{var C;return null===(C=x.fareCur)||void 0===C?void 0:C.fareAmountBreakdowns.find(f=>f.type===`${d}`)});if(y.length){const x=y.reduce((E,T)=>E+(T?this.getBaseFare(T,n[0].airline):0),0),C=y.reduce((E,T)=>E+(T?this.getSurCharge(T):0),0),f=y.reduce((E,T)=>E+(T?this.getBeService(T,n[0].airline):0),0);o.push({type:"ADULT"===d?"Ng\u01b0\u1eddi l\u1edbn (ADT)":"CHILD"===d?"Tr\u1ebb em (CHD)":"Em b\xe9 (INF)",code:"ADULT"===d?"ADT":"CHILD"===d?"CHD":"INF",quantity:g,baseFare:x,surCharge:C,beService:f,discountAmount:n.reduce((E,T)=>E+(T.discountData?"ADULT"===d?Math.floor(x*(T.discountData.adtPercentage>0?T.discountData.adtPercentage/100:0))+T.discountData.adtAmount:"CHILD"===d?Math.floor(x*(T.discountData.chdPercentage>0?T.discountData.chdPercentage/100:0))+T.discountData.chdAmount:Math.floor(x*(T.discountData.infPercentage>0?T.discountData.infPercentage/100:0))+T.discountData.infAmount:0),0),totalFare:g*(x+C)})}}}return o}getBaseFare(e,n){let o=0;return o+=((null==e?void 0:e.charges.filter(c=>"FARE"===c.chargeType.code))||[]).reduce((c,l)=>c+l.charge.base,0),o}getSurCharge(e){let n=0;const o=(null==e?void 0:e.charges.filter(c=>"FARE"!==c.chargeType.code))||[],r=(null==e?void 0:e.charges.filter(c=>"FARE"===c.chargeType.code))||[];return n+=o.reduce((c,l)=>c+l.charge.total,0),n+=r.reduce((c,l)=>c+(l.charge.total-l.charge.base),0),n}initModelAirPlanceOptions(e){const n=new Map;return e.forEach(({segments:o})=>{o.forEach(r=>{r.modelAirplaneName&&r.modelAirplane&&!n.has(r.modelAirplane)&&n.set(r.modelAirplane,{code:r.modelAirplane,name:r.modelAirplaneName,actived:!1})})}),Array.from(n.values())}initFareClassFilters(e){const n=new Map;return e.forEach(o=>{o.chosenFares.forEach(r=>{r.cabinName&&!n.has(r.cabinName.toUpperCase())&&n.set(r.cabinName.toUpperCase(),{code:r.cabinName.toUpperCase(),name:r.cabinName.toUpperCase(),actived:!1})})}),Array.from(n.values())}initTimeFilters(e,n){const o=n.map(r=>{const c=new Date(r.departure.localTime);return 60*c.getHours()+c.getMinutes()});return e.map(r=>Object.assign(Object.assign({},r),{disabled:!o.some(c=>c>=r.startTime&&c<=r.endTime),actived:!1}))}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Qt=v(11787);let Ln=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),i})();const Rn={headers:new it.WM({"Content-Type":"application/json"})};let jn=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaService=o}getExtraInfoOrder(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-extra-info-order",JSON.stringify({orderId:e,recaptcha:n}),Rn)),(0,at.U)(n=>(0,X.yE)(Ln,n,{excludeExtraneousValues:!0})))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Yt=v(15861),Bt=v(77579),Qn=v(2462),gt=v(17489),Yn=v(51588);let Be=(()=>{class i{constructor(){this.clientKey=sessionStorage.getItem("clientKey")}getClientKey(){return this.clientKey||(this.clientKey=(0,gt.cloneDeep)("PUBLIC"+(0,Yn.Z)()),sessionStorage.setItem("clientKey",this.clientKey)),this.clientKey}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Hn=(()=>{class i{constructor(e,n){this.appConfig=e,this.clientKeyBtcSvc=n,this.paymentEvent$=new Bt.x,this.ticketIssuedSuccessfully$=new Bt.x,this.ticketIssuedFailed$=new Bt.x,console.log("Init btc socket payment service")}initializeWebSocketConnection(){(!this.socket||this.socket.disconnected)&&(this.socket=(0,Qn.io)(this.appConfig.socketUrl+"notification",{extraHeaders:{clientKey:this.clientKeyBtcSvc.getClientKey()}}),this.socket.on("connect",()=>{console.log("Socket connected")}),this.socket.on("receive_message",e=>{console.log("Nh\u1eadn \u0111\u01b0\u1ee3c tin nh\u1eafn : ",e),this.sendMessageToUser(e)}),this.socket.on("disconnect",()=>{console.log("Socket disconnected")}))}sendMessageToUser(e){var n=this;return(0,Yt.Z)(function*(){switch(e.cmd){case 1014:yield n.ProgressPaymentSuccess(e);break;case 1015:n.ProgressTicketIssuedSuccessfully(e);break;case 1016:n.ProgressPaymentFailed(e)}})()}ProgressPaymentSuccess(e){var n=this;return(0,Yt.Z)(function*(){n.paymentEvent$.next(e)})()}ProgressPaymentFailed(e){var n=this;return(0,Yt.Z)(function*(){n.ticketIssuedFailed$.next(e)})()}ProgressTicketIssuedSuccessfully(e){var n=this;return(0,Yt.Z)(function*(){n.ticketIssuedSuccessfully$.next(e)})()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(J.qB),t.LFG(Be))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var re=v(77492);function Vn(i,a){if(1&i&&(t.TgZ(0,"div",79),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.bookingData.booking.orderId," ")}}function Gn(i,a){if(1&i&&(t.TgZ(0,"div",78)(1,"div",17),t._uU(2," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.YNc(3,Vn,2,1,"div",18),t.qZA()),2&i){const e=t.oxw(),n=t.MAs(137);t.xp6(3),t.Q6J("ngIf",null==e.bookingData?null:e.bookingData.booking)("ngIfElse",n)}}function Kn(i,a){if(1&i&&(t.TgZ(0,"div",79),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.bookingData.booking.totalPrice),",",".")," \u0111 ")}}function $n(i,a){if(1&i&&(t.TgZ(0,"div",82),t._UZ(1,"cf-icon",83),t.TgZ(2,"span",84),t._uU(3),t.qZA()()),2&i){const e=a.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function zn(i,a){if(1&i&&(t.TgZ(0,"div",80),t.YNc(1,$n,4,3,"div",81),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.configStatus[e.bookingData.booking.state])}}function Wn(i,a){if(1&i&&(t.TgZ(0,"div",85)(1,"div"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"span"),t._uU(5," 2. Li\xean h\u1ec7 "),t.TgZ(6,"b"),t._uU(7,"091 552 2425"),t.qZA(),t._uU(8," (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij(" 1. Qu\xfd kh\xe1ch vui l\xf2ng ti\u1ebfn h\xe0nh thanh to\xe1n, \u0111\u01a1n h\xe0ng s\u1ebd t\u1ef1 \u0111\u1ed9ng h\u1ee7y n\u1ebfu kh\xf4ng thanh to\xe1n tr\u01b0\u1edbc th\u1eddi gian ",t.xi3(3,1,e.bookingData.booking.timeExpire,"dd/MM/yyy hh:mm")||"N/A",". ")}}function Xn(i,a){1&i&&(t.TgZ(0,"div",85)(1,"div"),t._uU(2," 1. Qu\xfd kh\xe1ch vui l\xf2ng ch\u1edd trong gi\xe2y l\xe1t, h\u1ec7 th\u1ed1ng \u0111ang x\u1eed l\xfd v\xe9 cho kh\xe1ch. "),t.qZA(),t.TgZ(3,"div"),t._uU(4," 2. Khi xu\u1ea5t v\xe9 th\xe0nh c\xf4ng, ch\xfang t\xf4i s\u1ebd th\xf4ng b\xe1o qua email v\xe0 tin nh\u1eafn zalo. "),t.qZA(),t.TgZ(5,"div"),t._uU(6," 3. Vui l\xf2ng ki\u1ec3m tra email \u0111\u1ec3 xem x\xe1c nh\u1eadn thanh to\xe1n v\xe0 chi ti\u1ebft \u0111\u01a1n h\xe0ng. "),t.qZA(),t.TgZ(7,"div"),t._uU(8," 4. Li\xean h\u1ec7 0915522425 (Mr. Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft. "),t.qZA(),t.TgZ(9,"div"),t._uU(10," 5. Ki\u1ec3m tra tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng t\u1ea1i "),t.TgZ(11,"a",86),t._uU(12,"giacmobayre.vn/tra-cuu-don-hang.html"),t.qZA()()())}function to(i,a){1&i&&(t.TgZ(0,"div",85)(1,"div"),t._uU(2," 1. H\u1ec7 th\u1ed1ng \u0111\xe3 x\u1eed l\xfd ho\xe0n ti\u1ec1n cho b\u1ea1n. "),t.qZA(),t.TgZ(3,"div"),t._uU(4," 2. T\xecm ki\u1ebfm v\xe0 \u0111\u1eb7t v\xe9 m\xe1y bay m\u1edbi t\u1ea1i "),t.TgZ(5,"a",87),t._uU(6,"giacmobayre.vn"),t.qZA()(),t.TgZ(7,"div"),t._uU(8," 3. Ho\u1eb7c li\xean h\u1ec7 091 552 2425 (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c t\u01b0 v\u1ea5n v\xe0 \u0111\u1eb7t v\xe9 "),t.qZA()())}function eo(i,a){if(1&i&&(t.TgZ(0,"div",85)(1,"div"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"div"),t._uU(5," 2. T\xecm ki\u1ebfm v\xe0 \u0111\u1eb7t v\xe9 m\xe1y bay m\u1edbi t\u1ea1i "),t.TgZ(6,"a",87),t._uU(7,"giacmobayre.vn"),t.qZA()(),t.TgZ(8,"div"),t._uU(9," 3. Ho\u1eb7c li\xean h\u1ec7 091 552 2425 (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c t\u01b0 v\u1ea5n v\xe0 \u0111\u1eb7t v\xe9 "),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.hij(" 1. \u0110\u01a1n h\xe0ng \u0111\xe3 b\u1ecb h\u1ee7y do h\u1ebft h\u1ea1n thanh to\xe1n v\xe0o ",t.xi3(3,1,e.bookingData.booking.timeExpire,"dd/MM/yyy hh:mm")||"N/A",". ")}}function io(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",88)(1,"div",85)(2,"div"),t._uU(3," 1. R\u1ea5t ti\u1ebfc, c\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh x\u1eed l\xfd v\xe9. Ch\xfang t\xf4i s\u1ebd ch\u1ee7 \u0111\u1ed9ng li\xean h\u1ec7 \u0111\u1ec3 \u0111\u1eb7t v\xe9 m\u1edbi ho\u1eb7c ho\xe0n ti\u1ec1n cho qu\xfd kh\xe1ch "),t.qZA(),t.TgZ(4,"div"),t._uU(5," 2. Li\xean h\u1ec7 091 552 2425 (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA(),t.TgZ(6,"div"),t._uU(7," 3. G\u1eedi y\xeau c\u1ea7u ho\xe0n ti\u1ec1n \u0111\u1ec3 \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n s\u1edbm nh\u1ea5t "),t.qZA()(),t.TgZ(8,"div",88)(9,"div",89),t._UZ(10,"cf-icon",10),t.TgZ(11,"div",90),t._uU(12," Th\xf4ng b\xe1o "),t.qZA()(),t.TgZ(13,"div",91),t._uU(14," R\u1ea5t ti\u1ebfc, c\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh \u0111\u1eb7t v\xe9. Ch\xfang t\xf4i s\u1ebd ch\u1ee7 \u0111\u1ed9ng li\xean h\u1ec7 cho b\u1ea1n \u0111\u1ec3 x\u1eed l\xfd \u0111\u1eb7t l\u1ea1i v\xe9 ho\u1eb7c ho\xe0n ti\u1ec1n. B\u1ea1n c\xf3 th\u1ec3 li\xean h\u1ec7 "),t.TgZ(15,"b"),t._uU(16,"091 552 2425"),t.qZA(),t._uU(17," (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 ngay l\u1eadp t\u1ee9c. GMBR xin ch\xe2n th\xe0nh c\u1ea3m \u01a1n s\u1ef1 tin t\u01b0\u1edfng c\u1ee7a qu\xfd kh\xe1ch! "),t.qZA(),t.TgZ(18,"button",60),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onRefund())}),t._uU(19," G\u1eedi y\xeau c\u1ea7u ho\xe0n ti\u1ec1n "),t.qZA()()()}}function no(i,a){if(1&i&&(t.TgZ(0,"div",88)(1,"div",85)(2,"div"),t._uU(3," 1. H\u1ec7 th\u1ed1ng \u0111\xe3 x\u1eed l\xfd v\xe9 th\xe0nh c\xf4ng cho b\u1ea1n. "),t.qZA(),t.TgZ(4,"div"),t._uU(5," 2. Vui l\xf2ng ki\u1ec3m tra email \u0111\u1ec3 xem m\xe3 \u0111\u1eb7t ch\u1ed7 v\xe0 chi ti\u1ebft \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(6,"div"),t._uU(7," 3. M\xe3 \u0111\u01a1n h\xe0ng kh\xf4ng c\xf3 gi\xe1 tr\u1ecb \u0111\u1ec3 bay, vui l\xf2ng s\u1eed d\u1ee5ng m\xe3 \u0111\u1eb7t ch\u1ed7 trong email/Zalo \u0111\u1ec3 l\xe0m th\u1ee7 t\u1ee5c "),t.qZA(),t.TgZ(8,"div"),t._uU(9," 4. Li\xean h\u1ec7 091 552 2425 (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA(),t.TgZ(10,"div"),t._uU(11," 5. Ki\u1ec3m tra tr\u1ea1ng th\xe1i \u0111\u01a1n h\xe0ng t\u1ea1i trang "),t.TgZ(12,"a",86),t._uU(13,"giacmobayre.vn/tra-cuu-don-hang.html"),t.qZA()()(),t.TgZ(14,"div",88)(15,"div",89),t._UZ(16,"cf-icon",10),t.TgZ(17,"div",90),t._uU(18," Th\xf4ng b\xe1o "),t.qZA()(),t.TgZ(19,"div",91),t._uU(20),t.ALo(21,"mailMask"),t.TgZ(22,"b"),t._uU(23,"091 552 2425"),t.qZA(),t._uU(24," (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft. "),t.qZA()()()),2&i){const e=t.oxw();t.xp6(20),t.hij(" Ch\xfac m\u1eebng b\u1ea1n \u0111\xe3 \u0111\u1eb7t v\xe9 th\xe0nh c\xf4ng, vui l\xf2ng ki\u1ec3m tra email ",t.lcZ(21,1,e.bookingData.bookingContact.email)," \u0111\u1ec3 ki\u1ec3m tra m\u1eb7t v\xe9. Li\xean h\u1ec7 ")}}function oo(i,a){if(1&i&&(t.TgZ(0,"div",88)(1,"div",89),t._UZ(2,"cf-icon",10),t.TgZ(3,"div",90),t._uU(4," Th\xf4ng b\xe1o "),t.qZA()(),t.TgZ(5,"div",91),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.ALo(9,"mailMask"),t.ALo(10,"maskData"),t.TgZ(11,"b"),t._uU(12,"091 552 2425"),t.qZA(),t._uU(13," (Mr Th\u01b0\u1edfng) \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft. "),t.qZA()()),2&i){const e=t.oxw();t.xp6(6),t.lnq(" B\u1ea1n \u0111\xe3 thanh to\xe1n th\xe0nh c\xf4ng \u0111\u01a1n h\xe0ng v\u1edbi gi\xe1 tr\u1ecb ",t.Dn7(7,3,t.lcZ(8,7,e.bookingData.booking.totalPrice),",","."),"\u0111 qua h\xecnh th\u1ee9c chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng b\u1eb1ng QR Code. H\u1ec7 th\u1ed1ng \u0111ang x\u1eed l\xfd v\xe9 v\xe0 s\u1ebd th\xf4ng b\xe1o qua email ",t.lcZ(9,9,e.bookingData.bookingContact.email)," v\xe0 Zalo ",t.lcZ(10,11,e.bookingData.bookingContact.phone)," cho b\u1ea1n khi th\xe0nh c\xf4ng. Li\xean h\u1ec7 ")}}function ao(i,a){if(1&i&&(t.TgZ(0,"div",100)(1,"div",101),t._uU(2),t.qZA(),t.TgZ(3,"div",102),t._uU(4),t.qZA(),t.TgZ(5,"div",102),t._uU(6),t.qZA(),t.TgZ(7,"div",103),t._uU(8),t.ALo(9,"date"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ","ADT"===e.type?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===e.type?"Tr\u1ebb em":"Em b\xe9"," "),t.xp6(2),t.hij(" ","MALE"===e.genderCode?"Nam":"N\u1eef"," "),t.xp6(2),t.hij(" ",e.birthday?t.xi3(9,4,e.birthday,"dd/MM/yyy"):"N/A"," ")}}function ro(i,a){if(1&i&&(t.TgZ(0,"div",98),t.YNc(1,ao,10,7,"div",99),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",null==e.bookingData?null:e.bookingData.bookingPassengers)}}function co(i,a){if(1&i&&(t.TgZ(0,"div",105)(1,"div",106),t._uU(2," Ng\xe0y sinh: "),t.qZA(),t.TgZ(3,"div",107),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.birthday?t.xi3(5,1,e.birthday,"dd/MM/yyy"):"N/A"," ")}}const we=function(i){return{"border-b border-neutral-gray-3":i}};function lo(i,a){if(1&i&&(t.TgZ(0,"div",104)(1,"div",105)(2,"div",106),t._uU(3," H\xe0nh kh\xe1ch: "),t.qZA(),t.TgZ(4,"div",107),t._uU(5),t.qZA()(),t.TgZ(6,"div",105)(7,"div",106),t._uU(8," Lo\u1ea1i kh\xe1ch: "),t.qZA(),t.TgZ(9,"div",107),t._uU(10),t.qZA()(),t.TgZ(11,"div",105)(12,"div",106),t._uU(13," Gi\u1edbi t\xednh: "),t.qZA(),t.TgZ(14,"div",107),t._uU(15),t.qZA()(),t.YNc(16,co,6,4,"div",108),t.qZA()),2&i){const e=a.$implicit;t.Q6J("ngClass",t.VKq(5,we,!a.last)),t.xp6(5),t.hij(" ",e.name," "),t.xp6(5),t.hij(" ","ADT"===e.type?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===e.type?"Tr\u1ebb em":"Em b\xe9"," "),t.xp6(5),t.hij(" ","MALE"===e.genderCode?"Nam":"N\u1eef"," "),t.xp6(1),t.Q6J("ngIf",e.birthday)}}function so(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",92)(2,"div",93)(3,"div",94),t._uU(4," H\xe0nh kh\xe1ch "),t.qZA(),t.TgZ(5,"div",95),t._uU(6," Lo\u1ea1i kh\xe1ch "),t.qZA(),t.TgZ(7,"div",95),t._uU(8," Gi\u1edbi t\xednh "),t.qZA(),t.TgZ(9,"div",96),t._uU(10," Ng\xe0y sinh "),t.qZA()(),t.YNc(11,ro,2,1,"div",97),t.qZA(),t.TgZ(12,"div",65),t.YNc(13,lo,17,7,"div",66),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(11),t.Q6J("ngIf",(null==e.bookingData?null:e.bookingData.bookingPassengers)&&(null==e.bookingData||null==e.bookingData.bookingPassengers?null:e.bookingData.bookingPassengers.length)),t.xp6(2),t.Q6J("ngForOf",null==e.bookingData?null:e.bookingData.bookingPassengers)}}function uo(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",109)(1,"btc-result-deposit",110),t.NdJ("updateTimeExpired",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.bookingData.booking.timeExpire=o)})("timeExpiredChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.updateStateCanceled())})("isPaymentCompletedChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.paymentCompleted("PAYMENT_SUCCESS"))}),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("orderId",e.orderId)}}function po(i,a){if(1&i&&(t.TgZ(0,"div",105)(1,"div",106),t._uU(2," Ng\xe0y sinh: "),t.qZA(),t.TgZ(3,"div",107),t._uU(4),t.ALo(5,"date"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.hij(" ",e.birthday?t.xi3(5,1,e.birthday,"dd/MM/yyy"):"N/A"," ")}}function _o(i,a){if(1&i&&(t.TgZ(0,"div",104)(1,"div",105)(2,"div",106),t._uU(3," H\xe0nh kh\xe1ch: "),t.qZA(),t.TgZ(4,"div",107),t._uU(5),t.qZA()(),t.TgZ(6,"div",105)(7,"div",106),t._uU(8," Lo\u1ea1i kh\xe1ch: "),t.qZA(),t.TgZ(9,"div",107),t._uU(10),t.qZA()(),t.TgZ(11,"div",105)(12,"div",106),t._uU(13," Gi\u1edbi t\xednh: "),t.qZA(),t.TgZ(14,"div",107),t._uU(15),t.qZA()(),t.YNc(16,po,6,4,"div",108),t.qZA()),2&i){const e=a.$implicit;t.Q6J("ngClass",t.VKq(5,we,!a.last)),t.xp6(5),t.hij(" ",e.name," "),t.xp6(5),t.hij(" ","ADT"===e.type?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===e.type?"Tr\u1ebb em":"Em b\xe9"," "),t.xp6(5),t.hij(" ","MALE"===e.genderCode?"Nam":"N\u1eef"," "),t.xp6(1),t.Q6J("ngIf",e.birthday)}}function go(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",111),t.NdJ("showDetail",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.showDetail(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)("hiddenBtn",!0)}}function mo(i,a){if(1&i&&(t.TgZ(0,"div",120)(1,"div",121),t._uU(2),t.qZA(),t.TgZ(3,"div",122),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function fo(i,a){if(1&i&&(t.TgZ(0,"div",120)(1,"div",121),t._uU(2),t.qZA(),t.TgZ(3,"div",122),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function ho(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",115)(2,"div",116)(3,"div",117),t._uU(4," Chi\u1ec1u \u0111i "),t.qZA(),t.YNc(5,mo,7,9,"div",118),t.qZA(),t.TgZ(6,"div",119)(7,"div",117),t._uU(8," Chi\u1ec1u v\u1ec1 "),t.qZA(),t.YNc(9,fo,7,9,"div",118),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList),t.xp6(4),t.Q6J("ngForOf",e.ticketCur.ticketSelected[1].ticketPriceList)}}function vo(i,a){if(1&i&&(t.TgZ(0,"div",120)(1,"div",121),t._uU(2),t.qZA(),t.TgZ(3,"div",122),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function xo(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",123),t.YNc(2,vo,7,9,"div",118),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList)}}function yo(i,a){if(1&i&&(t.ynx(0)(1,112),t.YNc(2,ho,10,2,"ng-container",113),t.YNc(3,xo,3,1,"ng-container",114),t.BQk()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",null==e.ticketCur||null==e.ticketCur.ticketSelected?null:e.ticketCur.ticketSelected.length),t.xp6(1),t.Q6J("ngSwitchCase",2)}}function Co(i,a){if(1&i&&(t.TgZ(0,"div",128)(1,"div",121),t._uU(2," Gi\u1ea3m gi\xe1 v\xe9 "),t.qZA(),t.TgZ(3,"div",122),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.ngIf;t.xp6(4),t.hij(" - ",t.Dn7(5,1,t.lcZ(6,5,e),",",".")," \u0111 ")}}function To(i,a){if(1&i&&(t.TgZ(0,"div",128)(1,"div",121),t._uU(2),t.qZA(),t.TgZ(3,"div",122),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" - ",t.Dn7(5,2,t.lcZ(6,6,e.discountByCondition),",",".")," \u0111 ")}}function bo(i,a){if(1&i&&(t.ynx(0),t.YNc(1,To,7,8,"div",126),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.active)}}function ko(i,a){if(1&i&&(t.TgZ(0,"div",124)(1,"div",125),t._uU(2," Gi\u1ea3m gi\xe1 "),t.qZA(),t.YNc(3,Co,7,7,"div",126),t.ALo(4,"mapper"),t.YNc(5,bo,2,1,"ng-container",127),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",t.xi3(4,2,e.ticketCur.ticketSelected,e.amountDiscountTotal)),t.xp6(2),t.Q6J("ngForOf",e.promoCodeBookingList)}}function Eo(i,a){if(1&i&&t._UZ(0,"btc-ticket-sticky-booking",129),2&i){const e=t.oxw();t.Q6J("bookingContact",e.bookingData.bookingContact)("invoiceInfo",(null==e.bookingData?null:e.bookingData.invoiceInfo)||null)("bookingPassengers",e.bookingData.bookingPassengers)("amountDiscount",e.amountDiscount)}}function Do(i,a){1&i&&t._UZ(0,"div",130)}var Ot=(()=>{return(i=Ot||(Ot={}))[i.Order=0]="Order",i[i.Pas=1]="Pas",Ot;var i})();let Ao=(()=>{class i{constructor(e,n,o,r,c,l,p,d,g,y,x,C,f,E,T,N){this._detectMobileSvc=e,this._bottomSheetSvc=n,this._modal=o,this.cfIconRegister=r,this._helperResultSvc=c,this._helperStorageSvc=l,this._createTopupSessionSvc=p,this.route=d,this._getExtraInfoOrderSvc=g,this._getOrderDetailSvc=y,this._router=x,this._btcSocketOrderSvc=C,this._helperSvc=f,this._eventLogService=E,this.appConfig=T,this._locationDataSvc=N,this.promoCodeBookingList=[],this.amountDiscount=0,this.configStatus=Dt.cT,this.StepMobile=Ot,this.stepMobile=Ot.Order,this.isMobile=!1,this.hasAirportInternational=!1,this.expandInfoPax=!1,this.amountDiscountPromoBooking=w=>w?w.reduce((O,G)=>O+(G.active?G.discountByCondition:0),0):0,this.amountDiscountTotal=w=>w.reduce((O,G)=>O+(G.ticketPriceList&&G.ticketPriceList.length?G.ticketPriceList.reduce((h,F)=>h+F.discountAmount*F.quantity,0):0),0),this.cfIconRegister.registerIcons([_.gW0,_.qDv,_.o1t,_.P5K,_.PcQ,_.PcQ,_.Gey,_.B2I,_.UNF,_.glu,_.rks,_.S7Q,_.fqi,_.n78]),this._btcSocketOrderSvc.initializeWebSocketConnection()}ngOnChanges(e){}ngOnInit(){this.isMobile=this._detectMobileSvc.isMobile(),this.subscribeStatusOrder(),this.progressInternational(),this.initPromoCodeBookingList(),window.addEventListener("message",e=>{const n=e.data.idParent;n&&(this.orderId=n,n&&(0,Cn.a)({extraInfoOrder:this._getExtraInfoOrderSvc.getExtraInfoOrder(n),orderDataDetail:this._getOrderDetailSvc.getOrderById(n)}).subscribe({next:o=>{var r,c,l,p,d;this.progressDataExtraInfo(o.extraInfoOrder),this.progressDataOrderDetail(o.orderDataDetail),this._eventLogService.orderInfoView(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(r=this.searchData.journey[0])||void 0===r?void 0:r.startPoint,end_point:null===(c=this.searchData.journey[0])||void 0===c?void 0:c.endPoint,departure_date:null!==(l=this.searchData.journey)&&void 0!==l&&l.length&&null!==(p=this.searchData.journey[0])&&void 0!==p&&p.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(g=>g.ticketData&&"IVS"===g.ticketData.provider)?1:0},null===(d=this._helperStorageSvc.btcCampaignData)||void 0===d?void 0:d.utmParams))},error:o=>{console.error("Error fetching order details:",o)}}))})}initPromoCodeBookingList(){this.promoCodeBookingList=this._helperStorageSvc.listPromoBookActived}progressInternational(){var e;null===(e=this.ticketCur)||void 0===e||e.ticketSelected.forEach(n=>{n.ticketData&&(this._locationDataSvc.checkAirportInternational(n.ticketData.startPoint)||this._locationDataSvc.checkAirportInternational(n.ticketData.endPoint))&&(this.hasAirportInternational=!0)})}progressDataExtraInfo(e){if(e.data.extraInfoText){const{dataBooking:n,search:o,ticketCur:r,promoCodeBookingList:c}=JSON.parse(e.data.extraInfoText);this.searchData=o,this.ticketCur=r,this.bookingData=Object.assign(Object.assign({},n),{bookingPassengers:n.bookingPassengers.map(l=>Object.assign(Object.assign({},l),{birthday:l.birthday&&"1990-01-01"!==l.birthday?new Date(l.birthday):null}))}),this.promoCodeBookingList=c,this.progressAmountDiscount(),console.log(this.bookingData)}}progressDataOrderDetail(e){this.bookingData.booking=e.data}showDetail(e){this._detectMobileSvc.isMobile()?this._bottomSheetSvc.open(At,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e}}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()):this._modal.open(At,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}stepMobileChange(e){this.stepMobile=e}openNewTab(e){window.open(e,"_blank")}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(n=>n.ticketData).map(n=>n.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.searchData,e).filter(n=>n.discountAmount).reduce((n,o)=>n+o.discountAmount*o.quantity,0)}onBack(){console.log("this.searchData",this.searchData);const{adultCount:e,childCount:n,infantCount:o,isDirectFlight:r,promotionCode:c,type:l,journey:p}=this.searchData,d=(0,Xt.B)(this._helperSvc.compactInputData({adult:e,child:n,infant:o,isDirectFlight:r,promotion:[],promotionCode:c,type:l+"",journey:p,agentPromotion:null}));this.parseQueryString(d),window.parent.postMessage({action:"redirect",url:"DEV"===this.appConfig.env?`/search-dev.html?${d}`:`/search.html?${d}`},"*")}parseQueryString(e){return e.split("&").reduce((n,o)=>{const[r,c]=o.split("=");return n[r]=decodeURIComponent(c),n},{})}subscribeStatusOrder(){this._btcSocketOrderSvc.paymentEvent$.subscribe(e=>{var n,o;null!==(o=null===(n=this.bookingData)||void 0===n?void 0:n.booking)&&void 0!==o&&o.state&&this.paymentCompleted(e.status)}),this._btcSocketOrderSvc.ticketIssuedSuccessfully$.subscribe(e=>{var n,o,r,c,l,p;null!==(o=null===(n=this.bookingData)||void 0===n?void 0:n.booking)&&void 0!==o&&o.state&&(this.updateStateBooking(e.status),this._eventLogService.issueTickets(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(r=this.searchData.journey[0])||void 0===r?void 0:r.startPoint,end_point:null===(c=this.searchData.journey[0])||void 0===c?void 0:c.endPoint,departure_date:null!==(l=this.searchData.journey[0])&&void 0!==l&&l.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(d=>d.ticketData&&"IVS"===d.ticketData.provider)?1:0,success:1},this.dataLog()),{price:this.ticketCur.ticketSelected.map(d=>{var g;const y=null===(g=d.ticketPriceList)||void 0===g?void 0:g.find(x=>"ADT"===x.code);return y?y.totalFare-y.discountAmount:0})}),null===(p=this._helperStorageSvc.btcCampaignData)||void 0===p?void 0:p.utmParams)))}),this._btcSocketOrderSvc.ticketIssuedFailed$.subscribe(e=>{var n,o,r,c,l,p;null!==(o=null===(n=this.bookingData)||void 0===n?void 0:n.booking)&&void 0!==o&&o.state&&(this.updateStateBooking(e.status),this._eventLogService.issueTickets(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(r=this.searchData.journey[0])||void 0===r?void 0:r.startPoint,end_point:null===(c=this.searchData.journey[0])||void 0===c?void 0:c.endPoint,departure_date:null!==(l=this.searchData.journey[0])&&void 0!==l&&l.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(d=>d.ticketData&&"IVS"===d.ticketData.provider)?1:0,success:0},this.dataLog()),{price:this.ticketCur.ticketSelected.map(d=>{var g;const y=null===(g=d.ticketPriceList)||void 0===g?void 0:g.find(x=>"ADT"===x.code);return y?y.totalFare-y.discountAmount:0})}),null===(p=this._helperStorageSvc.btcCampaignData)||void 0===p?void 0:p.utmParams)))})}updateStateBooking(e){this.bookingData=Object.assign(Object.assign({},this.bookingData),{booking:Object.assign(Object.assign({},this.bookingData.booking),{state:e})})}paymentCompleted(e){var n,o,r,c;this.updateStateBooking(e),window.parent.postMessage({action:"payment",status:"success"},"*"),this._eventLogService.paymentSuccessOrderBtc(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(n=this.searchData.journey[0])||void 0===n?void 0:n.startPoint,end_point:null===(o=this.searchData.journey[0])||void 0===o?void 0:o.endPoint,departure_date:this.searchData.journey&&null!==(r=this.searchData.journey[0])&&void 0!==r&&r.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(l=>l.ticketData&&"IVS"===l.ticketData.provider)?1:0},this.dataLog()),{price:this.ticketCur.ticketSelected.map(l=>{var p;const d=null===(p=l.ticketPriceList)||void 0===p?void 0:p.find(g=>"ADT"===g.code);return d?d.totalFare-d.discountAmount:0})}),null===(c=this._helperStorageSvc.btcCampaignData)||void 0===c?void 0:c.utmParams))}updateStateCanceled(){var e,n,o,r;this.bookingData=Object.assign(Object.assign({},this.bookingData),{booking:Object.assign(Object.assign({},this.bookingData.booking),{state:"CANCELLED"})}),this._eventLogService.timeExpiredPaymentBtc(Object.assign(Object.assign(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(e=this.searchData.journey[0])||void 0===e?void 0:e.startPoint,end_point:null===(n=this.searchData.journey[0])||void 0===n?void 0:n.endPoint,departure_date:null!==(o=this.searchData.journey[0])&&void 0!==o&&o.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(c=>c.ticketData&&"IVS"===c.ticketData.provider)?1:0},this.dataLog()),{price:this.ticketCur.ticketSelected.map(c=>{var l;const p=null===(l=c.ticketPriceList)||void 0===l?void 0:l.find(d=>"ADT"===d.code);return p?p.totalFare-p.discountAmount:0})}),null===(r=this._helperStorageSvc.btcCampaignData)||void 0===r?void 0:r.utmParams))}onRefund(){if(this.isMobile){const e=this._bottomSheetSvc.open(ye,{headerTitle:"Y\xeau c\u1ea7u ho\xe0n ti\u1ec1n",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{dataBooking:this.bookingData.booking}});e.containerInstance._rightButtonClick.subscribe(()=>{e.dismiss()})}else this._modal.open(ye,{dataBooking:this.bookingData.booking})}dataLog(){var e,n;const o=this.promoCodeBookingList.filter(d=>d.active),r={promoCodeBook:o.map(d=>d.code).join(","),totalPromoBook:o.reduce((d,g)=>d+g.discountByCondition,0)},c=this.ticketCur.ticketSelected.map(d=>{var g,y,x;return{airline:null===(g=d.ticketData)||void 0===g?void 0:g.airline,priceTotal:d.priceTotalByPassenger-(d.ticketPriceList?null===(y=d.ticketPriceList)||void 0===y?void 0:y.reduce((C,f)=>C+((null==f?void 0:f.discountAmount)*(null==f?void 0:f.quantity)||0),0):0),priceList:null===(x=d.ticketPriceList)||void 0===x?void 0:x.map(C=>({code:C.code,type:C.type,net_price:C.baseFare+C.surCharge-C.beService,services_fee:C.beService,discount_amount:C.discountAmount,total_price:C.totalFare-C.discountAmount*C.quantity,quantity:C.quantity}))}});return{promotions:[...this.promoCodeBookingList.filter(d=>d.active),this.searchData.promotionCode?{type:"SEARCH",code:this.searchData.promotionCode,total:this.amountDiscount}:[]],priceLog:c,totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(e=this.ticketCur)||void 0===e?void 0:e.totalPrice)||0,totalPrice:((null===(n=this.ticketCur)||void 0===n?void 0:n.totalPrice)||0)-this.amountDiscount-r.totalPromoBook,totalPromoBook:r.totalPromoBook}}}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(yt.L),t.Y36(V.a2),t.Y36(st.oE),t.Y36(_.KNP),t.Y36(Ct),t.Y36(Qt.x),t.Y36(Ee),t.Y36(vt.gz),t.Y36(jn),t.Y36(Ae),t.Y36(vt.F0),t.Y36(Hn),t.Y36(Nt.J),t.Y36(re.x),t.Y36(J.qB),t.Y36(rt._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-booking"]],standalone:!0,features:[t.TTD,t.jDz],decls:138,vars:51,consts:[[1,"w-full","h-screen","!h-[100svh]","overflow-auto","bg-neutral-gray-1"],[1,"gap-x-1.5","hidden","md:flex","w-full","bg-white","py-2","px-4"],[1,"flex","justify-around","w-full","gap-x-4"],[1,"px-4","py-1.5","rounded-full","text-body-md-short","text-neutral-gray-4","border","border-transparent","w-fit","flex","justify-center",3,"click"],[1,"w-full","max-w-[1366px]","mx-auto","relative","flex","md:flex-col","pb-8","md:pt-2","pt-6","gap-6","md:gap-0"],[1,"flex-1","flex","flex-col","gap-6","md:gap-4","md:hidden"],[1,"px-4","md:px-3","flex","gap-x-[10px]","md:hidden"],["src","/assets/images/b2c/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4"],[1,"px-4","md:px-3","hidden","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium","md:flex"],["icon","circle_information","size","small"],[1,"flex","flex-col","gap-2","w-full","md:px-3"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","md:px-3","md:py-3","flex","flex-col","gap-4"],[1,"flex","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium","md:hidden"],[1,"flex","md:bg-white","flex-wrap","gap-y-2"],["class","flex flex-col justify-between pr-[30px] md:px-2 border-r border-dashed border-neutral-gray-3",4,"ngIf"],[1,"flex","flex-col","justify-between","pr-[30px]","md:px-2","border-r","border-dashed","border-neutral-gray-3",3,"ngClass"],[1,"text-body-md","md:text-body-xs","text-neutral-gray-4"],["class","font-semibold text-heading-lg md:text-heading-md",4,"ngIf","ngIfElse"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]","md:pl-2","min-h-10"],["class","font-semibold text-heading-lg md:text-body-sm whitespace-nowrap",4,"ngIf","ngIfElse"],["class","w-full rounded md:text-body-md bg-purple-1 py-[6px] px-3 text-neutral-gray-6",4,"ngIf"],["class","flex flex-col gap-4 w-full",4,"ngIf"],[1,"w-full","md:px-3","md:hidden"],[1,"p-6","md:p-2","bg-white","rounded-lg","flex","flex-col","gap-6","md:gap-4"],[1,"flex","items-center","w-full","justify-between","cursor-pointer",3,"click"],[1,"px-4","md:px-3","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium"],["size","small",3,"icon"],[4,"ngIf"],["class","p-6 md:p-0 bg-white rounded-lg",4,"ngIf"],[1,"w-full","md:px-3"],["cf-button","","type","secondary",1,"min-w-[100px]","w-full","justify-center","bg-neutral-white",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],[1,"flex","flex-col","gap-6","p-6","md:p-3","bg-white","rounded","px-4","md:px-0","shadow-lg"],[1,"flex","flex-col","gap-4","md:px-4"],[1,"text-heading-lg","font-bold","uppercase","md:text-heading-md"],[1,"flex","justify-between","md:flex-col","md:gap-3"],[1,"flex","gap-[10px]"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_148999)"],["x","0.5","y","12","width","16","height","16","rx","2","transform","rotate(-45 0.5 12)","fill","#FFECEB"],["d","M12 13C13.6569 13 15 11.6569 15 10C15 8.34315 13.6569 7 12 7C10.3431 7 9 8.34315 9 10C9 11.6569 10.3431 13 12 13Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M12 22C16 18 20 14.4183 20 10C20 5.58172 16.4183 2 12 2C7.58172 2 4 5.58172 4 10C4 14.4183 8 18 12 22Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_148999"],["width","24","height","24","fill","white"],[1,"text-body-md","font-semibold","text-neutral-gray-5"],[1,"text-neutral-gray-6","text-heading-md","font-medium"],["width","25","height","24","viewBox","0 0 25 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["clip-path","url(#clip0_1_149004)"],["x","1","y","12","width","16","height","16","rx","2","transform","rotate(-45 1 12)","fill","#FFECEB"],["d","M14.5497 6C15.5264 6.19057 16.424 6.66826 17.1277 7.37194C17.8314 8.07561 18.3091 8.97326 18.4997 9.95M14.5497 2C16.5789 2.22544 18.4713 3.13417 19.9159 4.57701C21.3606 6.01984 22.2717 7.91101 22.4997 9.94M10.7266 13.8631C9.52506 12.6615 8.57627 11.3028 7.88028 9.85323C7.82041 9.72854 7.79048 9.66619 7.76748 9.5873C7.68576 9.30695 7.74446 8.96269 7.91447 8.72526C7.96231 8.65845 8.01947 8.60129 8.13378 8.48698C8.48338 8.13737 8.65819 7.96257 8.77247 7.78679C9.20347 7.1239 9.20347 6.26932 8.77247 5.60643C8.65819 5.43065 8.48338 5.25585 8.13378 4.90624L7.93891 4.71137C7.40747 4.17993 7.14174 3.91421 6.85636 3.76987C6.2888 3.4828 5.61854 3.4828 5.05098 3.76987C4.7656 3.91421 4.49987 4.17993 3.96843 4.71137L3.8108 4.86901C3.28117 5.39863 3.01636 5.66344 2.81411 6.02348C2.58969 6.42298 2.42833 7.04347 2.4297 7.5017C2.43092 7.91464 2.51103 8.19687 2.67124 8.76131C3.53221 11.7947 5.15668 14.6571 7.54466 17.045C9.93264 19.433 12.795 21.0575 15.8284 21.9185C16.3928 22.0787 16.6751 22.1588 17.088 22.16C17.5462 22.1614 18.1667 22 18.5662 21.7756C18.9263 21.5733 19.1911 21.3085 19.7207 20.7789L19.8783 20.6213C20.4098 20.0898 20.6755 19.8241 20.8198 19.5387C21.1069 18.9712 21.1069 18.3009 20.8198 17.7333C20.6755 17.448 20.4098 17.1822 19.8783 16.6508L19.6835 16.4559C19.3339 16.1063 19.1591 15.9315 18.9833 15.8172C18.3204 15.3862 17.4658 15.3862 16.8029 15.8172C16.6271 15.9315 16.4523 16.1063 16.1027 16.4559C15.9884 16.5702 15.9313 16.6274 15.8644 16.6752C15.627 16.8453 15.2828 16.904 15.0024 16.8222C14.9235 16.7992 14.8612 16.7693 14.7365 16.7094C13.2869 16.0134 11.9282 15.0646 10.7266 13.8631Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_149004"],["width","24","height","24","fill","white","transform","translate(0.5)"],[1,"flex","flex-col","gap-3"],["clip-path","url(#clip0_1_149013)"],["d","M2 7L10.1649 12.7154C10.8261 13.1783 11.1567 13.4097 11.5163 13.4993C11.8339 13.5785 12.1661 13.5785 12.4837 13.4993C12.8433 13.4097 13.1739 13.1783 13.8351 12.7154L22 7M6.8 20H17.2C18.8802 20 19.7202 20 20.362 19.673C20.9265 19.3854 21.3854 18.9265 21.673 18.362C22 17.7202 22 16.8802 22 15.2V8.8C22 7.11984 22 6.27976 21.673 5.63803C21.3854 5.07354 20.9265 4.6146 20.362 4.32698C19.7202 4 18.8802 4 17.2 4H6.8C5.11984 4 4.27976 4 3.63803 4.32698C3.07354 4.6146 2.6146 5.07354 2.32698 5.63803C2 6.27976 2 7.11984 2 8.8V15.2C2 16.8802 2 17.7202 2.32698 18.362C2.6146 18.9265 3.07354 19.3854 3.63803 19.673C4.27976 20 5.11984 20 6.8 20Z","stroke","#E03C31","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_1_149013"],[1,"flex","gap-6","md:flex-col","md:px-4"],["cf-button","","type","solid",1,"min-w-[100px]","md:w-full","justify-center","gap-2","!bg-neutral-gray-5","!h-[48px]","flex","items-center","text-center","text-white","hover:bg-neutral-gray-5",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.75 12C1.75 6.61522 6.11522 2.25 11.5 2.25H13.5C18.8848 2.25 23.25 6.61522 23.25 12C23.25 17.3848 18.8848 21.75 13.5 21.75H6.5C3.87665 21.75 1.75 19.6234 1.75 17V12ZM11.5 3.75C6.94365 3.75 3.25 7.44365 3.25 12V17C3.25 18.7949 4.70507 20.25 6.5 20.25H13.5C18.0564 20.25 21.75 16.5563 21.75 12C21.75 7.44365 18.0564 3.75 13.5 3.75H11.5ZM7.75 10C7.75 9.58579 8.08579 9.25 8.5 9.25H16.5C16.9142 9.25 17.25 9.58579 17.25 10C17.25 10.4142 16.9142 10.75 16.5 10.75H8.5C8.08579 10.75 7.75 10.4142 7.75 10ZM7.75 14C7.75 13.5858 8.08579 13.25 8.5 13.25H12.5C12.9142 13.25 13.25 13.5858 13.25 14C13.25 14.4142 12.9142 14.75 12.5 14.75H8.5C8.08579 14.75 7.75 14.4142 7.75 14Z","fill","white"],["cf-button","","type","solid",1,"md:text-justify","min-w-[100px]","w-full","flex-1","justify-center","gap-2","!h-[48px]","flex","items-center","text-center","text-white",3,"click"],["fill-rule","evenodd","clip-rule","evenodd","d","M1.75 7C1.75 4.37665 3.87665 2.25 6.5 2.25H18.5C21.1234 2.25 23.25 4.37665 23.25 7V17C23.25 19.6234 21.1234 21.75 18.5 21.75H6.5C3.87665 21.75 1.75 19.6234 1.75 17V7ZM6.5 3.75C4.70507 3.75 3.25 5.20507 3.25 7V17C3.25 18.7949 4.70507 20.25 6.5 20.25H18.5C20.2949 20.25 21.75 18.7949 21.75 17V7C21.75 5.20507 20.2949 3.75 18.5 3.75H6.5ZM5.87596 7.58397C6.10573 7.23933 6.57138 7.1462 6.91603 7.37596L10.6972 9.89676C11.7889 10.6245 13.2111 10.6245 14.3028 9.89676L18.084 7.37596C18.4286 7.1462 18.8943 7.23933 19.124 7.58397C19.3538 7.92862 19.2607 8.39427 18.916 8.62404L15.1348 11.1448C13.5393 12.2085 11.4607 12.2085 9.86518 11.1448L6.08397 8.62404C5.73933 8.39427 5.6462 7.92862 5.87596 7.58397Z","fill","white"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","md:max-w-full","md:hidden","rounded-xl","md:rounded-none","md:px-2","md:mt-3"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","md:rounded-none","rounded-xl","flex","flex-col","gap-6","h-fit","md:static","md:max-w-full","sticky","top-0"],[1,"p-6","md:p-2","bg-white","rounded-lg","md:flex","md:flex-col","hidden","gap-6","md:gap-4"],[1,"flex","flex-col","gap-2"],["class","w-full hidden md:flex md:flex-col pl-3 pb-2",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-neutral-white","rounded-xl","md:rounded-none","shadow-lg"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],["class","rounded-b-xl",3,"searchInput","ticketCur","hiddenBtn","showDetail",4,"ngIf"],[1,"p-4","flex","flex-col","divide-y","divide-neutral-gray-4"],[1,""],["class","flex flex-col gap-2 pt-3",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","md:rounded-none","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[3,"bookingContact","invoiceInfo","bookingPassengers","amountDiscount",4,"ngIf"],["emptyTabComboItemTpl",""],[1,"flex","flex-col","justify-between","pr-[30px]","md:px-2","border-r","border-dashed","border-neutral-gray-3"],[1,"font-semibold","text-heading-lg","md:text-heading-md"],[1,"font-semibold","text-heading-lg","md:text-body-sm","whitespace-nowrap"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"md:hidden","text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],[1,"w-full","rounded","md:text-body-md","bg-purple-1","py-[6px]","px-3","text-neutral-gray-6"],["href","https://giacmobayre.vn/tra-cuu-don-hang.html",1,"cursor-pointer","text-red-4"],["href","https://giacmobayre.vn",1,"cursor-pointer","text-red-4"],[1,"flex","flex-col","gap-4","w-full"],[1,"flex","gap-2","items-center"],[1,"text-neutral-gray-6","font-medium","text-body-lg"],[1,"text-body-md-short","text-neutral-gray-6"],[1,"w-full","flex","flex-col","md:hidden"],[1,"flex","items-center","justify-between","w-full","py-3","mb-2","border-b","border-neutral-gray-3"],[1,"text-neutral-gray-4","font-semibold","text-body-sm","flex-1","px-3","w-5/12"],[1,"text-neutral-gray-4","font-semibold","text-body-sm","flex-1","px-3","w-2/12"],[1,"text-neutral-gray-4","font-semibold","text-body-sm","flex-1","px-3","w-3/12"],["class","w-full mt-2",4,"ngIf"],[1,"w-full","mt-2"],["class","py-2 flex items-center justify-between w-full",4,"ngFor","ngForOf"],[1,"py-2","flex","items-center","justify-between","w-full"],[1,"text-neutral-gray-6","text-body-md","flex-1","px-3","w-5/12"],[1,"text-neutral-gray-6","text-body-md","flex-1","px-3","w-2/12"],[1,"text-neutral-gray-6","text-body-md","flex-1","px-3","w-3/12"],[1,"w-full","hidden","md:flex","md:flex-col","pl-3","pb-2",3,"ngClass"],[1,"flex","gap-2","items-center","py-1"],[1,"text-neutral-gray-4","text-body-sm"],[1,"text-neutral-gray-6","text-body-md","font-medium"],["class","flex gap-2 items-center py-1",4,"ngIf"],[1,"p-6","md:p-0","bg-white","rounded-lg"],[3,"orderId","updateTimeExpired","timeExpiredChange","isPaymentCompletedChange"],[1,"rounded-b-xl",3,"searchInput","ticketCur","hiddenBtn","showDetail"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","flex-col","divide-y","divide-neutral-gray-4"],[1,"flex","flex-col","gap-3","pb-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs"],["class","flex justify-between gap-2 items-center",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3","py-3"],[1,"flex","justify-between","gap-2","items-center"],[1,"text-neutral-gray-5","text-body-md-short"],[1,"text-neutral-gray-6","font-medium","text-body-md","whitespace-normal"],[1,"flex","flex-col","gap-2","py-3"],[1,"flex","flex-col","gap-2","pt-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs","mb-1"],["class","flex justify-between",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"flex","justify-between"],[3,"bookingContact","invoiceInfo","bookingPassengers","amountDiscount"],[1,"w-28","md:w-20","bg-neutral-gray-2","h-8","mt-1","rounded-md","animate-pulse"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0),t._UZ(1,"header-btc"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3),t.NdJ("click",function(){return n.stepMobileChange(n.StepMobile.Order)}),t._uU(5," Chi ti\u1ebft \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(6,"div",3),t.NdJ("click",function(){return n.stepMobileChange(n.StepMobile.Pas)}),t._uU(7," Th\xf4ng tin h\xe0nh kh\xe1ch "),t.qZA()()(),t.TgZ(8,"div",4)(9,"div",5)(10,"div",6),t._UZ(11,"img",7),t.TgZ(12,"div",8),t._uU(13,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),t.qZA()(),t.TgZ(14,"div",9),t._UZ(15,"cf-icon",10),t._uU(16," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(17,"div",11)(18,"div",12)(19,"div",13),t._UZ(20,"cf-icon",10),t._uU(21," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(22,"div",14),t.YNc(23,Gn,4,2,"div",15),t.TgZ(24,"div",16)(25,"div",17),t._uU(26," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.YNc(27,Kn,4,7,"div",18),t.qZA(),t.TgZ(28,"div",19)(29,"div",17),t._uU(30," Tr\u1ea1ng th\xe1i "),t.qZA(),t.YNc(31,zn,2,1,"div",20),t.qZA()(),t.YNc(32,Wn,9,4,"div",21),t.YNc(33,Xn,13,0,"div",21),t.YNc(34,to,9,0,"div",21),t.YNc(35,eo,10,4,"div",21),t.YNc(36,io,20,0,"div",22),t.YNc(37,no,25,3,"div",22),t.YNc(38,oo,14,13,"div",22),t.qZA()(),t.TgZ(39,"div",23)(40,"div",24)(41,"div",25),t.NdJ("click",function(){return n.expandInfoPax=!n.expandInfoPax}),t.TgZ(42,"div",26),t._uU(43," Th\xf4ng tin h\xe0nh kh\xe1ch "),t.qZA(),t._UZ(44,"cf-icon",27),t.qZA(),t.YNc(45,so,14,2,"ng-container",28),t.qZA()(),t.YNc(46,uo,2,1,"div",29),t.TgZ(47,"div",30)(48,"button",31),t.NdJ("click",function(){return n.onBack()}),t._UZ(49,"cf-icon",32),t._uU(50," T\xecm ki\u1ebfm chuy\u1ebfn bay kh\xe1c "),t.qZA()(),t.TgZ(51,"div",33)(52,"div",34)(53,"div",35),t._uU(54," Li\xean h\u1ec7 "),t.qZA(),t.TgZ(55,"div",36)(56,"div",37),t.O4$(),t.TgZ(57,"svg",38)(58,"g",39),t._UZ(59,"rect",40)(60,"path",41)(61,"path",42),t.qZA(),t.TgZ(62,"defs")(63,"clipPath",43),t._UZ(64,"rect",44),t.qZA()()(),t.kcU(),t.TgZ(65,"div")(66,"div",45),t._uU(67," Website "),t.qZA(),t.TgZ(68,"div",46),t._uU(69," giacmobayre.vn "),t.qZA()()(),t.TgZ(70,"div",37),t.O4$(),t.TgZ(71,"svg",47)(72,"g",48),t._UZ(73,"rect",49)(74,"path",50),t.qZA(),t.TgZ(75,"defs")(76,"clipPath",51),t._UZ(77,"rect",52),t.qZA()()(),t.kcU(),t.TgZ(78,"div",53)(79,"div")(80,"div",45),t._uU(81," Mr Th\u01b0\u1edfng "),t.qZA(),t.TgZ(82,"div",46),t._uU(83," 0915522425 "),t.qZA()()()(),t.TgZ(84,"div",37),t.O4$(),t.TgZ(85,"svg",38)(86,"g",54),t._UZ(87,"rect",40)(88,"path",55),t.qZA(),t.TgZ(89,"defs")(90,"clipPath",56),t._UZ(91,"rect",44),t.qZA()()(),t.kcU(),t.TgZ(92,"div")(93,"div",45),t._uU(94," Email "),t.qZA(),t.TgZ(95,"div",46),t._uU(96," info@giacmobayre.vn "),t.qZA()()()()(),t.TgZ(97,"div",57)(98,"button",58),t.NdJ("click",function(){return n.openNewTab("https://zalo.me/3323580350383162398")}),t._uU(99," T\u01b0 v\u1ea5n cho t\xf4i "),t.O4$(),t.TgZ(100,"svg",47),t._UZ(101,"path",59),t.qZA()(),t.kcU(),t.TgZ(102,"button",60),t.NdJ("click",function(){return n.openNewTab("https://zalo.me/3323580350383162398")}),t._uU(103," Nh\u1eadn nh\u1eefng ch\u01b0\u01a1ng tr\xecnh h\u1ee3p t\xe1c, \u01b0u \u0111\xe3i v\xe0 tin t\u1ee9c t\u1eeb GMBR "),t.O4$(),t.TgZ(104,"svg",47),t._UZ(105,"path",61),t.qZA()()()()(),t.kcU(),t.TgZ(106,"div",62)(107,"div",63)(108,"div",64)(109,"div",65),t.YNc(110,_o,17,7,"div",66),t.qZA()(),t.TgZ(111,"div",67)(112,"div",68)(113,"div",69),t._uU(114,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(115,"div"),t.YNc(116,go,1,3,"btc-ticket-sticky-selected",70),t.qZA()(),t.TgZ(117,"div",67)(118,"div",68)(119,"div",69),t._uU(120,"Chi ti\u1ebft thanh to\xe1n"),t.qZA()(),t.TgZ(121,"div",71)(122,"div",72),t.YNc(123,yo,4,2,"ng-container",28),t.qZA(),t.YNc(124,ko,6,5,"div",73),t.qZA(),t.TgZ(125,"div",74)(126,"div",69),t._uU(127,"T\u1ed5ng thanh to\xe1n:"),t.qZA(),t.TgZ(128,"div",75),t._uU(129),t.ALo(130,"replace"),t.ALo(131,"number"),t.ALo(132,"mapper"),t.qZA()()(),t.TgZ(133,"div"),t.YNc(134,Eo,1,4,"btc-ticket-sticky-booking",76),t.qZA()()()(),t._UZ(135,"footer-btc"),t.qZA(),t.YNc(136,Do,1,0,"ng-template",null,77,t.W1O)),2&e){const o=t.MAs(137);t.xp6(4),t.ekj("text-secondary-3-4",n.stepMobile===n.StepMobile.Order)("!border-secondary-3-4",n.stepMobile===n.StepMobile.Order)("bg-secondary-3-1",n.stepMobile===n.StepMobile.Order)("!text-espressive-md-short",n.stepMobile===n.StepMobile.Order),t.xp6(2),t.ekj("text-secondary-3-4",n.stepMobile===n.StepMobile.Pas)("!border-secondary-3-4",n.stepMobile===n.StepMobile.Pas)("bg-secondary-3-1",n.stepMobile===n.StepMobile.Pas)("!text-espressive-md-short",n.stepMobile===n.StepMobile.Pas),t.xp6(3),t.ekj("!flex",n.stepMobile===n.StepMobile.Order),t.xp6(14),t.Q6J("ngIf","PAYMENT_PROCESSING"!==(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)&&"CANCELLED"!==(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(1),t.Q6J("ngClass","PAYMENT_PROCESSING"!==(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)?"pl-[30px]":"pl-0"),t.xp6(3),t.Q6J("ngIf",null==n.bookingData?null:n.bookingData.booking)("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",(null==n.bookingData?null:n.bookingData.booking)&&(null==n.bookingData.booking?null:n.bookingData.booking.state))("ngIfElse",o),t.xp6(1),t.Q6J("ngIf","PAYMENT_PROCESSING"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(1),t.Q6J("ngIf","PAYMENT_SUCCESS"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(1),t.Q6J("ngIf","REFUNDED"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(1),t.Q6J("ngIf","CANCELLED"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(1),t.Q6J("ngIf","FAILED"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(1),t.Q6J("ngIf","SUCCESS"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(1),t.Q6J("ngIf","PAYMENT_SUCCESS"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(6),t.Q6J("icon",n.expandInfoPax?"chevron_up":"chevron_down"),t.xp6(1),t.Q6J("ngIf",n.expandInfoPax),t.xp6(1),t.Q6J("ngIf",n.orderId&&"PAYMENT_PROCESSING"===(null==n.bookingData||null==n.bookingData.booking?null:n.bookingData.booking.state)),t.xp6(60),t.ekj("!flex",n.stepMobile===n.StepMobile.Pas),t.xp6(4),t.Q6J("ngForOf",null==n.bookingData?null:n.bookingData.bookingPassengers),t.xp6(6),t.Q6J("ngIf",n.ticketCur),t.xp6(7),t.Q6J("ngIf",(null==n.ticketCur?null:n.ticketCur.ticketSelected)&&(null==n.ticketCur||null==n.ticketCur.ticketSelected?null:n.ticketCur.ticketSelected.length)),t.xp6(1),t.Q6J("ngIf",n.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(130,42,t.lcZ(131,46,((null==n.ticketCur?null:n.ticketCur.totalPrice)||0)-n.amountDiscount-t.xi3(132,48,n.promoCodeBookingList,n.amountDiscountPromoBooking)),",",".")," \u0111 "),t.xp6(5),t.Q6J("ngIf",n.bookingData)}},dependencies:[m.ez,m.mk,m.sg,m.O5,m.RF,m.n9,m.ED,m.JJ,m.uU,jt,nt.AS,_.AxE,_.Sm8,j.N8,j.Xq,yn,V.DW,Ze,Ce,Te,ee.s,te.Q,tt.q],styles:["[_nghost-%COMP%]{display:block}"]}),i})();var K=v(37340),Zo=v(88605),ft=v(88516),Ht=v(97855),ce=v(3948),xt=v(98184),Ie=v(84080),Se=v(29521),Bo=v(56451),Vt=v(39300),le=v(95698);function wo(i,a){if(1&i&&(t.TgZ(0,"div",10),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.data.subHeaderTitle," ")}}function Io(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t._uU(4),t.qZA(),t.YNc(5,wo,2,1,"div",8),t.qZA(),t.TgZ(6,"button",9),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.exit())}),t._uU(7,"\u2715"),t.qZA()(),t.BQk()}if(2&i){const e=t.oxw();t.xp6(4),t.Oqu(e.data.headerTitle),t.xp6(1),t.Q6J("ngIf",e.data.subHeaderTitle)}}function So(i,a){}const Fo=function(i){return{"max-w-full":i}},Fe=new t.OlP("CFDrawerData"),Ne=new t.OlP("CFDrawerContainerData");class No{constructor(){this.data=null,this.hasBackdrop=!0,this.backdropClass="cf-drawer-backdrop",this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0,this.subHeaderTitle="",this.headerTitle="",this.hasHeader=!0,this.maxWidth="auto"}}const qo={drawerState:(0,K.X$)("state",[(0,K.SB)("visible",(0,K.oB)({transform:"translateX(0)"})),(0,K.SB)("hidden",(0,K.oB)({transform:"translateX(100%)"})),(0,K.eR)("hidden => visible",(0,K.jt)("300ms ease-out")),(0,K.eR)("visible => hidden",(0,K.jt)("300ms ease-in"))])};let Oo=(()=>{class i extends Ht.LL{constructor(e,n,o,r,c,l,p,d,g,y,x){super(o,r,c,l,p,d,g,x),this.data=n,this._changeDetectorRef=y,this._animationState="hidden",this._animationStateChanged=new t.vpe,e.registerIcons([_.UNF,_.rks])}ngAfterViewInit(){this.enter()}enter(){this._animationState="visible",this._changeDetectorRef.detectChanges()}exit(){this._animationState="hidden",this._changeDetectorRef.markForCheck()}ngOnDestroy(){super.ngOnDestroy()}_onAnimationDone(e){this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_captureInitialFocus(){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(Ne),t.Y36(t.SBq),t.Y36(ce.qV),t.Y36(m.K0,8),t.Y36(Ht.ib),t.Y36(ce.ic),t.Y36(t.R0b),t.Y36(xt.Iu),t.Y36(t.sBO),t.Y36(ce.tE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cf-drawer-container"]],hostAttrs:["tabindex","-1",1,"cf-drawer-container"],features:[t.qOj],decls:5,vars:5,consts:[[1,"cf-drawer-backdrop",3,"click"],[1,"cf-drawer-wrapper","flex","flex-col",3,"ngClass"],[4,"ngIf"],[1,"flex","flex-1","overflow-hidden"],["cdkPortalOutlet",""],[1,"header"],[1,"flex","flex-col","gap-[6px]","items-start","justify-between"],[1,"text-heading-md","font-medium","text-neutral-gray-6"],["class","text-body-sm text-neutral-gray-6",4,"ngIf"],[3,"click"],[1,"text-body-sm","text-neutral-gray-6"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("click",function(){return n.exit()}),t.qZA(),t.TgZ(1,"div",1),t.NdJ("@state.start",function(r){return n._onAnimationStart(r)})("@state.done",function(r){return n._onAnimationDone(r)}),t.YNc(2,Io,8,2,"ng-container",2),t.TgZ(3,"div",3),t.YNc(4,So,0,0,"ng-template",4),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("@state",n._animationState)("ngClass",t.VKq(3,Fo,"full"===n.data.maxWidth)),t.xp6(1),t.Q6J("ngIf",n.data.hasHeader))},dependencies:[m.mk,m.O5,Ie.Pl],styles:[".cf-drawer-wrapper[_ngcontent-%COMP%]{width:auto;background-color:#fff;height:100vh;position:fixed;top:0;right:0;box-shadow:-4px 0 10px #0000001a;z-index:66}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-bottom:1px solid #ddd}.cf-drawer-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0009;z-index:63;transition:opacity .3s ease}"],data:{animation:[qo.drawerState]},changeDetection:0}),i})();class qe{constructor(a,e,n){this._dialogRef=a,this.config=e,this._afterOpened=new Bt.x,this.containerInstance=n,this.disableClose=e.disableClose,n._animationStateChanged.pipe((0,Vt.h)(o=>"done"===o.phaseName&&"visible"===o.toState),(0,le.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe((0,Vt.h)(o=>"done"===o.phaseName&&"hidden"===o.toState),(0,le.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._dialogRef.close(this._result)}),a.overlayRef.detachments().subscribe(()=>{this._dialogRef.close(this._result)}),(0,Bo.T)(this.backdropClick(),this.keydownEvents().pipe((0,Vt.h)(o=>o.keyCode===Se.hY))).subscribe(o=>{(!this.disableClose||"keydown"!==o.type||!(0,Se.Vb)(o))&&(o.preventDefault(),this.dismiss())})}get instance(){return this._dialogRef.componentInstance}dismiss(a){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe((0,Vt.h)(e=>"start"===e.phaseName),(0,le.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._dialogRef.close(this._result)},e.totalTime+100),this._dialogRef.overlayRef.detachBackdrop()}),this._result=a,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._dialogRef.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._dialogRef.backdropClick}keydownEvents(){return this._dialogRef.keydownEvents}}let Oe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[m.ez,Ie.eL,Ht.Su,_.AxE]}),i})();const Po=new t.OlP("MAT_DRAWER_DEFAULT_OPTIONS");let Mo=(()=>{class i{constructor(e,n,o){this._overlay=e,this._defaultOptions=o,this._drawerRef=null,this._dialog=n.get(Ht.Vq)}open(e,n){const o={...new No,...n};let r;return this._dialog.open(e,{...o,container:{type:Oo,providers:()=>[{provide:Ne,useValue:o}]},scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().right("0").top("0"),templateContext:()=>({drawerRef:r}),providers:(l,p,d)=>(r=new qe(l,o,d),[{provide:qe,useValue:r},{provide:Fe,useValue:o.data}])}),this._drawerRef=r,r}dismiss(e){var n;null===(n=this._drawerRef)||void 0===n||n.dismiss(e),this._drawerRef=null}ngOnDestroy(){this.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(xt.aV),t.LFG(t.zs3),t.LFG(Po,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:Oe}),i})();var Pt=v(24513);const Pe=[{name:"00:00 - 06:00",actived:!1,describe:"S\xe1ng s\u1edbm",start:"00:00",end:"05:59",disabled:!1,startTime:0,endTime:360},{name:"06:00 - 12:00",actived:!1,describe:"Bu\u1ed5i s\xe1ng",start:"06:00",end:"11:59",disabled:!1,startTime:360,endTime:720},{name:"12:00 - 18:00",actived:!1,describe:"Bu\u1ed5i chi\u1ec1u",start:"12:00",end:"17:59",disabled:!1,startTime:720,endTime:1080},{name:"18:00 - 00:00",actived:!1,describe:"Bu\u1ed5i t\u1ed1i",start:"18:00",end:"23:59",disabled:!1,startTime:1080,endTime:1440}],Uo={showNetPrice:!1,hideFareClass:!1,showDuration:!0},Jo={showDiscountFare:!0,showTotalPrice:!1},Me={direct:!1,oneRoute:!1,moreRoute:!1},Lo=[{name:"Nam",code:"male"},{name:"N\u1eef",code:"female"}],Ue=[{name:"LCC",code:"lcc",actived:!1},{name:"NDC",code:"ndc",actived:!1},{name:"Private Fare",code:"privateFare",actived:!1}],Ro=[{code:"inland",name:"C\xe1c h\xe3ng n\u1ed9i \u0111\u1ecba",actived:!1},{code:"BSP",name:"H\u1ec7 th\u1ed1ng 1A",actived:!1},{code:"AIR_1G",name:"H\u1ec7 th\u1ed1ng 1G",actived:!1},{code:"Lcc",name:"H\u1ec7 th\u1ed1ng LCC",actived:!1}],Je={min_price:"Gi\xe1 (th\u1ea5p nh\u1ea5t)",max_price:"Gi\xe1 (cao nh\u1ea5t)",min_flight:"Bay (ng\u1eafn nh\u1ea5t)",max_flight:"Bay (d\xe0i nh\u1ea5t)",earliest_departure:"Kh\u1edfi h\xe0nh (s\u1edbm nh\u1ea5t)",late_departure:"Kh\u1edfi h\xe0nh (mu\u1ed9n nh\u1ea5t)",earliest_arrival:"H\u1ea1 c\xe1nh (s\u1edbm nh\u1ea5t)",late_arrival:"H\u1ea1 c\xe1nh (mu\u1ed9n nh\u1ea5t)"};var L=v(43429),wt=v(74523),Mt=(()=>{return(i=Mt||(Mt={}))[i.LIST=0]="LIST",i[i.PASSENGER=1]="PASSENGER",i[i.BOOKING=2]="BOOKING",Mt;var i})();let jo=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,L.D)(()=>Qo),(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})(),Qo=(()=>{class i{}return(0,s.gn)([(0,u.C)(),(0,L.D)(()=>Yo),(0,wt.w)(({value:a,obj:e})=>(null==a||a.forEach(n=>{var o;n.comboInfo&&(n.comboInfo.discountPercentageDetail=e.discountPercentageDetail),null===(o=n.journeys)||void 0===o||o.forEach(r=>{r.discountPercentageDetail=e.discountPercentageDetail,r.fareRuleClassesObj=e.fareRuleClasses.reduce((c,l)=>Object.assign(Object.assign({},c),{[`${l.airline}-${l.fareClass}`]:l.rules}),{}),r.fareRulesObj=e.fareRules.reduce((c,l)=>Object.assign(Object.assign({},c),{[`${l.airline}-${l.fareClass}`]:l.rules}),{})})}),a))],i.prototype,"flightOptions",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"itinerary",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"session",void 0),(0,s.gn)([(0,L.D)(()=>Vo),(0,u.C)()],i.prototype,"fareRules",void 0),(0,s.gn)([(0,L.D)(()=>Ko),(0,u.C)()],i.prototype,"fareRuleClasses",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"discountPercentageDetail",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"sessionSearchKey",void 0),i})(),Yo=(()=>{class i{}return(0,s.gn)([(0,u.C)(),(0,L.D)(()=>se),(0,wt.w)(({value:a,obj:e})=>a?(a.provider=e.provider,a.flightType=e.flightType,a):null)],i.prototype,"comboInfo",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"flightType",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"provider",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"type",void 0),(0,s.gn)([(0,u.C)(),(0,L.D)(()=>Tt),(0,wt.w)(({value:a,obj:e})=>a?(null==a||a.forEach(n=>{n.provider=e.provider,n.flightType=e.flightType}),a):null)],i.prototype,"journeys",void 0),i})(),Ho=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"en",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"vn",void 0),i})(),Vo=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"airline",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareClass",void 0),(0,s.gn)([(0,L.D)(()=>Go),(0,u.C)()],i.prototype,"rules",void 0),i})(),Go=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"cateCode",void 0),(0,s.gn)([(0,L.D)(()=>Ho),(0,u.C)()],i.prototype,"desc",void 0),(0,s.gn)([(0,L.D)(()=>Le),(0,u.C)()],i.prototype,"items",void 0),i})(),Le=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"name",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"value",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"cate",void 0),i})(),Ko=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"airline",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareClass",void 0),(0,s.gn)([(0,L.D)(()=>Le),(0,u.C)()],i.prototype,"rules",void 0),i})(),$o=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"type",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"code",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"quantity",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"baseFare",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"surCharge",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"beService",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"totalFare",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"discountAmount",void 0),i})(),Tt=(()=>{class i{constructor(){this.idxSelected=null}get ndcTimeLimit(){var e;return(null===(e=this.fareOptions[0])||void 0===e?void 0:e.ndcTimeLimit)||0}get IDF(){var e,n,o,r,c;return["VN","BL"].includes(this.airline)?this.airline+"-"+(null===(n=null===(e=this.fareOptions[0])||void 0===e?void 0:e.fareInfos[0])||void 0===n?void 0:n.fareClass.toUpperCase()):this.airline+"-"+(null===(c=null===(r=null===(o=this.fareOptions[0])||void 0===o?void 0:o.fareInfos[0])||void 0===r?void 0:r.fareType.code)||void 0===c?void 0:c.toUpperCase())}get durationStr(){return Ut(this.duration)}get startPoint(){return this.departure.airport.code}get endPoint(){return this.arrival.airport.code}get flightNumber(){return`${this.airline} ${this.segments[0].flightNumber}`}get refundableFare(){var e;return!(null===(e=this.fareOptions.find(n=>n.refundableFare))||void 0===e||!e.refundableFare)||!1}get food(){return!1}get totalPrice(){var e;return bt((null===(e=this.fareCur)||void 0===e?void 0:e.fareAmountBreakdowns)||[])}get netPrice(){var e;const n=null===(e=this.fareCur)||void 0===e?void 0:e.fareAmountBreakdowns.find(c=>"ADULT"===c.type);let o=0;return o+=((null==n?void 0:n.charges.filter(c=>"FARE"===c.chargeType.code))||[]).reduce((c,l)=>c+l.charge.base,0),o}get discountData(){var e;const n=null===(e=this.fareCur)||void 0===e?void 0:e.key;return n&&this.discountPercentageDetail?this.discountPercentageDetail[n]||this.discountPercentageDetail[this.airline]:null}get chosenFares(){return this.fareOptions.every(e=>0===e.seatRemain)?this.fareOptions:zo(this.fareOptions)}get fareCur(){return this.chosenFares.every(e=>0===e.seatRemain)?this.chosenFares[0]:Wo(this.chosenFares,this.idxSelected)}get bookedInfo(){var e;return(null===(e=this.segments.find(n=>n.bookedInfo))||void 0===e?void 0:e.bookedInfo)||null}get returnDateTooltip(){return"H\u1ea1 c\xe1nh ng\xe0y "+(0,m.p6)(new Date(this.arrival.localTime),"dd/MM/yyyy","vi-VN")}get isNdcFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.ndcFare)||!1}get isLccFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.lccFare)||!1}get privateFare(){var e;return(null===(e=this.fareCur)||void 0===e?void 0:e.privateFare)||!1}get is1A(){return"BSP"===this.provider}get is1G(){return"AIR_1G"===this.provider}get isGDS(){return"GDS"===this.provider}get logoAirline(){return"assets/airline-logo/"+this.operating+".png"}}return(0,s.gn)([(0,u.C)()],i.prototype,"airline",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"cancel",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"airlineName",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"duration",void 0),(0,s.gn)([(0,L.D)(()=>ta),(0,u.C)()],i.prototype,"fareOptions",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"key",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"leg",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"numOfStops",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"operating",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"operatingName",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareRuleClassesObj",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareRulesObj",void 0),(0,s.gn)([(0,u.C)(),(0,L.D)(()=>sa),(0,wt.w)(({value:a,obj:e})=>{if("VN"===e.airline&&Array.isArray(a)){for(let n=0;n<a.length-1;n++)a[n+1].delaySt=Ut(a[n].delay),a[n].delaySt="";return a}return a.forEach(n=>{n.delaySt=n.delay?Ut(n.delay):""}),a})],i.prototype,"segments",void 0),(0,s.gn)([(0,L.D)(()=>Gt),(0,u.C)()],i.prototype,"departure",void 0),(0,s.gn)([(0,L.D)(()=>Gt),(0,u.C)()],i.prototype,"arrival",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"dataChange",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"typeChange",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"expireTime",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"stopOvernight",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareClass",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"numberStop",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareRulesData",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareRuleClassesData",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"provider",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"flightType",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"discountPercentageDetail",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"idxSelected",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"ndcTimeLimit",null),(0,s.gn)([(0,u.C)()],i.prototype,"IDF",null),(0,s.gn)([(0,u.C)()],i.prototype,"durationStr",null),(0,s.gn)([(0,u.C)()],i.prototype,"startPoint",null),(0,s.gn)([(0,u.C)()],i.prototype,"endPoint",null),(0,s.gn)([(0,u.C)()],i.prototype,"flightNumber",null),(0,s.gn)([(0,u.C)()],i.prototype,"refundableFare",null),(0,s.gn)([(0,u.C)()],i.prototype,"food",null),(0,s.gn)([(0,u.C)()],i.prototype,"totalPrice",null),(0,s.gn)([(0,u.C)()],i.prototype,"netPrice",null),(0,s.gn)([(0,u.C)()],i.prototype,"discountData",null),(0,s.gn)([(0,u.C)()],i.prototype,"chosenFares",null),(0,s.gn)([(0,u.C)()],i.prototype,"fareCur",null),(0,s.gn)([(0,u.C)()],i.prototype,"bookedInfo",null),(0,s.gn)([(0,u.C)()],i.prototype,"returnDateTooltip",null),(0,s.gn)([(0,u.C)()],i.prototype,"isNdcFare",null),(0,s.gn)([(0,u.C)()],i.prototype,"isLccFare",null),(0,s.gn)([(0,u.C)()],i.prototype,"privateFare",null),(0,s.gn)([(0,u.C)()],i.prototype,"is1A",null),(0,s.gn)([(0,u.C)()],i.prototype,"is1G",null),(0,s.gn)([(0,u.C)()],i.prototype,"isGDS",null),(0,s.gn)([(0,u.C)()],i.prototype,"logoAirline",null),i})();const zo=i=>{const a=i.reduce((n,o)=>{const r=o.cabinName.toUpperCase();return Object.assign(Object.assign({},n),{[r]:n[r]?[...n[r],o]:[o]})},{});return Object.values(a).map(n=>{const o=n.filter(r=>r.seatRemain>0);return o.length>0?o.reduce((r,c)=>bt(c.fareAmountBreakdowns)<bt(r.fareAmountBreakdowns)?c:r):n.reduce((r,c)=>bt(c.fareAmountBreakdowns)<bt(r.fareAmountBreakdowns)?c:r)})},Wo=(i,a)=>a?i[a]:i.reduce((e,n)=>{var o;return null!==(o=n.fareInfos[0])&&void 0!==o&&o.seatRemain&&(!e||bt(n.fareAmountBreakdowns)<bt(e.fareAmountBreakdowns))?n:e},null),bt=i=>{var a;return(null===(a=i.find(e=>"ADULT"===e.type))||void 0===a?void 0:a.charges.reduce((e,n)=>e+n.charge.total,0))||0},Ut=i=>{if(i<60)return`${i}p`;const a=Math.floor(i/60);return`${a}h ${i-60*a}p`};let ta=(()=>{class i{get seatRemain(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.seatRemain)||0}get cabinName(){var e,n;return(null===(n=null===(e=this.fareInfos[0])||void 0===e?void 0:e.cabin)||void 0===n?void 0:n.name)||""}get fareClass(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.fareClass)||""}get cabinCode(){var e,n;return(null===(n=null===(e=this.fareInfos[0])||void 0===e?void 0:e.cabin)||void 0===n?void 0:n.code)||""}get fareCode(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.fareType.code)||""}get fareName(){var e;return(null===(e=this.fareInfos[0])||void 0===e?void 0:e.fareType.description)||""}get getTotalAmount(){var e;let n=0;const o=null===(e=this.fareAmountBreakdowns)||void 0===e?void 0:e.find(r=>"ADULT"===r.type);return n+=o?o.getTotalCharge:0,n}}return(0,s.gn)([(0,u.C)()],i.prototype,"key",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"comboRefs",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"journeyFareClass",void 0),(0,s.gn)([(0,L.D)(()=>ia),(0,u.C)()],i.prototype,"fareAmountBreakdowns",void 0),(0,s.gn)([(0,L.D)(()=>ea),(0,u.C)()],i.prototype,"fareInfos",void 0),(0,s.gn)([(0,L.D)(()=>Re),(0,u.C)()],i.prototype,"currency",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"rules",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"privateFare",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"lccFare",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"ndcFare",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"refundableFare",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"ndcTimeLimit",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"seatRemain",null),(0,s.gn)([(0,u.C)()],i.prototype,"cabinName",null),(0,s.gn)([(0,u.C)()],i.prototype,"fareClass",null),(0,s.gn)([(0,u.C)()],i.prototype,"cabinCode",null),(0,s.gn)([(0,u.C)()],i.prototype,"fareCode",null),(0,s.gn)([(0,u.C)()],i.prototype,"fareName",null),(0,s.gn)([(0,u.C)()],i.prototype,"getTotalAmount",null),i})(),ea=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"fareClass",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"seatRemain",void 0),(0,s.gn)([(0,L.D)(()=>la),(0,u.C)()],i.prototype,"cabin",void 0),(0,s.gn)([(0,L.D)(()=>ca),(0,u.C)()],i.prototype,"fareType",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"checkedBags",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"carryOnBags",void 0),i})(),ia=(()=>{class i{get getTotalCharge(){return this.charges.map(e=>e.charge.total).reduce((e,n)=>e+n)}}return(0,s.gn)([(0,u.C)()],i.prototype,"type",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"changeType",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"dataChange",void 0),(0,s.gn)([(0,L.D)(()=>na),(0,u.C)()],i.prototype,"charges",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"totalFare",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"change",void 0),i})(),na=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"key",void 0),(0,s.gn)([(0,L.D)(()=>aa),(0,u.C)()],i.prototype,"chargeType",void 0),(0,s.gn)([(0,L.D)(()=>oa),(0,u.C)()],i.prototype,"charge",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"description",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"extra",void 0),i})(),oa=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"base",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"tax",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"applied",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"surCharge",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"total",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"discount",void 0),(0,s.gn)([(0,L.D)(()=>Re),(0,u.C)()],i.prototype,"currency",void 0),i})(),Re=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"baseCurrency",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"code",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"description",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"exchangeRate",void 0),i})(),aa=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"code",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"type",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"category",void 0),(0,s.gn)([(0,L.D)(()=>ra),(0,u.C)()],i.prototype,"description",void 0),i})(),ra=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"en",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"vi",void 0),i})(),ca=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"code",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"description",void 0),i})(),la=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"code",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"description",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"name",void 0),i})(),sa=(()=>{class i{get durationStr(){return Ut(this.duration)}get durationStrMobile(){return(i=>{if(i<60)return`${i} ph\xfat`;const a=Math.floor(i/60);return`${a} gi\u1edd ${i-60*a} ph\xfat`})(this.duration)}get startTime(){return this.departure.localTime}get endTime(){return this.arrival.localTime}get startPoint(){return this.departure.airport.code}get endPoint(){return this.arrival.airport.code}get logoAirline(){return"assets/airline-logo/"+this.operating+".png"}}return(0,s.gn)([(0,u.C)()],i.prototype,"key",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"cancel",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"index",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"airline",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"airlineName",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"duration",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"delay",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"delaySt",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"flightNumber",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"operating",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"operatingName",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"stopPoint",void 0),(0,s.gn)([(0,L.D)(()=>Gt),(0,u.C)()],i.prototype,"departure",void 0),(0,s.gn)([(0,L.D)(()=>Gt),(0,u.C)()],i.prototype,"arrival",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"bookingClassArr",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"bookedInfo",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareType",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"modelAirplane",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"modelAirplaneName",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"codeAirline",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"durationStr",null),(0,s.gn)([(0,u.C)()],i.prototype,"durationStrMobile",null),(0,s.gn)([(0,u.C)()],i.prototype,"startTime",null),(0,s.gn)([(0,u.C)()],i.prototype,"endTime",null),(0,s.gn)([(0,u.C)()],i.prototype,"startPoint",null),(0,s.gn)([(0,u.C)()],i.prototype,"endPoint",null),(0,s.gn)([(0,u.C)()],i.prototype,"logoAirline",null),i})(),Gt=(()=>{class i{}return(0,s.gn)([(0,L.D)(()=>ua),(0,u.C)()],i.prototype,"airport",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"scheduleTime",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"dataChange",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"typeChange",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"localTime",void 0),i})(),ua=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"code",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"name",void 0),(0,s.gn)([(0,L.D)(()=>pa),(0,u.C)()],i.prototype,"utcOffset",void 0),i})(),pa=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"iso",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"zone",void 0),i})(),je=(()=>{class i{}return(0,s.gn)([(0,L.D)(()=>da),(0,u.C)()],i.prototype,"ticketSelected",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"totalPrice",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"idxTicketSelected",void 0),i})(),da=(()=>{class i{}return(0,s.gn)([(0,L.D)(()=>$o),(0,u.C)()],i.prototype,"ticketPriceList",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"ticketData",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"priceTotalByPassenger",void 0),i})(),se=(()=>{class i{get totalPrice(){return this.departJourneys[0].totalPrice+this.arriveJourneys[0].totalPrice}get durationStr(){return Ut(this.departJourneys[0].duration)}}return(0,s.gn)([(0,u.C)(),(0,L.D)(()=>Tt),(0,wt.w)(({value:a,obj:e})=>a?(a.forEach(n=>{n.discountPercentageDetail=e.discountPercentageDetail,n.provider=e.provider,n.flightType=e.flightType}),a):null)],i.prototype,"departJourneys",void 0),(0,s.gn)([(0,u.C)(),(0,L.D)(()=>Tt),(0,wt.w)(({value:a,obj:e})=>a?(a.forEach(n=>{n.discountPercentageDetail=e.discountPercentageDetail,n.provider=e.provider,n.flightType=e.flightType}),a):null)],i.prototype,"arriveJourneys",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"lowestComboOption",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"score",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"cheapest",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"bestChoice",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fastest",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"flightType",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"provider",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"discountPercentageDetail",void 0),i})();function _a(i,a){1&i&&(t.TgZ(0,"div",30),t._uU(1,"Bay th\u1eb3ng"),t.qZA())}function ga(i,a){if(1&i&&(t.TgZ(0,"div",30),t._uU(1),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function ma(i,a){if(1&i&&(t.TgZ(0,"div",23)(1,"div",24)(2,"div",25),t._uU(3),t.qZA()(),t.TgZ(4,"div",26),t._UZ(5,"img",27),t.qZA(),t.TgZ(6,"div",28)(7,"div",29),t._uU(8),t.ALo(9,"date"),t.qZA(),t.TgZ(10,"div",30),t._uU(11),t.ALo(12,"date"),t.qZA()(),t.TgZ(13,"div",28)(14,"div",29),t._uU(15),t.ALo(16,"date"),t.ALo(17,"date"),t.qZA(),t.TgZ(18,"div",30),t._uU(19),t.qZA()(),t.TgZ(20,"div",28)(21,"div",29),t._uU(22),t.qZA(),t.TgZ(23,"div",31),t._uU(24),t.qZA()(),t.TgZ(25,"div",28)(26,"div",29),t._uU(27),t.qZA(),t.YNc(28,_a,2,0,"div",32),t.YNc(29,ga,2,1,"div",32),t.qZA()()),2&i){const e=a.ngIf,n=t.oxw().index;t.xp6(3),t.hij(" ",n+1," "),t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij(" ",t.xi3(9,13,e.departure.localTime,"dd/MM/yyyy"),""),t.xp6(3),t.hij(" ",t.xi3(12,16,e.departure.localTime,"EEEE"),""),t.xp6(4),t.AsE(" ",t.xi3(16,19,e.departure.localTime,"HH:mm")," - ",t.xi3(17,22,e.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",e.airlineName,""),t.xp6(3),t.hij("",e.durationStr," "),t.xp6(2),t.AsE(" ",e.departure.airport.code," - ",e.arrival.airport.code,""),t.xp6(3),t.hij(" ",e.segments[0].modelAirplaneName,""),t.xp6(1),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0)}}function fa(i,a){if(1&i&&(t.TgZ(0,"div",21),t.YNc(1,ma,30,25,"div",22),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function ha(i,a){1&i&&(t.TgZ(0,"div",42),t._uU(1,"Bay th\u1eb3ng"),t.qZA())}function va(i,a){if(1&i&&(t.TgZ(0,"div",42),t._uU(1),t.qZA()),2&i){const e=t.oxw().ngIf;t.xp6(1),t.hij(" ",e.numOfStops," \u0111i\u1ec3m d\u1eebng")}}function xa(i,a){if(1&i&&(t.TgZ(0,"div",34)(1,"div",35),t._UZ(2,"img",36),t.TgZ(3,"div",37)(4,"div",2),t._uU(5),t.qZA(),t.TgZ(6,"div",38),t._uU(7),t.qZA()(),t.TgZ(8,"div",38),t._uU(9),t.ALo(10,"date"),t.qZA()(),t.TgZ(11,"div",39)(12,"div",40)(13,"div",41),t._uU(14),t.ALo(15,"date"),t.qZA(),t.TgZ(16,"div",42),t._uU(17),t.qZA()(),t.TgZ(18,"div",43)(19,"div",42),t._uU(20),t.qZA(),t.TgZ(21,"div",44),t._UZ(22,"div",45)(23,"div",46),t.qZA(),t.YNc(24,ha,2,0,"div",47),t.YNc(25,va,2,1,"div",47),t.qZA(),t._UZ(26,"cf-icon",48),t.TgZ(27,"div",40)(28,"div",41),t._uU(29),t.ALo(30,"date"),t.qZA(),t.TgZ(31,"div",42),t._uU(32),t.qZA()()()()),2&i){const e=a.ngIf;t.xp6(2),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij(" ",e.segments[0].airline+" "+e.segments[0].flightNumber," "),t.xp6(2),t.Oqu(e.airlineName),t.xp6(2),t.hij(" ",t.xi3(10,11,e.departure.localTime,"EEEE, dd/MM/yyyy")," "),t.xp6(5),t.Oqu(t.xi3(15,14,e.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.departure.airport.code),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(4),t.Oqu(t.xi3(30,17,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.arrival.airport.code)}}function ya(i,a){if(1&i&&(t.ynx(0),t.YNc(1,xa,33,20,"div",33),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function Ca(i,a){if(1&i&&(t.TgZ(0,"div",49)(1,"div",50),t._uU(2,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(3,"div",51),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.hij("",t.Dn7(5,1,t.lcZ(6,5,e.ticketCur.totalPrice-e.amountDiscount),",",".")," \u0111")}}let Qe=(()=>{class i{constructor(e,n,o,r,c,l){this.cfIconRegister=e,this._cdr=n,this._helperResultSvc=o,this.data=r,this.ref=c,this.bottomSheetRef=l,this.amountDiscount=0,e.registerIcons([_.UNF,_.Xlt]),c&&(this.ticketCur=c.data.ticketCur,this.dataSearch=c.data.dataSearch),r&&(this.ticketCur=r.ticketCur,this.dataSearch=r.dataSearch),console.log(this.ticketCur);const p=this.ticketCur.ticketSelected.filter(d=>d.ticketData).map(d=>d.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.dataSearch,p).filter(d=>d.discountAmount).reduce((d,g)=>d+g.discountAmount*g.quantity,0)}close(){this.ref&&this.ref.close(!1),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!1)}ok(){this.ref&&this.ref.close(!0),this.bottomSheetRef&&this.bottomSheetRef.dismiss(!0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(t.sBO),t.Y36(Ct),t.Y36(V.Rr,8),t.Y36(st.gb,8),t.Y36(V.Zu,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-confirm-modal"]],standalone:!0,features:[t.jDz],decls:31,vars:10,consts:[[1,"w-[800px]","flex","flex-col","rounded-lg","bg-neutral-white","md:hidden"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-b-neutral-gray-1"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","flex-col","py-6","px-4"],["class","border border-neutral-gray-2 rounded p-4 mb-2 mx-2",4,"ngFor","ngForOf"],[1,"flex","mt-4","justify-between","items-center","mr-2"],[1,"flex","text-espressive-sm","text-secondary-3-4"],[1,"flex","justify-between","items-center"],[1,"text-espressive-sm","text-neutral-black","mr-4"],[1,"text-heading-md","text-neutral-black"],[1,"flex","justify-end","items-center","mt-8","mx-2"],[1,"flex","gap-x-4"],["cf-button","","size","medium","type","secondary",3,"click"],["cf-button","","size","medium","type","solid","color","primary-1",3,"click"],[1,"hidden","md:flex","w-screen","flex-col","gap-y-4","p-4"],[4,"ngFor","ngForOf"],[1,"hidden","fixed","bottom-0","left-0","w-screen","bg-white","shadow-cf-large-top","p-3","md:flex","items-center","justify-between","z-100"],[1,"flex","flex-col"],["class","flex items-center gap-x-1",4,"ngIf"],["cf-button","",1,"w-24","justify-center",3,"click"],[1,"border","border-neutral-gray-2","rounded","p-4","mb-2","mx-2"],["class","flex gap-y-2",4,"ngIf"],[1,"flex","gap-y-2"],[1,"flex","items-center","mr-4"],[1,"flex","justify-center","items-center","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-sm"],[1,"w-[80px]","flex-shrink-0","border-l","border-neutral-gray-1","px-4"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"],[1,"flex","flex-col","items-center","border-l","border-neutral-gray-1","px-4"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-espressive-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-express-sm","text-secondary-3-4","whitespace-nowrap"],["class","text-espressive-sm text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","flex flex-col gap-y-4 p-4 border border-neutral-gray-2 rounded",4,"ngIf"],[1,"flex","flex-col","gap-y-4","p-4","border","border-neutral-gray-2","rounded"],[1,"flex","justify-between","items-center","gap-x-4"],[1,"w-10","h-10","object-contain",3,"src"],[1,"flex","flex-col","items-start","grow"],[1,"text-body-sm","text-neutral-gray-4"],[1,"flex","justify-between","items-center","pr-2.5"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"text-heading-sm","text-neutral-black"],[1,"text-espressive-sm","text-neutral-gray-4"],[1,"flex","flex-col","items-center","grow"],[1,"flex","items-center","w-full","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["class","text-espressive-sm text-neutral-gray-4",4,"ngIf"],["icon","plane","size","small",1,"text-[#ccc]","mr-2"],[1,"flex","items-center","gap-x-1"],[1,"text-express-xs","text-neutral-gray-4","mt-1"],[1,"text-heading-sm","text-neutral-gray-6"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._uU(3,"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn"),t.qZA(),t.TgZ(4,"cf-icon",3),t.NdJ("click",function(){return n.close()}),t.qZA()(),t.TgZ(5,"div",4),t.YNc(6,fa,2,1,"div",5),t.TgZ(7,"div",6),t._UZ(8,"div",7),t.TgZ(9,"div")(10,"div",8)(11,"div",9),t._uU(12,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(13,"div",10),t._uU(14),t.ALo(15,"replace"),t.ALo(16,"number"),t.qZA()()()(),t.TgZ(17,"div",11)(18,"div",12)(19,"button",13),t.NdJ("click",function(){return n.close()}),t._uU(20," H\u1ee7y b\u1ecf "),t.qZA(),t.TgZ(21,"button",14),t.NdJ("click",function(){return n.ok()}),t._uU(22," \u0110\u1eb7t v\xe9 "),t.qZA()()()()(),t.TgZ(23,"div",15),t.YNc(24,ya,2,1,"ng-container",16),t.qZA(),t.TgZ(25,"div",17)(26,"div",18),t.YNc(27,Ca,7,7,"div",19),t.qZA(),t.TgZ(28,"div")(29,"button",20),t.NdJ("click",function(){return n.ok()}),t._uU(30,"\u0110\u1eb7t v\xe9"),t.qZA()()()),2&e&&(t.xp6(6),t.Q6J("ngForOf",n.ticketCur.ticketSelected),t.xp6(8),t.hij(" ",t.Dn7(15,4,t.lcZ(16,8,n.ticketCur.totalPrice-n.amountDiscount),",",".")," \u0111 "),t.xp6(10),t.Q6J("ngForOf",n.ticketCur.ticketSelected),t.xp6(3),t.Q6J("ngIf",n.ticketCur.totalPrice>0))},dependencies:[m.ez,m.sg,m.O5,m.JJ,m.uU,_.AxE,_.Sm8,j.N8,j.Xq,nt.AS,V.DW],styles:["[_nghost-%COMP%]{display:block}"]}),i})();var Ye=v(77296);function Ta(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6)(2,"div",7),t.NdJ("scrolled",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.scrollDown())}),t.TgZ(3,"cf-datepicker-inline",8),t.NdJ("dateSelect",function(o){t.CHM(e);const r=t.oxw().index,c=t.oxw();return t.KtG(c.oneWayDateSelectMobile(o,r))}),t.qZA()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",n.currentDate)("displayMonths",n.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",e.controls.departDate)("fromDate",e.controls.departDate.value)("startDate",n.startDate)("displayMonthsOffset",0)}}function ba(i,a){1&i&&t._UZ(0,"cf-input-hint",19),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y kh\u1edfi h\xe0nh")}function ka(i,a){1&i&&t._UZ(0,"cf-input-hint",19),2&i&&t.Q6J("hint","Ng\xe0y kh\u1edfi h\xe0nh ph\u1ea3i t\u1eeb ng\xe0y hi\u1ec7n t\u1ea1i tr\u1edf \u0111i")}function Ea(i,a){1&i&&t._UZ(0,"cf-input-hint",19),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Da(i,a){1&i&&t._UZ(0,"cf-input-hint",19),2&i&&t.Q6J("hint","Ch\u01b0a ch\u1ecdn ng\xe0y v\u1ec1")}function Aa(i,a){1&i&&t._UZ(0,"cf-input-hint",19),2&i&&t.Q6J("hint","Ng\xe0y v\u1ec1 ph\u1ea3i l\u1edbn h\u01a1n ng\xe0y \u0111i")}function Za(i,a){1&i&&t._UZ(0,"cf-input-hint",19),2&i&&t.Q6J("hint","Ng\xe0y ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/MM/yyyy")}function Ba(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"cf-input-group",11)(3,"input",12),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.fromDateChange(o,r.controls.returnDate))}),t.qZA(),t.YNc(4,ba,1,1,"cf-input-hint",13),t.YNc(5,ka,1,1,"cf-input-hint",13),t.YNc(6,Ea,1,1,"cf-input-hint",13),t.qZA(),t.TgZ(7,"div",14),t._uU(8,"~"),t.qZA(),t.TgZ(9,"cf-input-group",11)(10,"input",15),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.toDateChange(o,r.controls.departDate))}),t.qZA(),t.YNc(11,Da,1,1,"cf-input-hint",13),t.YNc(12,Aa,1,1,"cf-input-hint",13),t.YNc(13,Za,1,1,"cf-input-hint",13),t.qZA()(),t.TgZ(14,"div",6)(15,"div",16),t.NdJ("scrolled",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.scrollDown())}),t.TgZ(16,"cf-datepicker-inline",17),t.NdJ("dateSelect",function(o){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.roundtripDateSelection(o,r.controls.departDate,r.controls.returnDate))}),t.qZA()()(),t.TgZ(17,"div",18)(18,"button",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onMobileDatePickerOK())}),t._uU(19," X\xe1c nh\u1eadn "),t.qZA()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(2),t.Q6J("disabled",!0)("status",n.isShowErrorDateRange&&e.controls.departDate.invalid&&(e.controls.departDate.dirty||e.controls.departDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",n.currentDate)("formControl",e.controls.departDate),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors?null:e.controls.departDate.errors.required)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.minDate)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.departDate.errors||null==e.controls.departDate.errors.ngbDate?null:e.controls.departDate.errors.ngbDate.invalid)&&(e.controls.departDate.dirty||e.controls.departDate.touched)),t.xp6(3),t.Q6J("disabled",!0)("status",n.isShowErrorDateRange&&e.controls.returnDate.invalid&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)?"error":"default"),t.xp6(1),t.Q6J("minDate",n.minToDate)("formControl",e.controls.returnDate),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors?null:e.controls.returnDate.errors.required)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.minDate)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(1),t.Q6J("ngIf",n.isShowErrorDateRange&&(null==e.controls.returnDate.errors||null==e.controls.returnDate.errors.ngbDate?null:e.controls.returnDate.errors.ngbDate.invalid)&&(e.controls.returnDate.dirty||e.controls.returnDate.touched)),t.xp6(2),t.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),t.xp6(1),t.Q6J("minDate",n.currentDate)("displayMonths",n.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("fromDate",e.controls.departDate.value)("startDate",n.startDate)("toDate",e.controls.returnDate.value)("displayMonthsOffset",0)}}function wa(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,Ta,4,15,"div",3),t.YNc(2,Ba,20,29,"div",4),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isReturnDate),t.xp6(1),t.Q6J("ngIf",e.isReturnDate)}}let Ia=(()=>{class i{constructor(e,n,o,r){var c;this.calendar=n,this.bottomSheetRef=o,this.data=r,this.navigateDatepicker=new t.vpe,this.isShowErrorDateRange=!1,this.isReturnDate=!1,this.numOfMonth=4,e.registerIcons([_._7G]),this.currentDate=n.getToday(),this.formArray=r.formArray,this.isReturnDate=!(null===(c=r.formArray.at(0).value)||void 0===c||!c.returnDate)}ngOnInit(){}dateRangePickerClose(){this.isShowErrorDateRange=!0}openAirlineMinFareBts(e){}openConfigMinFareBts(e){}onMobileDatePickerOK(){this.bottomSheetRef.dismiss(!0)}oneWayDateSelectMobile(e,n){this.formArray.at(n).controls.departDate.setValue(e);for(let o=n;o<this.formArray.length-1;o++){const r=this.formArray.at(o+1).controls.departDate.value;r&&e.getTime()>r.getTime()&&(this.formArray.at(o+1).controls.departDate.setValue(new Date(e.getTime()+864e5)),e=new Date(e.getTime()+864e5))}}roundtripDateSelection(e,n,o){n.value||o.value?n.value&&!o.value&&e&&e.getTime()>=n.value.getTime()?(o.setValue(e),this.startDate=new Date):(o.setValue(null),n.setValue(e)):n.setValue(e)}fromDateChange(e,n){}toDateChange(e,n){}scrollDown(){this.numOfMonth=this.numOfMonth+6;const e=q(new Date).add(this.numOfMonth,"month").startOf("month").format("YYYY-MM-DD");this.navigateDatepicker.emit(e)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(ft.jH),t.Y36(V.Zu),t.Y36(V.Rr))},i.\u0275cmp=t.Xpm({type:i,selectors:[["datepicker-search-bottom-sheet-btc"]],hostAttrs:[1,"w-full"],outputs:{navigateDatepicker:"navigateDatepicker"},standalone:!0,features:[t.jDz],decls:4,vars:1,consts:[[4,"ngFor","ngForOf"],[1,"p-4","fixed","bottom-0","w-full","right-0","bg-neutral-white","z-[10]"],["cf-button","",1,"justify-center","w-full",3,"click"],["class","flex w-full flex-col justify-between",4,"ngIf"],["class","flex w-full flex-col h-[100vh] justify-between",4,"ngIf"],[1,"flex","w-full","flex-col","justify-between"],[1,"grow","overflow-y-hidden","flex","pb-12"],["infinite-scroll","",1,"w-full","flex","overflow-y-auto","h-[800px]",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","fromDate","startDate","displayMonthsOffset","dateSelect"],[1,"flex","w-full","flex-col","h-[100vh]","justify-between"],[1,"flex","justify-between","items-center","p-4"],[1,"grow","!w-auto",3,"disabled","status"],["cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ng\xe0y kh\u1edfi h\xe0nh","autocomplete","off",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["cfHint","",3,"hint",4,"ngIf"],[1,"text-body-md-short","text-neutral-gray-6","px-2"],["autocomplete","off","cfDatepickerViewer","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y v\u1ec1",1,"py-[7px]",3,"minDate","formControl","ngModelChange"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer","scrolled"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","fromDate","startDate","toDate","displayMonthsOffset","dateSelect"],[1,"p-4","fixed","bottom-0","w-full","right-0","z-[10]","bg-neutral-white"],["cfHint","",3,"hint"]],template:function(e,n){1&e&&(t.YNc(0,wa,3,2,"div",0),t.TgZ(1,"div",1)(2,"button",2),t.NdJ("click",function(){return n.onMobileDatePickerOK()}),t._uU(3," X\xe1c nh\u1eadn "),t.qZA()()),2&e&&t.Q6J("ngForOf",n.formArray.controls)},dependencies:[m.ez,m.sg,m.O5,_.AxE,j.N8,j.Xq,ft._o,Ye.Rq,Ye.Ry,A.u5,A.Fj,A.JJ,A.UX,A.oH,ft.hI,ct.j$,ct.ND,ct.BN,ct.v2],encapsulation:2}),i})(),Sa=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,L.D)(()=>ue),(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})(),ue=(()=>{class i{get absoluteMaxValue(){if(0===this.conditionDetail.length)return 0;let e=-1/0;for(const n of this.conditionDetail){const o=[n.priceADT,n.priceCHD,n.priceINF,n.totalPrice];for(const r of o)r>e&&(e=r)}return+e}}return(0,s.gn)([(0,u.C)()],i.prototype,"code",void 0),(0,s.gn)([(0,L.D)(()=>Na),(0,u.C)()],i.prototype,"conditionDetail",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"journeyType",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"roundTrip",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"oneWay",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"type",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"minimum",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"public",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"termOfUse",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"header",void 0),i})(),He=(()=>{class i extends ue{constructor(){super(...arguments),this.isShowDetail=!1}}return(0,s.gn)([(0,u.C)()],i.prototype,"isShowDetail",void 0),i})(),Fa=(()=>{class i extends ue{constructor(){super(...arguments),this.active=!1,this.discountByCondition=0,this.errorStr=""}}return(0,s.gn)([(0,u.C)()],i.prototype,"active",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"discountByCondition",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorStr",void 0),i})(),Na=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"airline",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"priceADT",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"priceCHD",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"priceINF",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"totalPrice",void 0),i})();var pe=v(11481);function qa(i,a){1&i&&(t.TgZ(0,"div",29),t._uU(1," M\xe3 t\u1ef1 \u0111\u1ed9ng \xe1p d\u1ee5ng \u1edf k\u1ebft qu\u1ea3 t\xecm ki\u1ebfm "),t.qZA())}function Oa(i,a){1&i&&t._UZ(0,"img",30)}function Pa(i,a){if(1&i&&(t.TgZ(0,"div",24)(1,"div",25),t._uU(2," \u0110i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng "),t.qZA(),t._UZ(3,"div",26),t.TgZ(4,"div",25),t._uU(5," H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng "),t.qZA(),t.YNc(6,qa,2,0,"div",27),t.YNc(7,Oa,1,0,"img",28),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(3),t.Q6J("innerHTML",e.termOfUse,t.oJD),t.xp6(3),t.Q6J("ngIf","SEARCH"===e.type),t.xp6(1),t.Q6J("ngIf","BOOK"===e.type)}}function Ma(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1," \u1ea8n "),t.qZA())}function Ua(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1," Chi ti\u1ebft khuy\u1ebfn m\xe3i "),t.qZA())}function Ja(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"div",5),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.copyCode(o.code))}),t.TgZ(3,"div",6)(4,"div",7),t.O4$(),t.TgZ(5,"svg",8),t._UZ(6,"path",9),t.qZA(),t.kcU(),t.TgZ(7,"div",10),t._uU(8),t.ALo(9,"replace"),t.ALo(10,"number"),t.qZA()(),t.TgZ(11,"div",11),t._uU(12),t.qZA()(),t.TgZ(13,"div",12),t._UZ(14,"div",13)(15,"div",14)(16,"div",15),t.qZA(),t.TgZ(17,"div",16),t._UZ(18,"cf-icon",17),t.qZA()(),t._UZ(19,"div",18),t.ALo(20,"mapper"),t.TgZ(21,"span",19),t._uU(22),t.qZA()(),t.YNc(23,Pa,8,3,"div",20),t.TgZ(24,"div",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit;return t.KtG(o.isShowDetail=!o.isShowDetail)}),t.YNc(25,Ma,2,0,"div",22),t.YNc(26,Ua,2,0,"div",23),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(8),t.hij(" ",t.Dn7(9,7,t.lcZ(10,11,e.absoluteMaxValue/1e3),",","."),"K "),t.xp6(4),t.hij(" ",e.code," "),t.xp6(7),t.Q6J("innerHTML",t.xi3(20,13,e.header,n.bypassSecurityTrustHtml),t.oJD),t.xp6(3),t.hij(" ","SEARCH"===e.type?"M\xe3 t\u1ef1 \u0111\u1ed9ng \xe1p d\u1ee5ng":"\xc1p m\xe3 \u1edf b\u01b0\u1edbc \u0111\u1eb7t v\xe9"," "),t.xp6(1),t.Q6J("ngIf",e.isShowDetail),t.xp6(1),t.Q6J("ngSwitch",e.isShowDetail),t.xp6(1),t.Q6J("ngSwitchCase",!0)}}function La(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Ja,27,16,"div",2),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.public)}}let Ve=(()=>{class i{constructor(e,n,o,r,c,l){this.cfIconsRegistry=e,this.sanitizer=n,this.clipboard=o,this._toastService=r,this.dataBottomSheet=c,this.data=l,this.bypassSecurityTrustHtml=p=>this.sanitizer.bypassSecurityTrustHtml(p),e.registerIcons([_.Ey$]),l&&(this.dataPromotion=l.dataPromotion.map((p,d)=>(0,X.yE)(He,p,{excludeExtraneousValues:!0}))),c&&(this.dataPromotion=c.dataPromotion.map((p,d)=>(0,X.yE)(He,p,{excludeExtraneousValues:!0})))}copyCode(e){this.clipboard.copy(e),this._toastService.add({severity:"success",summary:"\u0110\xe3 sao ch\xe9p m\xe3",detail:"M\xe3 \u0111\xe3 \u0111\u01b0\u1ee3c sao ch\xe9p v\xe0o b\u1ed9 nh\u1edb t\u1ea1m"})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(pe.H7),t.Y36(ke.TU),t.Y36(Rt.BX),t.Y36(V.Rr,8),t.Y36(Fe,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-list-promo-detail"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"w-[576px]","overflow-auto","flex","flex-col","p-4","gap-4","pb-28","h-full","md:w-screen","md:pb-3"],[4,"ngFor","ngForOf"],["class","p-3 bg-white rounded-lg shadow-lg flex flex-col ",4,"ngIf"],[1,"p-3","bg-white","rounded-lg","shadow-lg","flex","flex-col"],[1,"flex","flex-col","gap-2","py-3","border-b","border-neutral-gray-3"],[1,"flex","cursor-pointer","md:w-full",3,"click"],[1,"bg-yellow-1","py-2","rounded-l-2xl","flex","justify-between"],[1,"relative","-rotate-45","mx-2"],["width","53","height","53","viewBox","0 0 53 53","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.5 0L32.3299 4.74252L39.75 3.55033L42.4276 10.5724L49.4497 13.25L48.2575 20.6701L53 26.5L48.2575 32.3299L49.4497 39.75L42.4276 42.4276L39.75 49.4497L32.3299 48.2575L26.5 53L20.6701 48.2575L13.25 49.4497L10.5724 42.4276L3.55033 39.75L4.74252 32.3299L0 26.5L4.74252 20.6701L3.55033 13.25L10.5724 10.5724L13.25 3.55033L20.6701 4.74252L26.5 0Z","fill","#FFD255"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-express-md","font-semibold","text-[#0B2888]"],[1,"flex","items-center","justify-center","flex-1","min-w-40","font-medium","w-fit"],[1,"flex","items-center","relative"],[1,"absolute","-top-[10px]","rounded-full","w-5","h-5","bg-white","z-1","-left-[9px]","rotate-[269deg]",2,"clip-path","polygon(0 0, 50% 0, 50% 100%, 0 100%)"],[1,"border-r-2","border-dotted","border-neutral-gray-3","h-[80%]","w-[1px]"],[1,"absolute","-bottom-[10px]","rounded-full","w-5","h-5","bg-white","z-1","-left-[9px]","rotate-[88deg]",2,"clip-path","polygon(0 0, 50% 0, 50% 100%, 0 100%)"],[1,"cursor-pointer","h-full","bg-yellow-1","px-8","rounded-r-2xl","flex","items-center","justify-center"],["icon","copy","size","medium"],[1,"font-medium","text-body-sm","!font-[roboto]","flex","flex-col","gap-2",3,"innerHTML"],[1,"text-neutral-gray-5","text-body-sm"],["class","flex flex-col gap-3 py-3",4,"ngIf"],[1,"text-blue-4","text-body-md","font-medium","py-3","cursor-pointer",3,"ngSwitch","click"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","flex-col","gap-3","py-3"],[1,"text-gray-6","font-medium","text-body-md"],[1,"text-body-sm","font-normal","!font-[roboto]","flex","flex-col","gap-2",3,"innerHTML"],["class","text-body-sm text-neutral-gray-6",4,"ngIf"],["src","/assets/images/b2c/discount-book-instructions.png","class","h-[110px] object-contain",4,"ngIf"],[1,"text-body-sm","text-neutral-gray-6"],["src","/assets/images/b2c/discount-book-instructions.png",1,"h-[110px]","object-contain"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,La,2,1,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.dataPromotion))},dependencies:[m.ez,m.sg,m.O5,m.RF,m.n9,m.ED,m.JJ,_.AxE,_.Sm8,nt.AS,tt.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})(),Ra=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-skeleton"]],standalone:!0,features:[t.jDz],decls:10,vars:0,consts:[[1,"w-full","h-[138px]","bg-neutral-white","rounded-xl"],[1,"flex","justify-between","items-center","gap-x-4","h-full","animate-pulse","p-4"],[1,"w-full","flex","flex-row","items-center","h-full","justify-start","gap-x-3"],[1,"w-12","bg-neutral-gray-2","h-12","rounded-full"],[1,"flex","flex-col","space-y-3"],[1,"w-48","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[192px]","md:w-24"],[1,"w-36","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[144px]","md:w-18"],[1,"w-[150px]","flex","flex-col","space-y-3","md:px-3","md:hidden"],[1,"w-32","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[128px]","md:w-full"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"div",3),t.TgZ(4,"div",4),t._UZ(5,"div",5)(6,"div",6),t.qZA()(),t.TgZ(7,"div",7),t._UZ(8,"div",8)(9,"div",8),t.qZA()()())},dependencies:[m.ez],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();var Ge=v(27898);function ja(i,a){1&i&&t.GkF(0)}function Qa(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",21)(1,"cf-checkbox",12),t.NdJ("checkChange",function(o){const c=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.ticketTypeChange(o,c.code))}),t._uU(2),t.qZA()()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function Ya(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",8)(2,"div",18),t._uU(3,"Lo\u1ea1i v\xe9"),t.qZA(),t.YNc(4,Qa,3,2,"div",19),t.qZA(),t._UZ(5,"div",20),t.BQk()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngForOf",e.optionsTicketType)}}function Ha(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onSelectedOptionChange({showNetPrice:o}))}),t._uU(2,"Hi\u1ec3n th\u1ecb gi\xe1 t\u1ed5ng"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showNetPrice)}}function Va(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onSelectedOptionChange({hideFareClass:o}))}),t._uU(2,"\u1ea8n h\u1ea1ng gh\u1ebf"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.hideFareClass)}}function Ga(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onSelectedOptionChange({showDuration:o}))}),t._uU(2,"Hi\u1ec3n th\u1ecb th\u1eddi gian bay"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showDuration)}}function Ka(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onSelectedOptionChange({showTotalPrice:o}))}),t._uU(2,"Hi\u1ec3n th\u1ecb gi\xe1 t\u1ed5ng"),t.qZA(),t.BQk()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("checked",e.viewConfig.showTotalPrice)}}function $a(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",22)(2,"div",18),t._uU(3,"Tu\u1ef3 ch\u1ec9nh hi\u1ec3n th\u1ecb"),t.qZA(),t.TgZ(4,"div",21),t.YNc(5,Ha,3,1,"ng-container",7),t.YNc(6,Va,3,1,"ng-container",7),t.YNc(7,Ga,3,1,"ng-container",7),t.YNc(8,Ka,3,1,"ng-container",7),t.qZA()(),t._UZ(9,"div",13),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngIf",null!=e.viewConfig.showNetPrice),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.showDuration),t.xp6(1),t.Q6J("ngIf",null!=e.viewConfig.showTotalPrice)}}function za(i,a){1&i&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"H\xe3ng bay"),t.qZA()())}function Wa(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(o){const c=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.airlineSelectChange(o,c.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.AsE("",e.name,"(",e.code,")")}}function Xa(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.limitAirLineOption=(null==o.airlineOptions?null:o.airlineOptions.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function tr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.limitAirLineOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function er(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,za,3,0,"ng-template",null,24,t.W1O),t.TgZ(5,"div",11),t.YNc(6,Wa,3,3,"ng-container",25),t.ALo(7,"slice"),t.YNc(8,Xa,2,0,"button",26),t.YNc(9,tr,2,0,"button",27),t.qZA()()(),t._UZ(10,"div",13),t.BQk()),2&i){const e=t.MAs(4),n=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",t.Dn7(7,7,n.airlineOptions,0,n.limitAirLineOption)),t.xp6(2),t.Q6J("ngIf",n.airlineOptions.length>=5&&5===n.limitAirLineOption),t.xp6(1),t.Q6J("ngIf",n.airlineOptions.length>=5&&n.limitAirLineOption>5)}}function ir(i,a){1&i&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"S\u1ed1 \u0111i\u1ec3m d\u1eebng"),t.qZA()())}function nr(i,a){1&i&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"Gi\u1edd kh\u1edfi h\xe0nh"),t.qZA()())}const or=function(i,a){return{"bg-yellow-4":i,"bg-neutral-white":a}},ar=function(i,a,e){return{"text-neutral-white ":i,"text-neutral-gray-4":a,"text-neutral-gray-3":e}},rr=function(i,a,e){return{"text-neutral-white ":i,"text-neutral-gray-6":a,"text-neutral-gray-4":e}};function cr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",35),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(!r.disabled&&c.activeTimeFilter(r,!r.actived))}),t.TgZ(1,"div",36),t._uU(2),t.qZA(),t.TgZ(3,"div",37),t._uU(4),t.qZA()()}if(2&i){const e=a.$implicit;t.Q6J("ngClass",t.WLB(5,or,e.actived,!e.actived)),t.xp6(1),t.Q6J("ngClass",t.kEZ(8,ar,e.actived,!e.actived&&!e.disabled,e.disabled)),t.xp6(1),t.hij(" ",e.describe," "),t.xp6(1),t.Q6J("ngClass",t.kEZ(12,rr,e.actived,!e.actived&&!e.disabled,e.disabled)),t.xp6(1),t.hij(" ",e.name," ")}}function lr(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,nr,3,0,"ng-template",null,32,t.W1O),t.TgZ(5,"div",33),t.YNc(6,cr,5,16,"div",34),t.qZA()()(),t._UZ(7,"div",13),t.BQk()),2&i){const e=t.MAs(4),n=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col py-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",n.timeFlightOptions)}}function sr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",42),t.NdJ("click",function(o){t.CHM(e);const r=t.oxw(4);return t.KtG(r.resetTypeFilter(o))}),t._uU(1," X\xf3a t\u1ea5t c\u1ea3"),t.qZA()}}function ur(i,a){if(1&i&&(t.TgZ(0,"div",40)(1,"div",29),t._uU(2,"Khoang h\u1ea1ng"),t.qZA(),t.YNc(3,sr,2,0,"div",41),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("ngIf",t.xi3(4,1,e.filterFareTypeOptions,e.hasTypeActive))}}function pr(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",23),t.NdJ("checkChange",function(){const r=t.CHM(e).$implicit,c=t.oxw(3);return t.KtG(c.activeTypeFilter(r,!r.actived))}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function dr(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"cf-collapse",8)(2,"cf-collapse-panel",9),t.YNc(3,ur,5,4,"ng-template",null,38,t.W1O),t.TgZ(5,"div",39),t.YNc(6,pr,3,2,"ng-container",25),t.qZA()()(),t._UZ(7,"div",13),t.BQk()),2&i){const e=t.MAs(4),n=t.oxw(2);t.xp6(2),t.Q6J("panelClass","flex flex-col py-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("ngForOf",n.filterFareTypeOptions)}}function _r(i,a){1&i&&(t.TgZ(0,"div",28)(1,"div",29),t._uU(2,"Kh\xe1c"),t.qZA()())}function gr(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(o){const c=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.airlinePlanSelectChange(o,c.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function mr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.limitAirPlaneOption=(null==o.modelAirPlaneOptions?null:o.modelAirPlaneOptions.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function fr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.limitAirPlaneOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function hr(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",43)(2,"div",44),t._uU(3,"Lo\u1ea1i m\xe1y bay"),t.qZA()(),t.TgZ(4,"div",11),t.YNc(5,gr,3,2,"ng-container",25),t.ALo(6,"slice"),t.YNc(7,mr,2,0,"button",26),t.YNc(8,fr,2,0,"button",27),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",t.Dn7(6,3,e.modelAirPlaneOptions,0,e.limitAirPlaneOption)),t.xp6(2),t.Q6J("ngIf",e.modelAirPlaneOptions.length>5&&5===e.limitAirPlaneOption),t.xp6(1),t.Q6J("ngIf",e.modelAirPlaneOptions.length>=5&&e.limitAirPlaneOption>5)}}function vr(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"cf-checkbox",12),t.NdJ("checkChange",function(o){const c=t.CHM(e).$implicit,l=t.oxw(3);return t.KtG(l.bookingSystemChange(o,c.code))}),t._uU(2),t.qZA(),t.BQk()}if(2&i){const e=a.$implicit;t.xp6(1),t.Q6J("checked",e.actived),t.xp6(1),t.Oqu(e.name)}}function xr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",30),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.limitAirPlaneOption=(null==o.bookingSystemList?null:o.bookingSystemList.length)||0)}),t._uU(1,"Hi\u1ec7n t\u1ea5t c\u1ea3"),t.qZA()}}function yr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",31),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.limitAirPlaneOption=5)}),t._uU(1,"\u1ea8n b\u1edbt"),t.qZA()}}function Cr(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",43)(2,"div",44),t._uU(3,"H\u1ec7 th\u1ed1ng \u0111\u1eb7t ch\u1ed7"),t.qZA()(),t.TgZ(4,"div",11),t.YNc(5,vr,3,2,"ng-container",25),t.ALo(6,"slice"),t.YNc(7,xr,2,0,"button",26),t.YNc(8,yr,2,0,"button",27),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",t.Dn7(6,3,e.bookingSystemList,0,e.limitAirPlaneOption)),t.xp6(2),t.Q6J("ngIf",e.bookingSystemList.length>=5&&5===e.limitAirPlaneOption),t.xp6(1),t.Q6J("ngIf",e.bookingSystemList.length>=5&&e.limitAirPlaneOption>5)}}function Tr(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",5)(1,"div",6),t.YNc(2,Ya,6,1,"ng-container",7),t.YNc(3,$a,10,4,"ng-container",7),t.YNc(4,er,11,11,"ng-container",7),t.TgZ(5,"cf-collapse",8)(6,"cf-collapse-panel",9),t.YNc(7,ir,3,0,"ng-template",null,10,t.W1O),t.TgZ(9,"div",11)(10,"cf-checkbox",12),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onSelectedStopChange({direct:o}))}),t._uU(11,"Bay th\u1eb3ng"),t.qZA(),t.TgZ(12,"cf-checkbox",12),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onSelectedStopChange({oneRoute:o}))}),t._uU(13,"1 \u0111i\u1ec3m d\u1eebng"),t.qZA(),t.TgZ(14,"cf-checkbox",12),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onSelectedStopChange({moreRoute:o}))}),t._uU(15,"2+ \u0111i\u1ec3m d\u1eebng"),t.qZA()()()(),t._UZ(16,"div",13),t.YNc(17,lr,8,5,"ng-container",7),t.YNc(18,dr,8,5,"ng-container",7),t.TgZ(19,"cf-collapse",8)(20,"cf-collapse-panel",9),t.YNc(21,_r,3,0,"ng-template",null,14,t.W1O),t.YNc(23,hr,9,7,"ng-container",7),t.YNc(24,Cr,9,7,"ng-container",7),t.qZA()()(),t.TgZ(25,"div",15)(26,"button",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.resetFilter.emit())}),t._uU(27,"X\xf3a b\u1ed9 l\u1ecdc"),t.qZA(),t.TgZ(28,"button",17),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.closeBotomSheet())}),t._uU(29,"\xc1p d\u1ee5ng"),t.qZA()()()}if(2&i){const e=t.MAs(8),n=t.MAs(22),o=t.oxw();t.xp6(2),t.Q6J("ngIf",o.optionsTicketType.length>1),t.xp6(1),t.Q6J("ngIf",o.viewConfig),t.xp6(1),t.Q6J("ngIf",o.airlineOptions.length>1),t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",e),t.xp6(4),t.Q6J("checked",o.ticketFilterNumStop.direct),t.xp6(2),t.Q6J("checked",o.ticketFilterNumStop.oneRoute),t.xp6(2),t.Q6J("checked",o.ticketFilterNumStop.moreRoute),t.xp6(3),t.Q6J("ngIf",null==o.timeFlightOptions?null:o.timeFlightOptions.length),t.xp6(1),t.Q6J("ngIf",null==o.filterFareTypeOptions?null:o.filterFareTypeOptions.length),t.xp6(2),t.Q6J("panelClass","flex flex-col pt-4 bg-transparent cursor-pointer")("contentClass","p-0")("active",!0)("title",n),t.xp6(3),t.Q6J("ngIf",o.modelAirPlaneOptions.length),t.xp6(1),t.Q6J("ngIf",o.bookingSystemList.length)}}let br=(()=>{class i{constructor(e,n,o){this.bottomSheetService=e,this._mobileDetectService=n,this.cfIconRegister=o,this.viewConfigChange=new t.vpe,this.airlineList={},this.airlineOptionsChange=new t.vpe,this.limitAirLineOption=5,this.ticketFilterNumStopChange=new t.vpe,this.timeFlightOptionsChange=new t.vpe,this.filterFareTypeOptionsChange=new t.vpe,this.modelAirPlaneOptionsChange=new t.vpe,this.optionsTicketTypeChange=new t.vpe,this.resetFilter=new t.vpe,this.bookingSystemList=[],this.bookingSystemListChange=new t.vpe,this.limitAirPlaneOption=5,this.isMobile=!1,this.hasTypeActive=r=>r.some(c=>c.actived),o.registerIcons([_.iK7])}ngOnInit(){this._mobileDetectService.mobileSubject.subscribe(e=>{this.isMobile=e})}onSelectedOptionChange(e){this.viewConfig=Object.assign(Object.assign({},this.viewConfig),e),this.viewConfigChange.emit(this.viewConfig)}airlineSelectChange(e,n){const o=this.airlineOptions.map(r=>Object.assign(Object.assign({},r),{actived:r.code===n?e:r.actived}));this.airlineOptionsChange.emit(o)}onSelectedStopChange(e){this.ticketFilterNumStop=Object.assign(Object.assign({},this.ticketFilterNumStop),e),this.ticketFilterNumStopChange.emit(this.ticketFilterNumStop)}activeTimeFilter(e,n){const o=this.timeFlightOptions.map(r=>Object.assign(Object.assign({},r),{actived:r.name===e.name?n:r.actived}));this.timeFlightOptionsChange.emit(o)}resetTypeFilter(e){e.stopPropagation(),this.filterFareTypeOptionsChange.emit(this.filterFareTypeOptions.map(n=>Object.assign(Object.assign({},n),{actived:!1})))}activeTypeFilter(e,n){const o=this.filterFareTypeOptions.map(r=>Object.assign(Object.assign({},r),{actived:r.code===e.code?n:r.actived}));this.filterFareTypeOptionsChange.emit(o)}airlinePlanSelectChange(e,n){const o=this.modelAirPlaneOptions.map(r=>Object.assign(Object.assign({},r),{actived:r.code===n?e:r.actived}));this.modelAirPlaneOptionsChange.emit(o)}ticketTypeChange(e,n){const o=this.optionsTicketType.map(r=>Object.assign(Object.assign({},r),{actived:r.code===n?e:r.actived}));this.optionsTicketTypeChange.emit(o)}bookingSystemChange(e,n){const o=this.bookingSystemList.map(r=>Object.assign(Object.assign({},r),{actived:r.code===n?e:r.actived}));this.bookingSystemListChange.emit(o)}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"B\u1ed9 l\u1ecdc",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>this.bottomSheetService.dismiss())}closeBotomSheet(){this.bottomSheetService.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(V.a2),t.Y36(yt.L),t.Y36(_.KNP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-filter"]],inputs:{viewConfig:"viewConfig",airlineList:"airlineList",airlineOptions:"airlineOptions",ticketFilterNumStop:"ticketFilterNumStop",timeFlightOptions:"timeFlightOptions",filterFareTypeOptions:"filterFareTypeOptions",modelAirPlaneOptions:"modelAirPlaneOptions",optionsTicketType:"optionsTicketType",bookingSystemList:"bookingSystemList"},outputs:{viewConfigChange:"viewConfigChange",airlineOptionsChange:"airlineOptionsChange",ticketFilterNumStopChange:"ticketFilterNumStopChange",timeFlightOptionsChange:"timeFlightOptionsChange",filterFareTypeOptionsChange:"filterFareTypeOptionsChange",modelAirPlaneOptionsChange:"modelAirPlaneOptionsChange",optionsTicketTypeChange:"optionsTicketTypeChange",resetFilter:"resetFilter",bookingSystemListChange:"bookingSystemListChange"},standalone:!0,features:[t.jDz],decls:7,vars:2,consts:[[1,"gap-x-1.5","items-center","border","w-fit","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","filter_alt","size","small",1,"text-neutral-gray-5"],[4,"ngIf","ngIfElse"],["desktopTpl",""],[1,"flex","flex-col","md:w-full"],[1,"flex","flex-col","pt-2","md:pt-5","md:px-4","md:max-h-[70vh]","md:overflow-y-auto","md:pb-4"],[4,"ngIf"],[1,"w-full"],[1,"!border-b-0",3,"panelClass","contentClass","active","title"],["stopTitleTemplate",""],[1,"flex","flex-col","mt-2"],["size","medium",1,"pt-2",3,"checked","checkChange"],[1,"border-b-neutral-gray-2","w-full","border-b","mt-5"],["planeModelTemplate",""],[1,"p-4","gap-x-4","hidden","shadow-cf-large-top","md:flex"],["cf-button","","type","secondary",1,"w-full","justify-center",3,"click"],["cf-button","",1,"w-full","justify-center",3,"click"],[1,"text-espressive-sm","text-neutral-gray-6","mb-3"],["class","flex flex-col gap-y-[11px] select-none",4,"ngFor","ngForOf"],[1,"bg-neutral-gray-2","w-full","h-[1px]","my-5"],[1,"flex","flex-col","gap-y-[11px]","select-none"],[1,""],["size","medium",3,"checked","checkChange"],["airlineTitleTemplate",""],[4,"ngFor","ngForOf"],["class","w-full text-left !pt-2 !outline-none !outline-transparent !text-express-md !text-blue-4","type","secondary",3,"click",4,"ngIf"],["class","w-full text-left !pt-2 !outline-none !outline-transparent !text-express-md text-blue-4","type","secondary",3,"click",4,"ngIf"],[1,"flex","gap-x-4","items-center"],[1,"text-espressive-sm","text-neutral-gray-6"],["type","secondary",1,"w-full","text-left","!pt-2","!outline-none","!outline-transparent","!text-express-md","!text-blue-4",3,"click"],["type","secondary",1,"w-full","text-left","!pt-2","!outline-none","!outline-transparent","!text-express-md","text-blue-4",3,"click"],["departTimeTemplate",""],[1,"flex","gap-2","flex-wrap","justify-center"],["class","cursor-pointer gap-1 w-[92px] h-12 flex flex-col items-center justify-center rounded",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"cursor-pointer","gap-1","w-[92px]","h-12","flex","flex-col","items-center","justify-center","rounded",3,"ngClass","click"],[1,"text-espressive-xs","font-semibold",3,"ngClass"],[1,"text-espressive-sm","font-semibold",3,"ngClass"],["fareclassTemplate",""],[1,"flex","flex-col","gap-3","w-full"],[1,"flex-1","mr-2","flex","gap-x-4","items-center","justify-between"],["class","text-express-sm text-primary-1-4",3,"click",4,"ngIf"],[1,"text-express-sm","text-primary-1-4",3,"click"],[1,"flex","gap-x-4","items-center","pt-4"],[1,"text-espressive-sm","text-neutral-gray-4","font-medium"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(6);return t.KtG(n.openBottomSheet(c))}),t.TgZ(1,"div",1),t._uU(2,"B\u1ed9 l\u1ecdc"),t.qZA(),t._UZ(3,"cf-icon",2),t.qZA(),t.YNc(4,ja,1,0,"ng-container",3),t.YNc(5,Tr,30,18,"ng-template",null,4,t.W1O)}if(2&e){const o=t.MAs(6);t.xp6(4),t.Q6J("ngIf",n.isMobile)("ngIfElse",o)}},dependencies:[m.ez,m.mk,m.sg,m.O5,m.OU,Ge.u,_.AxE,_.Sm8,j.N8,j.Xq,A.u5,Zt.B,Zt.K,tt.q],styles:[":host{display:block}.appear{animation:fade-in 1s cubic-bezier(.39,.575,.565,1) both}@keyframes fade-in{0%{opacity:0}to{opacity:1}}\n"],encapsulation:2,changeDetection:0}),i})();var pt=v(50518);function kr(i,a){if(1&i&&(t.TgZ(0,"div",55),t._UZ(1,"cf-icon",56),t.TgZ(2,"span",57),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(3),t.lnq(" D\u1eebng t\u1ea1i: ",t.xi3(4,3,e.startPoint,n.getLocationData)," (",e.startPoint,"). Th\u1eddi gian d\u1eebng: ",e.delaySt," ")}}function Er(i,a){if(1&i&&(t.TgZ(0,"span",58),t._UZ(1,"cf-icon",59),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"mapper"),t.ALo(5,"mapper"),t.qZA()()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(3),t.AsE("Chuy\u1ebfn bay: ",t.xi3(4,2,e.startPoint,n.getLocationData)," - ",t.xi3(5,5,e.endPoint,n.getLocationData),"")}}function Dr(i,a){1&i&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function Ar(i,a){1&i&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function Zr(i,a){if(1&i&&(t.TgZ(0,"div",31),t.YNc(1,Dr,2,0,"div",61),t.YNc(2,Ar,2,0,"div",61),t.TgZ(3,"div",32),t._uU(4),t.qZA()()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function Br(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Zr,5,3,"div",60),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.ticket.fareRuleClassesObj[e.ticket.IDF])}}function wr(i,a){1&i&&(t.TgZ(0,"div",31)(1,"div",11),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",32),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",31)(6,"div",11),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",32),t._uU(9,"N/A"),t.qZA()())}function Ir(i,a){1&i&&(t.TgZ(0,"div",62),t._uU(1," Chi\u1ec1u \u0111i"),t.qZA())}function Sr(i,a){1&i&&(t.TgZ(0,"div",62),t._uU(1," Chi\u1ec1u v\u1ec1"),t.qZA())}function Fr(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Nr(i,a){if(1&i&&(t.TgZ(0,"span",52)(1,"span",63),t._uU(2),t.qZA(),t.YNc(3,Fr,2,1,"span",64),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function qr(i,a){if(1&i&&(t.TgZ(0,"span",52),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function Or(i,a){if(1&i&&t.YNc(0,qr,2,1,"span",65),2&i){const e=t.oxw(2);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Pr(i,a){1&i&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA())}function Mr(i,a){1&i&&(t.TgZ(0,"div",11),t._uU(1,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA())}function Ur(i,a){if(1&i&&(t.TgZ(0,"div",31),t.YNc(1,Pr,2,0,"div",61),t.YNc(2,Mr,2,0,"div",61),t.TgZ(3,"div",52),t._uU(4),t.qZA()()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf","CHECKED_BAGGAGE"===e.cate),t.xp6(1),t.Q6J("ngIf","HAND_BAGGAGE"===e.cate),t.xp6(2),t.Oqu(e.value)}}function Jr(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Ur,5,3,"div",60),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.ticket.fareRuleClassesObj[e.ticket.IDF])}}function Lr(i,a){1&i&&(t.TgZ(0,"div",31)(1,"div",11),t._uU(2,"H\xe0nh l\xfd k\xfd g\u1eedi:\xa0"),t.qZA(),t.TgZ(3,"div",52),t._uU(4,"N/A"),t.qZA()(),t.TgZ(5,"div",31)(6,"div",11),t._uU(7,"H\xe0nh l\xfd x\xe1ch tay:\xa0"),t.qZA(),t.TgZ(8,"div",52),t._uU(9,"N/A"),t.qZA()())}function Rr(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,kr,5,6,"div",3),t.qZA(),t.YNc(3,Er,6,8,"span",4),t.TgZ(4,"div",5)(5,"div",6)(6,"div",7)(7,"div"),t._UZ(8,"img",8),t.qZA(),t.TgZ(9,"div",9)(10,"div",10),t._uU(11),t.qZA(),t.TgZ(12,"div",11),t._uU(13),t.qZA()(),t.TgZ(14,"div",12),t._uU(15),t.qZA()(),t.TgZ(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",17),t._UZ(23,"div",18)(24,"div",19)(25,"cf-icon",20),t.qZA()(),t.TgZ(26,"div",21),t._UZ(27,"cf-icon",22),t.TgZ(28,"div",23),t._uU(29),t.ALo(30,"formatVietnameseDate"),t.qZA()(),t.TgZ(31,"div",24),t._UZ(32,"cf-icon",25),t.TgZ(33,"div",26)(34,"span",27),t._uU(35),t.qZA(),t.TgZ(36,"span",28),t._uU(37),t.ALo(38,"mapper"),t.qZA()()()(),t.TgZ(39,"div")(40,"div",29),t._uU(41),t.ALo(42,"date"),t.qZA(),t.TgZ(43,"div",21),t._UZ(44,"cf-icon",22),t.TgZ(45,"div",23),t._uU(46),t.ALo(47,"formatVietnameseDate"),t.qZA()(),t.TgZ(48,"div",24),t._UZ(49,"cf-icon",25),t.TgZ(50,"div",26)(51,"span",27),t._uU(52),t.qZA(),t.TgZ(53,"span",28),t._uU(54),t.ALo(55,"mapper"),t.qZA()()()()()(),t.TgZ(56,"div",30)(57,"div",31)(58,"div",11),t._uU(59,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(60,"div",32),t._uU(61),t.qZA()(),t.TgZ(62,"div",31)(63,"div",11),t._uU(64,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(65,"div",32),t._uU(66),t.qZA()(),t.TgZ(67,"div",31)(68,"div",11),t._uU(69,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.TgZ(70,"div",32),t._uU(71),t.qZA()(),t.YNc(72,Br,2,1,"ng-container",33),t.YNc(73,wr,10,0,"ng-template",null,34,t.W1O),t.qZA()(),t.TgZ(75,"div",35)(76,"div",36)(77,"div",37)(78,"div",24),t._UZ(79,"img",38),t.TgZ(80,"div",39)(81,"div",40),t._uU(82),t.qZA(),t.TgZ(83,"div",41),t._uU(84),t.qZA()()(),t.YNc(85,Ir,2,0,"div",42),t.YNc(86,Sr,2,0,"div",42),t.qZA(),t.TgZ(87,"div",43)(88,"div",44)(89,"div",45)(90,"div",40),t._uU(91),t.ALo(92,"date"),t.qZA(),t.TgZ(93,"div",41),t._uU(94),t.ALo(95,"date"),t.qZA()(),t.TgZ(96,"div",45)(97,"div",40),t._uU(98),t.ALo(99,"date"),t.qZA(),t.TgZ(100,"div",41),t._uU(101),t.ALo(102,"date"),t.qZA()()(),t.TgZ(103,"div",46),t._UZ(104,"div",47)(105,"div",48)(106,"cf-icon",49),t.qZA(),t.TgZ(107,"div",44)(108,"div",39)(109,"div",40),t._uU(110),t.ALo(111,"mapper"),t.qZA()(),t.TgZ(112,"div",39)(113,"div",40),t._uU(114),t.ALo(115,"mapper"),t.qZA()()()()(),t.TgZ(116,"div",50)(117,"div",51)(118,"div",31)(119,"div",11),t._uU(120,"Th\u1eddi gian bay:\xa0"),t.qZA(),t.TgZ(121,"div",52),t._uU(122),t.qZA()(),t.TgZ(123,"div",31)(124,"div",11),t._uU(125,"Lo\u1ea1i m\xe1y bay:\xa0"),t.qZA(),t.TgZ(126,"div",52),t._uU(127),t.qZA()(),t.TgZ(128,"div",31)(129,"div",11),t._uU(130,"H\u1ea1ng ch\u1ed7:\xa0"),t.qZA(),t.YNc(131,Nr,4,2,"span",53),t.YNc(132,Or,1,1,"ng-template",null,54,t.W1O),t.qZA(),t.YNc(134,Jr,2,1,"ng-container",33),t.YNc(135,Lr,10,0,"ng-template",null,34,t.W1O),t.qZA()()(),t.BQk()),2&i){const e=a.$implicit,n=a.index,o=t.MAs(74),r=t.MAs(133),c=t.oxw();t.xp6(2),t.Q6J("ngIf",e.delaySt),t.xp6(1),t.Q6J("ngIf",c.isShowTrip&&!e.delaySt),t.xp6(5),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.hij("",e.operating," - "),t.xp6(2),t.hij("\xa0",e.operatingName,""),t.xp6(2),t.AsE(" ",e.operating,"",e.flightNumber," "),t.xp6(5),t.Oqu(t.xi3(21,40,e.startTime,"HH:mm")),t.xp6(9),t.Oqu(t.lcZ(30,43,e.departure.localTime)),t.xp6(6),t.hij("",e.startPoint," - "),t.xp6(2),t.Oqu(t.xi3(38,45,e.startPoint,c.getLocationData)),t.xp6(4),t.hij(" ",t.xi3(42,48,e.endTime,"HH:mm")," "),t.xp6(5),t.Oqu(t.lcZ(47,51,e.arrival.localTime)),t.xp6(6),t.hij("",e.endPoint," - "),t.xp6(2),t.Oqu(t.xi3(55,53,e.endPoint,c.getLocationData)),t.xp6(7),t.Oqu(e.durationStr),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(5),t.Oqu((null==c.ticket.fareCur?null:c.ticket.fareCur.fareClass)||"N/A"),t.xp6(1),t.Q6J("ngIf",c.ticket.fareRuleClassesObj&&c.ticket.IDF)("ngIfElse",o),t.xp6(7),t.Q6J("src","assets/airline-logo/"+e.operating+".png",t.LSH),t.xp6(3),t.AsE("",e.airline,"",e.flightNumber,""),t.xp6(2),t.Oqu(e.airlineName),t.xp6(1),t.Q6J("ngIf",0===n),t.xp6(1),t.Q6J("ngIf",1===n),t.xp6(5),t.Oqu(t.xi3(92,56,e.startTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(95,59,e.startTime,"dd/MM/yyy")),t.xp6(4),t.Oqu(t.xi3(99,62,e.endTime,"HH:mm")),t.xp6(3),t.Oqu(t.xi3(102,65,e.endTime,"dd/MM/yyy")),t.xp6(9),t.AsE("",t.xi3(111,68,e.startPoint,c.getLocationData)," - ",e.startPoint," "),t.xp6(4),t.AsE("",t.xi3(115,71,e.endPoint,c.getLocationData)," - ",e.endPoint," "),t.xp6(8),t.Oqu(e.durationStrMobile),t.xp6(5),t.Oqu(e.modelAirplaneName),t.xp6(4),t.Q6J("ngIf",(null==c.ticket.fareCur?null:c.ticket.fareCur.cabinName)&&"null"!=(null==c.ticket.fareCur?null:c.ticket.fareCur.cabinName))("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",c.ticket.fareRuleClassesObj&&c.ticket.IDF)("ngIfElse",o)}}let Ke=(()=>{class i{constructor(e,n){this.cfIconRegister=e,this.locationDataSvc=n,this.isShowTrip=!1,this.getLocationData=o=>this.locationDataSvc.getCityNameByCode(o),e.registerIcons([_.UNF,_.B2I,_.okA,_.wvd,_.bHT])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(rt._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-detail-item"]],inputs:{ticket:"ticket",isShowTrip:"isShowTrip"},standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"flex","flex-col","md:w-full"],[4,"ngFor","ngForOf"],[1,"px-[20px]","md:p-0"],["class","w-full bg-[#F0EAF4] rounded flex items-center  gap-x-2 py-1.5 px-3 my-3",4,"ngIf"],["class","text-heading-sm text-neutral-black flex items-center md:hidden",4,"ngIf"],[1,"flex","justify-between","items-center","py-6","md:hidden"],[1,"flex","flex-1","gap-x-9","px-[10px]"],[1,"flex","flex-col","items-center","justify-center","pl-[20px]"],[1,"w-[120px]","h-[60px]","object-contain",3,"src"],[1,"flex","items-center","mt-1.5"],[1,"text-espressive-sm"],[1,"text-body-sm"],[1,"py-[2px]","px-2","bg-neutral-gray-1","rounded","text-espressive-sm","text-neutral-black","mt-2"],[1,"flex","justify-between","gap-x-3"],[1,""],[1,"flex","items-center","gap-x-[20px]","mb-3"],[1,"text-heading-lg","text-neutral-black"],[1,"flex","items-center","w-[50px]","py-1","px-2.5"],[1,"w-1.5","h-1.5","bg-neutral-gray-2","rounded-full"],[1,"w-full","h-[1px]","bg-neutral-gray-2"],["icon","plane","size","small",1,"text-[#ccc]"],[1,"flex","items-center","gap-x-2","mb-2"],["icon","calendar","size","small"],[1,"text-body-md","text-neutral-black"],[1,"flex","items-center","gap-x-2"],["icon","commute","size","small"],[1,"text-neutral-black"],[1,"text-espressive-md"],[1,"text-body-md"],[1,"text-heading-lg","text-neutral-black","mb-3"],[1,"w-[192px]","pl-4","border-l","border-dashed","border-neutral-gray-2","flex","flex-col","justify-between","gap-y-2"],[1,"flex","flex-nowrap","items-center"],[1,"text-espressive-sm","text-neutral-black"],[4,"ngIf","ngIfElse"],["emptyFareRuleTpl",""],[1,"md:flex","hidden","py-4","md:w-full","bg-white","flex-col","rounded-lg","gap-3"],[1,"flex","flex-1","gap-x-9","px-3","flex-col"],[1,"flex","justify-between"],[1,"w-9","h-9","object-contain",3,"src"],[1,"flex","flex-col","gap-y-1"],[1,"text-heading-xs","text-neutral-gray-6"],[1,"text-espressive-xs","text-neutral-gray-4"],["class","h-fit py-1 px-2 text-neutral-white text-espressive-sm bg-secondary-5-3 rounded ",4,"ngIf"],[1,"flex","mt-2","gap-x-4"],[1,"flex","flex-col","gap-y-4"],[1,"flex","flex-col","items-center","gap-y-1"],[1,"flex","flex-col","items-center","justify-between","py-3"],[1,"w-1","h-1","rounded-full","bg-neutral-gray-3"],[1,"border-r","border-r-neutral-gray-3","h-full"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","pt-4","px-4"],[1,"w-full","border-t","pt-3","border-dashed","border-neutral-gray-2","flex","justify-between","gap-y-2","flex-col"],[1,"text-espressive-sm","text-neutral-black","font-semibold"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf","ngIfElse"],["noncabinTemplate",""],[1,"w-full","bg-[#F0EAF4]","rounded","flex","items-center","gap-x-2","py-1.5","px-3","my-3"],["icon","circle_information","size","small",1,"text-secondary-2-4"],[1,"text-express-md","text-neutral-gray-6"],[1,"text-heading-sm","text-neutral-black","flex","items-center","md:hidden"],["icon","circle_information","size","small",1,"mr-2.5"],["class","flex flex-nowrap items-center",4,"ngFor","ngForOf"],["class","text-body-sm",4,"ngIf"],[1,"h-fit","py-1","px-2","text-neutral-white","text-espressive-sm","bg-secondary-5-3","rounded"],[1,"capitalize"],[4,"ngIf"],["class","text-espressive-sm text-neutral-black font-semibold",4,"ngIf"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Rr,137,74,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.ticket.segments))},dependencies:[m.ez,m.sg,m.O5,m.uU,_.AxE,_.Sm8,tt.q,ht],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();function jr(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"td",23)(2,"div",24),t._UZ(3,"img",25),t.TgZ(4,"div"),t._uU(5),t.ALo(6,"mapper"),t.ALo(7,"mapper"),t.qZA()()(),t.TgZ(8,"td",23),t._uU(9),t.qZA(),t.TgZ(10,"td",23),t._uU(11),t.qZA(),t.TgZ(12,"td",23),t._uU(13),t.qZA()()),2&i){const e=a.$implicit,n=t.oxw(2);t.xp6(3),t.Q6J("src","assets/airline-logo/"+e.airlineLogo+".png",t.LSH),t.xp6(2),t.AsE("",t.xi3(6,6,e.startPoint,n.getLocationData)," - ",t.xi3(7,9,e.endPoint,n.getLocationData),""),t.xp6(4),t.hij(" ",n.hasAdtPax?e.fareClass+" - "+e.fareBasis:"-"," "),t.xp6(2),t.hij(" ",n.hasChdPax?e.fareClass+" - "+e.fareBasis:"-"," "),t.xp6(2),t.hij(" ",n.hasInfPax?e.fareClass+" - "+e.fareBasis:"-"," ")}}function Qr(i,a){if(1&i&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"cf-icon",4),t.TgZ(3,"div",5),t._uU(4,"H\u1ea1ng ch\u1ed7 - Fare Basis"),t.qZA()(),t.TgZ(5,"div")(6,"table",6)(7,"thead")(8,"tr",7)(9,"th",8),t._uU(10,"Ch\u1eb7ng bay"),t.qZA(),t.TgZ(11,"th",8),t._uU(12,"Ng\u01b0\u1eddi l\u1edbn (ADT)"),t.qZA(),t.TgZ(13,"th",8),t._uU(14,"Tr\u1ebb em (CHD)"),t.qZA(),t.TgZ(15,"th",8),t._uU(16,"Em b\xe9 (INF)"),t.qZA()()(),t.TgZ(17,"tbody"),t.YNc(18,jr,14,12,"tr",11),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(18),t.Q6J("ngForOf",e.fareBasisInfos)}}function Yr(i,a){1&i&&(t.TgZ(0,"th",8),t._uU(1," Gi\u1ea3m gi\xe1"),t.qZA())}function Hr(i,a){if(1&i&&(t.TgZ(0,"td",29),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" - ",t.Dn7(2,1,t.lcZ(3,5,e.discountAmount),",",".")," ")}}function Vr(i,a){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",",".")," ")}}function Gr(i,a){if(1&i&&(t.TgZ(0,"td",30),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",",".")," ")}}function Kr(i,a){if(1&i&&(t.TgZ(0,"tr")(1,"td",23),t._uU(2),t.qZA(),t.TgZ(3,"td",23),t._uU(4),t.qZA(),t.TgZ(5,"td",23),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td",23),t._uU(10),t.ALo(11,"replace"),t.ALo(12,"number"),t.qZA(),t.YNc(13,Hr,4,7,"td",26),t.ALo(14,"mapper"),t.YNc(15,Vr,4,7,"td",27),t.ALo(16,"mapper"),t.YNc(17,Gr,4,7,"ng-template",null,28,t.W1O),t.qZA()),2&i){const e=a.$implicit,n=t.MAs(18),o=t.oxw();t.xp6(2),t.Oqu(e.type),t.xp6(2),t.Oqu(e.quantity),t.xp6(2),t.Oqu(t.Dn7(7,7,t.lcZ(8,11,e.baseFare),",",".")),t.xp6(4),t.Oqu(t.Dn7(11,13,t.lcZ(12,17,e.surCharge),",",".")||0),t.xp6(3),t.Q6J("ngIf",t.xi3(14,19,o.ticketPriceList,o.isDiscountAmount)),t.xp6(2),t.Q6J("ngIf",t.xi3(16,22,o.ticketPriceList,o.isDiscountAmount))("ngIfElse",n)}}function $r(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.totalFare-e.discountAmount*e.quantity),",","."),"\u0111 ")}}function zr(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("",t.Dn7(2,1,t.lcZ(3,5,e.totalFare),",","."),"\u0111")}}function Wr(i,a){if(1&i&&(t.TgZ(0,"div",37)(1,"div",35),t._uU(2,"Gi\u1ea3m gi\xe1 "),t.qZA(),t.TgZ(3,"div",38),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(4),t.AsE(" - ",t.Dn7(5,2,t.lcZ(6,6,e.discountAmount),",",".")," X ",e.quantity,"")}}function Xr(i,a){if(1&i&&(t.TgZ(0,"div",31)(1,"div",32)(2,"div",33),t._uU(3),t.qZA(),t.TgZ(4,"div",33),t.YNc(5,$r,4,7,"span",34),t.ALo(6,"mapper"),t.YNc(7,zr,4,7,"ng-template",null,28,t.W1O),t.qZA()(),t.TgZ(9,"div",32)(10,"div",35),t._uU(11,"Gi\xe1 v\xe9 m\xe1y bay"),t.qZA(),t.TgZ(12,"div",35),t._uU(13),t.ALo(14,"replace"),t.ALo(15,"number"),t.qZA()(),t.TgZ(16,"div",32)(17,"div",35),t._uU(18,"Thu\u1ebf & ph\xed"),t.qZA(),t.TgZ(19,"div",35),t._uU(20),t.ALo(21,"replace"),t.ALo(22,"number"),t.qZA()(),t.YNc(23,Wr,7,8,"div",36),t.ALo(24,"mapper"),t.qZA()),2&i){const e=a.$implicit,n=t.MAs(8),o=t.oxw();t.xp6(3),t.Oqu(e.type),t.xp6(2),t.Q6J("ngIf",t.xi3(6,8,o.ticketPriceList,o.isDiscountAmount))("ngIfElse",n),t.xp6(8),t.AsE("",t.Dn7(14,11,t.lcZ(15,15,e.baseFare),",","."),"\u0111 x ",e.quantity,""),t.xp6(7),t.AsE("",t.Dn7(21,17,t.lcZ(22,21,e.surCharge),",","."),"\u0111 x ",e.quantity,""),t.xp6(3),t.Q6J("ngIf",t.xi3(24,23,o.ticketPriceList,o.isDiscountAmount))}}let $e=(()=>{class i{constructor(e){this.locationDataSvc=e,this.ticketPriceList=[],this.fareBasisInfos=[],this.hasAdtPax=!1,this.hasChdPax=!1,this.hasInfPax=!1,this.sumPriceTicket=n=>n.reduce((o,r)=>o+r.totalFare-r.discountAmount*r.quantity,0),this.getLocationData=n=>this.locationDataSvc.getCityNameByCode(n),this.isDiscountAmount=n=>n.find(o=>o.discountAmount)}ngOnChanges(e){e.ticketPriceList&&e.ticketPriceList.currentValue&&this.ticketPriceList.forEach(n=>{n.type.includes("ADT")&&(this.hasAdtPax=!0),n.type.includes("CHD")&&(this.hasChdPax=!0),n.type.includes("INF")&&(this.hasInfPax=!0)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(rt._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-info-item"]],inputs:{ticketPriceList:"ticketPriceList",fareBasisInfos:"fareBasisInfos"},standalone:!0,features:[t.TTD,t.jDz],decls:45,vars:13,consts:[[1,"md:hidden","p-6","flex","flex-col","gap-y-4"],["class","flex flex-col gap-y-4",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-2"],["icon","circle_information","size","small"],[1,"text-heading-sm"],[1,"table-auto","w-full"],[1,"border-b","border-neutral-gray-1"],[1,"text-left","text-espressive-sm","text-neutral-gray-4","py-3"],["class","text-left text-espressive-sm text-neutral-gray-4 py-3",4,"ngIf"],[1,"text-right","text-espressive-sm","text-neutral-gray-4","py-3"],[4,"ngFor","ngForOf"],[1,"flex","justify-end","items-center","gap-x-6","bg-secondary-3-1","py-1","px-2"],[1,"text-espressive-sm"],[1,"text-heading-md"],[1,"hidden","md:flex","flex-col","gap-y-4"],[1,"flex","flex-col","bg-neutral-white","rounded-lg","p-4","gap-y-2"],["class","flex flex-col gap-y-1",4,"ngFor","ngForOf"],[1,"px-6","pb-6","md:p-0","md:pt-4"],[1,"w-full","py-1.5","px-3","bg-functional-1-1","rounded","flex","gap-x-2"],["icon","info","size","small",1,"text-functional-1-3"],[1,"text-express-md"],[1,"text-body-md-short"],[1,"text-body-md","text-neutral-black","py-3"],[1,"flex","gap-x-2","items-center"],[1,"w-[80px]","h-[40px]","object-contain","md:w-9","md:h-9",3,"src"],["class","text-body-md text-secondary-5-3 py-3",4,"ngIf"],["class","text-right text-body-md text-neutral-black py-3",4,"ngIf","ngIfElse"],["noDiscountTempl",""],[1,"text-body-md","text-secondary-5-3","py-3"],[1,"text-right","text-body-md","text-neutral-black","py-3"],[1,"flex","flex-col","gap-y-1"],[1,"flex","justify-between","items-center"],[1,"text-heading-xs","text-neutral-black"],[4,"ngIf","ngIfElse"],[1,"text-body-sm","text-neutral-gray-4"],["class","flex justify-between items-center pb-3",4,"ngIf"],[1,"flex","justify-between","items-center","pb-3"],[1,"text-body-sm","text-secondary-5-3"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Qr,19,1,"div",1),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"cf-icon",4),t.TgZ(5,"div",5),t._uU(6,"Gi\xe1 v\xe9"),t.qZA()(),t.TgZ(7,"table",6)(8,"thead")(9,"tr",7)(10,"th",8),t._uU(11,"H\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(12,"th",8),t._uU(13,"S\u1ed1 l\u01b0\u1ee3ng"),t.qZA(),t.TgZ(14,"th",8),t._uU(15,"Gi\xe1 v\xe9"),t.qZA(),t.TgZ(16,"th",8),t._uU(17,"Thu\u1ebf ph\xed"),t.qZA(),t.YNc(18,Yr,2,0,"th",9),t.ALo(19,"mapper"),t.TgZ(20,"th",10),t._uU(21,"T\u1ed5ng chi ph\xed"),t.qZA()()(),t.TgZ(22,"tbody"),t.YNc(23,Kr,19,25,"tr",11),t.qZA()(),t.TgZ(24,"div",12)(25,"div",13),t._uU(26,"T\u1ed5ng chi ph\xed"),t.qZA(),t.TgZ(27,"div",14),t._uU(28),t.ALo(29,"number"),t.ALo(30,"mapper"),t.qZA()()()(),t.TgZ(31,"div",15)(32,"div",16),t.YNc(33,Xr,25,26,"div",17),t.qZA()(),t.TgZ(34,"div",18)(35,"div",19),t._UZ(36,"cf-icon",20),t.TgZ(37,"div")(38,"div",21),t._uU(39,"L\u01b0u \xfd:"),t.qZA(),t.TgZ(40,"div",22)(41,"div"),t._uU(42,"Gi\xe1 v\xe9 c\xf3 th\u1ec3 thay \u0111\u1ed5i t\xf9y theo th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9, t\u1ef7 gi\xe1 v\xe0 ch\xednh s\xe1ch c\u1ee7a h\xe3ng h\xe0ng kh\xf4ng. Qu\xfd kh\xe1ch ch\xfa \xfd ki\u1ec3m tra l\u1ea1i gi\xe1 v\xe9 m\u1edbi nh\u1ea5t t\u1ea1i b\u01b0\u1edbc \u0111\u1eb7t v\xe9"),t.qZA(),t.TgZ(43,"div"),t._uU(44,"H\xe0nh tr\xecnh kh\u1edfi h\xe0nh ngo\xe0i Vi\u1ec7t Nam ch\u1ec9 \u0111\u01b0\u1ee3c b\u1ea3o \u0111\u1ea3m gi\xe1 t\u1ea1i th\u1eddi \u0111i\u1ec3m \u0111\u1eb7t v\xe9"),t.qZA()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.fareBasisInfos.length),t.xp6(17),t.Q6J("ngIf",t.xi3(19,5,n.ticketPriceList,n.isDiscountAmount)),t.xp6(5),t.Q6J("ngForOf",n.ticketPriceList),t.xp6(5),t.hij(" ",t.lcZ(29,8,t.xi3(30,10,n.ticketPriceList,n.sumPriceTicket))," \u0111"),t.xp6(5),t.Q6J("ngForOf",n.ticketPriceList))},dependencies:[m.ez,m.sg,m.O5,m.JJ,_.AxE,_.Sm8,tt.q,nt.AS,j.N8],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();var tc=v(94700);let ec=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,L.D)(()=>ic),(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})(),ic=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"departure",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"arrival",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"fareBasic",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"qualifier",void 0),(0,s.gn)([(0,L.D)(()=>nc),(0,u.C)()],i.prototype,"rules",void 0),i})(),nc=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"header",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"details",void 0),i})();const oc={headers:new it.WM({"Content-Type":"application/json"})};let ac=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaSvc=o}getFareRule(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-fare-rules",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:n})),oc)),(0,at.U)(n=>(0,X.yE)(ec,n,{excludeExtraneousValues:!0})))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function rc(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij("",e.name,": ")}}function cc(i,a){if(1&i&&(t.TgZ(0,"div",10),t.YNc(1,rc,2,1,"span",1),t._UZ(2,"span",11),t.qZA()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.name),t.xp6(1),t.Q6J("innerHTML",e.value,t.oJD)}}function lc(i,a){if(1&i&&(t.TgZ(0,"div",6)(1,"div",7),t._uU(2),t.qZA(),t.TgZ(3,"div",8),t.YNc(4,cc,3,2,"div",9),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij("",e.desc.vn,":"),t.xp6(2),t.Q6J("ngForOf",null==e?null:e.items)}}function sc(i,a){if(1&i&&(t.TgZ(0,"div")(1,"div",4),t.YNc(2,lc,5,2,"div",5),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.fareRule)}}function uc(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"cf-icon",20),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.onChange(o))}),t.qZA()}}function pc(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"cf-icon",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw(3);return t.KtG(r.onChange(o))}),t.qZA()}}function dc(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.header)}}function _c(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Oqu(e.headerVi)}}function gc(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",22),t._uU(2),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e," ")}}function mc(i,a){if(1&i&&(t.ynx(0),t.YNc(1,gc,3,1,"ng-container",16),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngForOf",e.details)}}function fc(i,a){1&i&&t._UZ(0,"div",25)}function hc(i,a){if(1&i&&(t.ynx(0),t.YNc(1,fc,1,0,"div",23),t.TgZ(2,"pre",24),t._uU(3),t.qZA(),t.BQk()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngIf",e.isLoading),t.xp6(2),t.Oqu(e.detailsVI)}}function vc(i,a){if(1&i&&(t.ynx(0),t.YNc(1,mc,2,1,"ng-container",1),t.YNc(2,hc,4,2,"ng-container",1),t.BQk()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngIf","ORIGIN"==e.translateMode),t.xp6(1),t.Q6J("ngIf","VI"==e.translateMode)}}function xc(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",17),t.YNc(2,uc,1,0,"cf-icon",18),t.YNc(3,pc,1,0,"cf-icon",19),t.YNc(4,dc,2,1,"span",1),t.YNc(5,_c,2,1,"span",1),t.qZA(),t.YNc(6,vc,3,2,"ng-container",1),t.BQk()),2&i){const e=a.$implicit,n=t.oxw(3);t.xp6(2),t.Q6J("ngIf",!e.isShowDetail),t.xp6(1),t.Q6J("ngIf",e.isShowDetail),t.xp6(1),t.Q6J("ngIf","ORIGIN"==n.translateMode),t.xp6(1),t.Q6J("ngIf","VI"==n.translateMode),t.xp6(1),t.Q6J("ngIf",e.isShowDetail)}}function yc(i,a){if(1&i&&(t.TgZ(0,"div",12)(1,"div",14)(2,"div",15),t._uU(3),t.qZA()(),t.TgZ(4,"div",4),t.YNc(5,xc,7,5,"ng-container",16),t.qZA()()),2&i){const e=a.$implicit;t.xp6(3),t.HOy(" ",e.departure," ",e.arrival," ",e.qualifier," Fare Basis ",e.fareBasic," "),t.xp6(2),t.Q6J("ngForOf",e.rules)}}function Cc(i,a){if(1&i&&(t.TgZ(0,"div",12),t.YNc(1,yc,6,5,"div",13),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.dataJourneyInfo)}}function Tc(i,a){1&i&&(t.TgZ(0,"div")(1,"div",26)(2,"div",27)(3,"div",28),t._UZ(4,"div",29)(5,"div",30),t.qZA()()()())}function bc(i,a){1&i&&(t.TgZ(0,"div",31),t._uU(1,"Li\xean h\u1ec7 booker \u0111\u1ec3 bi\u1ebft th\xf4ng tin ch\xednh x\xe1c "),t.qZA())}let ze=(()=>{class i{set journeyInfo(e){this.isLoadingFareRule=!0,this.fareRuleBtcSvc.getFareRule(e).subscribe({next:n=>{this.dataJourneyInfo=[...n.data.map(o=>Object.assign(Object.assign({},o),{rules:o.rules.map(r=>Object.assign(Object.assign({},r),{isShowDetail:!1,headerVi:"",detailsVI:"",isLoading:!1}))}))]},error:n=>console.error(n),complete:()=>{this.isLoadingFareRule=!1,this.cdr.detectChanges()}})}constructor(e,n,o,r){this.recaptchaV3Service=e,this.fareRuleBtcSvc=n,this.cdr=r,this.translateMode="ORIGIN",this.isLoadingFareRule=!1,o.registerIcons([_.kPk,_.mAV,_.$S])}onChange(e){e.isShowDetail=!e.isShowDetail,e.isShowDetail&&"VI"===this.translateMode&&""==e.detailsVI&&this.translateRule(e)}translate(){}collapseAllDetais(){for(let e=0;e<this.dataJourneyInfo.length;e++)for(let n=0;n<this.dataJourneyInfo[e].rules.length;n++)this.dataJourneyInfo[e].rules[n].isShowDetail=!1}translateHeaders(){}translateRule(e){}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(tc.YC),t.Y36(ac),t.Y36(_.KNP),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-rule-item"]],inputs:{fareRule:"fareRule",journeyInfo:"journeyInfo"},standalone:!0,features:[t.jDz],decls:5,vars:4,consts:[[1,"p-6","md:bg-neutral-white","md:rounded-lg"],[4,"ngIf"],["class","flex flex-col gap-y-4 w-full",4,"ngIf"],["class","text-espressive-sm",4,"ngIf"],[1,"flex","flex-col","gap-y-2"],["class","border border-neutral-gray-2 rounded-lg p-4",4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-2","rounded-lg","p-4"],[1,"text-express-md","mb-2"],[1,"text-body-sm","flex","flex-col","gap-y-2"],["class","text-body-sm",4,"ngFor","ngForOf"],[1,"text-body-sm"],[3,"innerHTML"],[1,"flex","flex-col","gap-y-4","w-full"],["class","flex flex-col gap-y-4 w-full",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","w-full"],[1,"text-heading-sm","text-neutral-gray-6"],[4,"ngFor","ngForOf"],[1,"text-body-md","flex","gap-x-2","items-center"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_right",3,"click",4,"ngIf"],["class","text-neutral-gray-6 cursor-pointer","size","medium","icon","caret_down",3,"click",4,"ngIf"],["size","medium","icon","caret_right",1,"text-neutral-gray-6","cursor-pointer",3,"click"],["size","medium","icon","caret_down",1,"text-neutral-gray-6","cursor-pointer",3,"click"],[1,"text-body-md","pl-12"],["class","w-full bg-neutral-gray-2 h-4 rounded-md animate-pulse",4,"ngIf"],[1,"text-body-md","pl-8","whitespace-pre-wrap"],[1,"w-full","bg-neutral-gray-2","h-4","rounded-md","animate-pulse"],[1,"flex","justify-between","items-center","gap-x-4","h-full","animate-pulse"],[1,"w-full","flex","flex-row","items-center","h-full","justify-start","gap-x-3"],[1,"flex","flex-col","space-y-3"],[1,"w-48","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[192px]","md:w-24"],[1,"w-36","bg-neutral-gray-2","h-6","rounded-md","md:max-w-[144px]","md:w-18"],[1,"text-espressive-sm"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,sc,3,1,"div",1),t.YNc(2,Cc,2,1,"div",2),t.YNc(3,Tc,6,0,"div",1),t.YNc(4,bc,2,0,"div",3),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.fareRule),t.xp6(1),t.Q6J("ngIf",(null==n.dataJourneyInfo?null:n.dataJourneyInfo.length)&&!n.isLoadingFareRule),t.xp6(1),t.Q6J("ngIf",n.isLoadingFareRule),t.xp6(1),t.Q6J("ngIf",!(n.fareRule||null!=n.dataJourneyInfo&&n.dataJourneyInfo.length||n.isLoadingFareRule)))},dependencies:[m.ez,m.sg,m.O5,_.AxE,_.Sm8],styles:["[_nghost-%COMP%]{display:block}"]}),i})();function kc(i,a){1&i&&(t.TgZ(0,"div",60)(1,"div",61),t._UZ(2,"img",62),t.qZA(),t.TgZ(3,"div",63)(4,"div",64)(5,"div",65),t._uU(6," Chuy\u1ebfn bay hot "),t.qZA()(),t.TgZ(7,"div",66)(8,"div",65),t._uU(9," S\u1eafp h\u1ebft v\xe9 "),t.qZA()()()())}function Ec(i,a){1&i&&(t.TgZ(0,"div",67),t._UZ(1,"cf-icon",68),t.TgZ(2,"div"),t._uU(3,"GDS"),t.qZA()())}function Dc(i,a){1&i&&(t.TgZ(0,"div",67),t._UZ(1,"cf-icon",68),t.TgZ(2,"div"),t._uU(3,"1A"),t.qZA()())}function Ac(i,a){1&i&&(t.TgZ(0,"div",67),t._UZ(1,"cf-icon",68),t.TgZ(2,"div"),t._uU(3,"1G"),t.qZA()())}function Zc(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,t.xi3(4,6,e.ticket,e.ndcTimeLimitCountDown$)),"m")," ph\xfat")}}function Bc(i,a){if(1&i&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",70),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,Zc,5,9,"span",34),t.ALo(5,"mapper"),t.qZA()()),2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function wc(i,a){1&i&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",70),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function Ic(i,a){if(1&i&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",71),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&i){const e=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function Sc(i,a){1&i&&(t.TgZ(0,"div",69),t._UZ(1,"cf-icon",72),t.TgZ(2,"div"),t._uU(3,"Private Fare"),t.qZA()())}function Fc(i,a){if(1&i&&(t.TgZ(0,"div",21)(1,"div",18),t._uU(2),t.qZA(),t.TgZ(3,"div",73),t._uU(4),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(e.ticket.durationStr),t.xp6(2),t.AsE("",e.ticket.startPoint," - ",e.ticket.endPoint,"")}}function Nc(i,a){1&i&&(t.TgZ(0,"div",73),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function qc(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint," ")}}function Oc(i,a){if(1&i&&(t.ynx(0),t.YNc(1,qc,2,2,"div",34),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function Pc(i,a){if(1&i&&t.YNc(0,Oc,2,1,"ng-container",77),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.ticket.segments)}}function Mc(i,a){if(1&i&&(t.TgZ(0,"div",74,75),t._uU(2),t.YNc(3,Pc,1,1,"ng-template",null,76,t.W1O),t.qZA()),2&i){const e=t.MAs(4),n=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",n.ticket.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function Uc(i,a){if(1&i&&(t.TgZ(0,"div",82)(1,"span",83,75),t._uU(3),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)}}function Jc(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Lc(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,Jc,2,1,"span",34),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Rc(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function jc(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,Rc,2,1,"span",34),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(null==(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0]?null:(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0].fareType.description),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Qc(i,a){if(1&i&&(t.TgZ(0,"span",87)(1,"span",88),t._uU(2,"H\u1ea1ng ch\u1ed7: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(4),t.hij(" ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function Yc(i,a){if(1&i&&t.YNc(0,Qc,5,1,"span",86),2&i){const e=t.oxw(3);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Hc(i,a){if(1&i&&(t.YNc(0,jc,4,2,"span",32),t.YNc(1,Yc,1,1,"ng-template",null,85,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf","IVS"===n.ticket.provider&&(null==n.ticket.fareCur||null==n.ticket.fareCur.fareInfos?null:n.ticket.fareCur.fareInfos.length))("ngIfElse",e)}}function Vc(i,a){if(1&i&&(t.TgZ(0,"div",78),t.YNc(1,Uc,4,3,"div",79),t.TgZ(2,"div",80),t.YNc(3,Lc,4,2,"span",32),t.YNc(4,Hc,3,2,"ng-template",null,81,t.W1O),t.qZA()()),2&i){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("ngIf","GDS"!==n.ticket.provider&&"BSP"!==n.ticket.provider&&"FLY_ONE"!==n.ticket.provider),t.xp6(2),t.Q6J("ngIf",(null==n.ticket.fareCur?null:n.ticket.fareCur.cabinName)&&"null"!=(null==n.ticket.fareCur?null:n.ticket.fareCur.cabinName))("ngIfElse",e)}}function Gc(i,a){1&i&&t._UZ(0,"cf-icon",95)}function Kc(i,a){1&i&&t._UZ(0,"cf-icon",96)}function $c(i,a){1&i&&t._UZ(0,"cf-icon",97)}function zc(i,a){1&i&&t._UZ(0,"cf-icon",98)}function Wc(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Xc(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,Wc,2,1,"span",34),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function tl(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(5);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function el(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,tl,2,1,"span",34),t.qZA()),2&i){const e=t.oxw(4);t.xp6(2),t.Oqu(null==(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0]?null:(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0].fareType.description),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function il(i,a){if(1&i&&(t.TgZ(0,"span",87)(1,"span",88),t._uU(2,"H\u1ea1ng ch\u1ed7: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&i){const e=t.oxw(5);t.xp6(4),t.hij(" ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function nl(i,a){if(1&i&&t.YNc(0,il,5,1,"span",86),2&i){const e=t.oxw(4);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function ol(i,a){if(1&i&&(t.YNc(0,el,4,2,"span",32),t.YNc(1,nl,1,1,"ng-template",null,85,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(3);t.Q6J("ngIf","IVS"===n.ticket.provider&&(null==n.ticket.fareCur||null==n.ticket.fareCur.fareInfos?null:n.ticket.fareCur.fareInfos.length))("ngIfElse",e)}}function al(i,a){if(1&i&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",95),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(3),t.hij("K\xfd g\u1eedi: ",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.checkedBaggage,"")}}function rl(i,a){if(1&i&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",96),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(3),t.hij("X\xe1ch tay: ",e.ticket.bookedInfo.handBaggage,"")}}function cl(i,a){if(1&i&&(t.ynx(0),t.YNc(1,al,4,1,"div",100),t.YNc(2,rl,4,1,"div",100),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",e.ticket.bookedInfo.handBaggage)}}function ll(i,a){if(1&i&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",97),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("Su\u1ea5t \u0103n: ",e.ticket.food?"C\xf3":"Kh\xf4ng","")}}function sl(i,a){if(1&i&&(t.TgZ(0,"div",101),t._UZ(1,"cf-icon",98),t.TgZ(2,"div",102),t._uU(3),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("Ho\xe0n ti\u1ec1n: ",e.ticket.refundableFare?"C\xf3":"Kh\xf4ng","")}}function ul(i,a){if(1&i&&(t.TgZ(0,"div",17)(1,"div",99),t._uU(2),t.YNc(3,Xc,4,2,"span",32),t.YNc(4,ol,3,2,"ng-template",null,81,t.W1O),t.qZA(),t.YNc(6,cl,3,2,"ng-container",34),t.YNc(7,ll,4,1,"div",100),t.YNc(8,sl,4,1,"div",100),t.qZA()),2&i){const e=t.MAs(5),n=t.oxw(2);t.xp6(2),t.AsE("",n.ticket.startPoint," - ",n.ticket.endPoint,": "),t.xp6(1),t.Q6J("ngIf",(null==n.ticket.fareCur?null:n.ticket.fareCur.cabinName)&&"null"!=(null==n.ticket.fareCur?null:n.ticket.fareCur.cabinName))("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",n.ticket.bookedInfo),t.xp6(1),t.Q6J("ngIf",n.ticket.food),t.xp6(1),t.Q6J("ngIf",n.ticket.refundableFare)}}function pl(i,a){if(1&i&&(t.TgZ(0,"div",89,75),t.ynx(2),t.TgZ(3,"div",90),t.YNc(4,Gc,1,0,"cf-icon",91),t.YNc(5,Kc,1,0,"cf-icon",92),t.YNc(6,$c,1,0,"cf-icon",93),t.YNc(7,zc,1,0,"cf-icon",94),t.qZA(),t.BQk(),t.YNc(8,ul,9,7,"ng-template",null,76,t.W1O),t.qZA()),2&i){const e=t.MAs(9),n=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(4),t.Q6J("ngIf",null==n.ticket.bookedInfo?null:n.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==n.ticket.bookedInfo?null:n.ticket.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",n.ticket.food),t.xp6(1),t.Q6J("ngIf",n.ticket.refundableFare)}}function dl(i,a){1&i&&t._UZ(0,"div",105)}function _l(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",103),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw();return t.KtG(c.onChangeMode(r.key))}),t._uU(1),t.YNc(2,dl,1,0,"div",104),t.qZA()}if(2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.hij(" ",e.value," "),t.xp6(1),t.Q6J("ngIf",e.key===n.mode)}}function gl(i,a){if(1&i&&(t.TgZ(0,"div",109),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",",".")," \u0111 ")}}function ml(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice-t.xi3(4,7,e.ticketPriceList,e.adultDiscountAmount)),",",".")," ")}}function fl(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",","."))}}function hl(i,a){if(1&i&&(t.ynx(0),t.YNc(1,gl,4,7,"div",106),t.ALo(2,"mapper"),t.YNc(3,ml,5,10,"span",107),t.YNc(4,fl,4,7,"ng-template",null,108,t.W1O),t.BQk()),2&i){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.ticket.discountData&&n.ticket.totalPrice&&t.xi3(2,3,n.ticketPriceList,n.adultDiscountAmount)),t.xp6(2),t.Q6J("ngIf",n.ticket.discountData&&n.ticket.totalPrice)("ngIfElse",e)}}function vl(i,a){if(1&i&&(t.TgZ(0,"div",109),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",",".")," \u0111 ")}}function xl(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.ALo(5,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)-t.xi3(5,10,e.ticketPriceList,e.sumDiscountAmount)),",",".")," ")}}function yl(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",","."))}}function Cl(i,a){if(1&i&&(t.YNc(0,vl,5,10,"div",106),t.ALo(1,"mapper"),t.ALo(2,"mapper"),t.YNc(3,xl,6,13,"span",107),t.ALo(4,"mapper"),t.YNc(5,yl,5,10,"ng-template",null,108,t.W1O)),2&i){const e=t.MAs(6),n=t.oxw();t.Q6J("ngIf",n.ticket.discountData&&t.xi3(1,3,n.ticketPriceList,n.sumPriceTicket)&&t.xi3(2,6,n.ticketPriceList,n.sumDiscountAmount)),t.xp6(3),t.Q6J("ngIf",n.ticket.discountData&&t.xi3(4,9,n.ticketPriceList,n.sumPriceTicket))("ngIfElse",e)}}function Tl(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",111)(2,"button",112),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&i&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function bl(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",113),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onTicketSelected())}),t._uU(2," Ch\u1ecdn "),t.qZA(),t.BQk()}}function kl(i,a){if(1&i&&t._UZ(0,"btc-ticket-detail-item",120),2&i){const e=t.oxw(2);t.Q6J("ticket",e.ticket)}}function El(i,a){if(1&i&&t._UZ(0,"btc-ticket-info-item",121),2&i){const e=t.oxw(2);t.Q6J("ticketPriceList",e.ticketPriceList)}}function Dl(i,a){if(1&i&&t._UZ(0,"btc-ticket-rule-item",122),2&i){const e=t.oxw(2);t.Q6J("fareRule",e.ticket.fareRulesObj[e.ticket.IDF])}}function Al(i,a){1&i&&t._UZ(0,"div")}function Zl(i,a){if(1&i&&(t.TgZ(0,"div",114)(1,"ngcontainer",115),t.YNc(2,kl,1,1,"btc-ticket-detail-item",116),t.YNc(3,El,1,1,"btc-ticket-info-item",117),t.YNc(4,Dl,1,1,"btc-ticket-rule-item",118),t.YNc(5,Al,1,0,"div",119),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function Bl(i,a){1&i&&(t.TgZ(0,"div",60)(1,"div",61),t._UZ(2,"img",123),t.qZA(),t.TgZ(3,"div",63)(4,"div",64)(5,"div",65),t._uU(6," Chuy\u1ebfn bay hot "),t.qZA()(),t.TgZ(7,"div",66)(8,"div",65),t._uU(9," S\u1eafp h\u1ebft v\xe9 "),t.qZA()()()())}function wl(i,a){1&i&&(t.TgZ(0,"div",46),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function Il(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint,"")}}function Sl(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Il,2,2,"div",34),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function Fl(i,a){if(1&i&&t.YNc(0,Sl,2,1,"ng-container",77),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.ticket.segments)}}function Nl(i,a){if(1&i&&(t.TgZ(0,"div",124,75),t._uU(2),t.YNc(3,Fl,1,1,"ng-template",null,76,t.W1O),t.qZA()),2&i){const e=t.MAs(4),n=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",n.ticket.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function ql(i,a){if(1&i&&(t.TgZ(0,"div",82)(1,"span",83,75),t._uU(3),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.seatRemain)}}function Ol(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Pl(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,Ol,2,1,"span",34),t.qZA()),2&i){const e=t.oxw(2);t.xp6(2),t.Oqu(null==e.ticket.fareCur?null:e.ticket.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Ml(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,")")}}function Ul(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",84),t._uU(2),t.qZA(),t.YNc(3,Ml,2,1,"span",34),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(null==(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0]?null:(null==e.ticket.fareCur?null:e.ticket.fareCur.fareInfos)[0].fareType.description),t.xp6(1),t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Jl(i,a){if(1&i&&(t.TgZ(0,"span",87)(1,"span",88),t._uU(2,"H\u1ea1ng ch\u1ed7: "),t.qZA(),t.TgZ(3,"span"),t._uU(4),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(4),t.hij(" ",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass,"")}}function Ll(i,a){if(1&i&&t.YNc(0,Jl,5,1,"span",86),2&i){const e=t.oxw(3);t.Q6J("ngIf",null==e.ticket.fareCur?null:e.ticket.fareCur.fareClass)}}function Rl(i,a){if(1&i&&(t.YNc(0,Ul,4,2,"span",32),t.YNc(1,Ll,1,1,"ng-template",null,85,t.W1O)),2&i){const e=t.MAs(2),n=t.oxw(2);t.Q6J("ngIf","IVS"===n.ticket.provider&&(null==n.ticket.fareCur||null==n.ticket.fareCur.fareInfos?null:n.ticket.fareCur.fareInfos.length))("ngIfElse",e)}}function jl(i,a){if(1&i&&(t.TgZ(0,"div",78),t.YNc(1,ql,4,3,"div",79),t.TgZ(2,"div",125),t.YNc(3,Pl,4,2,"span",32),t.YNc(4,Rl,3,2,"ng-template",null,81,t.W1O),t.qZA()()),2&i){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("ngIf","GDS"!==n.ticket.provider&&"BSP"!==n.ticket.provider&&"FLY_ONE"!==n.ticket.provider),t.xp6(2),t.Q6J("ngIf",(null==n.ticket.fareCur?null:n.ticket.fareCur.cabinName)&&"null"!=(null==n.ticket.fareCur?null:n.ticket.fareCur.cabinName))("ngIfElse",e)}}function Ql(i,a){1&i&&t._UZ(0,"cf-icon",95)}function Yl(i,a){1&i&&t._UZ(0,"cf-icon",96)}function Hl(i,a){1&i&&t._UZ(0,"cf-icon",97)}function Vl(i,a){1&i&&t._UZ(0,"cf-icon",98)}function Gl(i,a){if(1&i&&(t.TgZ(0,"div",126),t.ynx(1),t.TgZ(2,"div",90),t.YNc(3,Ql,1,0,"cf-icon",91),t.YNc(4,Yl,1,0,"cf-icon",92),t.YNc(5,Hl,1,0,"cf-icon",93),t.YNc(6,Vl,1,0,"cf-icon",94),t.qZA(),t.BQk(),t.qZA()),2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==e.ticket.bookedInfo?null:e.ticket.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",e.ticket.food),t.xp6(1),t.Q6J("ngIf",e.ticket.refundableFare)}}function Kl(i,a){if(1&i&&(t.TgZ(0,"div",109),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",",".")," \u0111 ")}}function $l(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice-t.xi3(4,7,e.ticketPriceList,e.adultDiscountAmount)),",",".")," ")}}function zl(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,e.ticket.totalPrice),",","."))}}function Wl(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Kl,4,7,"div",106),t.ALo(2,"mapper"),t.YNc(3,$l,5,10,"span",107),t.YNc(4,zl,4,7,"ng-template",null,108,t.W1O),t.BQk()),2&i){const e=t.MAs(5),n=t.oxw();t.xp6(1),t.Q6J("ngIf",n.ticket.discountData&&n.ticket.totalPrice&&t.xi3(2,3,n.ticketPriceList,n.adultDiscountAmount)),t.xp6(2),t.Q6J("ngIf",n.ticket.discountData&&n.ticket.totalPrice)("ngIfElse",e)}}function Xl(i,a){if(1&i&&(t.TgZ(0,"div",109),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",",".")," \u0111 ")}}function ts(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.ALo(5,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)-t.xi3(5,10,e.ticketPriceList,e.sumDiscountAmount)),",",".")," ")}}function es(i,a){if(1&i&&(t.TgZ(0,"span",110),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Oqu(t.Dn7(2,1,t.lcZ(3,5,t.xi3(4,7,e.ticketPriceList,e.sumPriceTicket)),",","."))}}function is(i,a){if(1&i&&(t.YNc(0,Xl,5,10,"div",106),t.ALo(1,"mapper"),t.ALo(2,"mapper"),t.YNc(3,ts,6,13,"span",107),t.ALo(4,"mapper"),t.YNc(5,es,5,10,"ng-template",null,108,t.W1O)),2&i){const e=t.MAs(6),n=t.oxw();t.Q6J("ngIf",n.ticket.discountData&&t.xi3(1,3,n.ticketPriceList,n.sumPriceTicket)&&t.xi3(2,6,n.ticketPriceList,n.sumDiscountAmount)),t.xp6(3),t.Q6J("ngIf",n.ticket.discountData&&t.xi3(4,9,n.ticketPriceList,n.sumPriceTicket))("ngIfElse",e)}}function ns(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",111)(2,"button",127),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&i&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function os(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",128),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onTicketSelected())}),t._uU(2," Ch\u1ecdn "),t.qZA(),t.BQk()}}function as(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"button",129),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.reselectClick.emit())}),t.TgZ(2,"div"),t._uU(3,"\u0110\xe3 ch\u1ecdn"),t.qZA()(),t.BQk()}}const rs=function(i){return{"!text-secondary-3-4 !bg-secondary-3-1 !border-secondary-3-4":i}};function cs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",134),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onChangeMode(r.key))}),t._uU(1),t.qZA()}if(2&i){const e=a.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,rs,e.key===n.mode)),t.xp6(1),t.hij(" ",e.valueMobile," ")}}function ls(i,a){if(1&i&&t._UZ(0,"btc-ticket-detail-item",120),2&i){const e=t.oxw(3);t.Q6J("ticket",e.ticket)}}function ss(i,a){if(1&i&&t._UZ(0,"btc-ticket-info-item",121),2&i){const e=t.oxw(3);t.Q6J("ticketPriceList",e.ticketPriceList)}}function us(i,a){if(1&i&&t._UZ(0,"btc-ticket-rule-item",122),2&i){const e=t.oxw(3);t.Q6J("fareRule",e.ticket.fareRulesObj[e.ticket.IDF])}}function ps(i,a){1&i&&t._UZ(0,"div")}function ds(i,a){if(1&i&&(t.TgZ(0,"div",114)(1,"ngcontainer",115),t.YNc(2,ls,1,1,"btc-ticket-detail-item",116),t.YNc(3,ss,1,1,"btc-ticket-info-item",117),t.YNc(4,us,1,1,"btc-ticket-rule-item",118),t.YNc(5,ps,1,0,"div",119),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function _s(i,a){if(1&i&&(t.TgZ(0,"div",130)(1,"div",131),t.YNc(2,cs,2,4,"div",132),t.qZA(),t.TgZ(3,"div",133),t.YNc(4,ds,6,4,"div",35),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.modeOptions),t.xp6(2),t.Q6J("ngIf",e.mode)}}const We=function(i){return{"border-[3px] border-[#FFD154] bg-[#FFD154] rounded-xl":i}},gs=function(i){return{"border-blue-2 border ":i}},ms=function(i){return{" !bg-secondary-3-1":i}};let fs=(()=>{class i{getPaxTypeDisplay(e){var n;return(null===(n=null==pt.S?void 0:pt.S.find(o=>o.value&&o.value===e.journey[0].paxType))||void 0===n?void 0:n.name)||""}constructor(e,n,o,r,c,l){this.cfIconRegister=e,this._helperSvc=n,this._helperResultSvc=o,this._cdr=r,this.bottomSheetService=c,this._mobileDetectService=l,this.selectTicket=new t.vpe,this.reselectClick=new t.vpe,this.isMobile=!1,this.ticketSelectedMobile=!1,this.ticketPriceList=[],this.mode="",this.modeOptions=(0,gt.cloneDeep)(pt.Mf),this.hasFareRule=p=>!["Kh\xf4ng","0 kg","0 KG","0 Kg"].includes(p.trim()),this.ndcTimeLimitCountDown$=p=>{let d=0;return(0,oe.H)(0,1e3).pipe((0,at.U)(()=>(d++,1e3*(p.fareOptions[0].ndcTimeLimit-d))),(0,ae.o)(g=>g>=0))},this.adultDiscountAmount=p=>{var d;return(null===(d=p.find(g=>g.type.includes("ADT")))||void 0===d?void 0:d.discountAmount)||0},this.sumDiscountAmount=p=>p.reduce((d,g)=>d+g.discountAmount*g.quantity,0),this.sumPriceTicket=p=>p.reduce((d,g)=>d+g.totalFare,0),e.registerIcons([_._7G,_.JbC,_.d7d,_.Npe,_.Gey,_.YwC,_.KYu,_.ILM,_.D7,_.o1t])}ngOnChanges(e){var n;null!==(n=e.ticket)&&void 0!==n&&n.currentValue&&(this.ticket=this.formatTicketData(this.ticket),this.progressDataForDetailItem(this.ticket))}ngOnInit(){var e;this.isMobile=this._mobileDetectService.isMobile(),(null===(e=this.ticketPriceList)||void 0===e||!e.length)&&this.progressDataForDetailItem(this.ticket)}formatTicketData(e){var n,o,r,c;const l=null===(o=null===(n=e.fareRuleClassesObj[e.IDF])||void 0===n?void 0:n.find(g=>"CHECKED_BAGGAGE"===g.cate))||void 0===o?void 0:o.value,p=null===(c=null===(r=e.fareRuleClassesObj[e.IDF])||void 0===r?void 0:r.find(g=>"HAND_BAGGAGE"===g.cate))||void 0===c?void 0:c.value,d=Object.assign(Object.assign({},e),{segments:e.segments.map(g=>{var y,x,C,f,E,T;return Object.assign(Object.assign({},g),{bookedInfo:Object.assign(Object.assign({},e.bookedInfo),{checkedBaggage:l&&this.hasFareRule(l)?l:null!==(y=g.bookedInfo)&&void 0!==y&&y.checkedBaggage&&this.hasFareRule(null===(x=g.bookedInfo)||void 0===x?void 0:x.checkedBaggage)?null===(C=g.bookedInfo)||void 0===C?void 0:C.checkedBaggage:"",handBaggage:p&&this.hasFareRule(p)?p:null!==(f=g.bookedInfo)&&void 0!==f&&f.handBaggage&&this.hasFareRule(null===(E=g.bookedInfo)||void 0===E?void 0:E.handBaggage)?null===(T=g.bookedInfo)||void 0===T?void 0:T.handBaggage:""})})})});return(0,X.yE)(Tt,d,{excludeExtraneousValues:!0})}cardClick(e){console.log(e)}onTicketSelected(){this.selectTicket.emit(this.ticket)}onChangeMode(e){this.mode=this.mode===e?"":e}progressDataForDetailItem(e){this.ticketPriceList=[...this._helperResultSvc.progressPriceList(this.searchData,[e])]}onTicketDetailMobile(e,n){e.stopPropagation(),this.mode="flight",this.bottomSheetService.open(n,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",containerFullHeigh:!0,rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.mode=""})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP),t.Y36(Nt.J),t.Y36(Ct),t.Y36(t.sBO),t.Y36(V.a2),t.Y36(yt.L))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-item"]],inputs:{ticket:"ticket",searchData:"searchData",viewConfig:"viewConfig",ticketSelectedMobile:"ticketSelectedMobile"},outputs:{selectTicket:"selectTicket",reselectClick:"reselectClick"},standalone:!0,features:[t.TTD,t.jDz],decls:95,vars:67,consts:[[1,"flex","flex-col","md:hidden",3,"ngClass"],["class","flex justify-between gap-2 items-center rounded-t-lg px-2 pb-1 bg-[#FFD154]",4,"ngIf"],[1,"bg-white","rounded-xl","shadow-md","md:hidden"],[1,"justify-between","flex-col","flex"],[1,"flex","flex-col","justify-between","flex-1","gap-4","relative"],[1,"float-right","w-fit","md:hidden","absolute","right-0","top-0"],["class"," flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],["class","  flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],[1,"flex","justify-between"],[1,"flex","flex-col","gap-y-4","flex-1","px-4"],[1,"flex","gap-x-2"],["class","mt-2 px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],[1,"flex","flex-1","justify-between","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","h-full","justify-center","gap-[10px]","max-w-[110px]"],[1,"w-[100px]","h-[40px]","object-contain",3,"src"],[1,"flex-1","flex","items-center","gap-2"],[1,"px-2"],[1,"flex","flex-col","gap-y-2"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-espressive-sm","text-neutral-gray-4","text-center"],["class"," flex flex-col gap-y-2 px-2",4,"ngIf"],[1,"flex","flex-col","gap-y-2","px-2"],["class","text-espressive-sm text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-espressive-sm text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-col","flex-1","gap-y-2","px-2"],["class","flex gap-x-1 items-center",4,"ngIf"],["class","w-fit flex gap-2 hover:text-secondary-7-4",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","text-espressive-sm","text-secondary-3-4","md:hidden"],["class","relative flex items-center mr-3 px-0.5 pb-4 pt-1.5 cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"px-4","pb-4","pt-6","border-l","border-neutral-gray-1","flex","flex-col","justify-between","w-full","min-w-[168px]","max-w-[192px]","md:hidden"],[1,"flex","flex-col","mb-3"],[1,"flex","flex-col","items-end"],[4,"ngIf","ngIfElse"],["netPriceTpl",""],[4,"ngIf"],["class","border-t border-neutral-gray-1",4,"ngIf"],[1,"hidden","md:flex","flex-col",3,"ngClass"],[1,"w-full","rounded-lg","shadow-lg","hidden","flex-col","md:flex",3,"ngClass"],[1,"bg-white","w-full","flex","justify-between","rounded-t-lg",3,"ngClass"],[1,"flex-1","flex"],[1,"flex","flex-col","p-4","gap-3","justify-between","flex-1"],[1,"flex","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[36px]"],[1,"w-[36px]","h-[36px]","object-contain",3,"src"],[1,"flex","flex-col","text-center"],[1,"text-heading-xs","text-neutral-black","whitespace-nowrap"],[1,"text-express-xs","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","flex-1","items-center"],[1,"text-express-xs","text-neutral-gray-4"],[1,"flex-1","w-full","flex","items-center","justify-between"],[1,"flex-1","h-[1px]","bg-neutral-gray-4"],[1,"w-1","h-1","border-[2px]","border-t-neutral-gray-4","border-r-neutral-gray-4","border-b-transparent","border-l-transparent","rotate-45"],["class","text-express-xs text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-express-xs text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-1","gap-2"],["class","w-fit flex gap-2 hover:text-secondary-7-4",4,"ngIf"],[1,"flex","flex-col","justify-center","items-center","gap-2","pl-2","pr-3","pb-3","pt-2","border-l","border-neutral-gray-1"],[1,"flex","flex-col"],[1,"w-full","rounded-b-lg","bg-blue-1","py-2","px-4","flex","text-center","justify-center","items-center","text-blue-4","text-body-sm","font-medium",3,"click"],["detailTicketMobileTpl",""],[1,"flex","justify-between","gap-2","items-center","rounded-t-lg","px-2","pb-1","bg-[#FFD154]"],[1,"flex","flex-col","relative","h-[28px]"],["src","/assets/images/apricot-blossom.png","alt","apricot-blossom",1,"scale-[0.25]","origin-top-left","relative","-top-[12px]","-left-[10px]"],[1,"flex","gap-1","items-center"],[1,"bg-[url('/assets/images/bg-tag-tet.png')]","bg-cover","bg-center","bg-no-repeat","w-[120px]","h-[25px]"],[1,"text-red-4","text-body-md","w-full","pl-[9px]","pt-[2px]"],[1,"bg-[url('/assets/images/bg-tag-tet-2.png')]","bg-cover","bg-center","bg-no-repeat","w-[84px]","h-[25px]"],[1,"flex","gap-x-1","items-center","py-1","px-2","bg-secondary-3-1","rounded-bl-lg","text-secondary-3-4","text-body-sm"],["icon","document","size","small"],[1,"mt-2","px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],["icon","ticket","size","small"],["icon","user","size","small"],["icon","money","size","small"],[1,"text-espressive-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-espressive-sm","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[4,"ngFor","ngForOf"],[1,"flex","gap-x-1","items-center"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-heading-sm","text-neutral-black"],["noncabinTemplate",""],[1,"flex","justify-end","items-center","gap-x-2"],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"capitalize"],["nonCabinOtherIVSTpl",""],["class","flex flex-wrap",4,"ngIf"],[1,"flex","flex-wrap"],[1,"whitespace-nowrap"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],[1,"text-express-sm"],["class","flex item-center gap-x-2 ",4,"ngIf"],[1,"flex","item-center","gap-x-2"],[1,"text-body-sm"],[1,"relative","flex","items-center","mr-3","px-0.5","pb-4","pt-1.5","cursor-pointer",3,"click"],["class","absolute bottom-0 w-full h-[3px] bg-primary-2-3 rounded",4,"ngIf"],[1,"absolute","bottom-0","w-full","h-[3px]","bg-primary-2-3","rounded"],["class","visible line-through mb-2 text-neutral-gray-4 text-body-sm whitespace-nowrap font-semibold",4,"ngIf"],["class","text-heading-lg font-medium",4,"ngIf","ngIfElse"],["noDiscountTpl",""],[1,"visible","line-through","mb-2","text-neutral-gray-4","text-body-sm","whitespace-nowrap","font-semibold"],[1,"text-heading-lg","font-medium"],["color","black",3,"cfTooltip"],["cf-button","","size","small","type","solid",1,"w-40","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"min-w-[130px]","justify-center","py-[5px]",3,"click"],[1,"border-t","border-neutral-gray-1"],[3,"ngSwitch"],[3,"ticket",4,"ngSwitchCase"],[3,"ticketPriceList",4,"ngSwitchCase"],[3,"fareRule",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[3,"ticket"],[3,"ticketPriceList"],[3,"fareRule"],["src","/assets/images/apricot-blossom.png","alt","apricot-blossom",1,"relative","-top-[9px]","-left-[8px]"],[1,"text-express-xs","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],[1,"text-express-sm","text-neutral-black","whitespace-nowrap"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4"],["cf-button","","size","small","type","solid",1,"w-[82px]","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"w-[82px]","justify-center","py-[5px]",3,"click"],["type","secondary","cf-button","","size","small",1,"w-[82px]","justify-center","bg-neutral-white",3,"click"],[1,"w-full","h-full","flex","flex-col"],[1,"flex","text-espressive-md","gap-2","px-4","py-2"],["class","relative border flex font-medium items-center text-neutral-gray-4 px-4 py-1.5 border-white cursor-pointer rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4","bg-neutral-gray-1","h-full","overflow-y-scroll","gap-3","flex","flex-col"],[1,"relative","border","flex","font-medium","items-center","text-neutral-gray-4","px-4","py-1.5","border-white","cursor-pointer","rounded-full",3,"ngClass","click"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.YNc(1,kc,10,0,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),t.YNc(6,Ec,4,0,"div",6),t.YNc(7,Dc,4,0,"div",7),t.YNc(8,Ac,4,0,"div",6),t.qZA(),t.TgZ(9,"div",8)(10,"div",9)(11,"div",10),t.YNc(12,Bc,6,4,"div",11),t.YNc(13,wc,4,0,"div",11),t.YNc(14,Ic,5,4,"div",11),t.ALo(15,"mapper"),t.YNc(16,Sc,4,0,"div",11),t.qZA(),t.TgZ(17,"div",12)(18,"div",13),t._UZ(19,"img",14),t.qZA(),t.TgZ(20,"div",15)(21,"div",16)(22,"div",17)(23,"div",18),t._uU(24),t.ALo(25,"date"),t.ALo(26,"date"),t.qZA(),t.TgZ(27,"div",19),t._uU(28),t.qZA()()(),t.YNc(29,Fc,5,3,"div",20),t.TgZ(30,"div",21)(31,"div",18),t._uU(32),t.qZA(),t.YNc(33,Nc,2,0,"div",22),t.YNc(34,Mc,5,3,"div",23),t.qZA(),t.TgZ(35,"div",24),t.YNc(36,Vc,6,3,"div",25),t.YNc(37,pl,10,6,"div",26),t.qZA()()(),t.TgZ(38,"div",27),t.YNc(39,_l,3,2,"div",28),t.qZA()(),t.TgZ(40,"div",29)(41,"div",30)(42,"div",31),t.YNc(43,hl,6,6,"ng-container",32),t.YNc(44,Cl,7,12,"ng-template",null,33,t.W1O),t.qZA()(),t.YNc(46,Tl,4,2,"ng-container",34),t.YNc(47,bl,3,0,"ng-container",34),t.qZA()()(),t.YNc(48,Zl,6,4,"div",35),t.qZA()()(),t.TgZ(49,"div",36),t.YNc(50,Bl,10,0,"div",1),t._UZ(51,"div",2),t.TgZ(52,"div",37)(53,"div",38)(54,"div",39)(55,"div",40)(56,"div",41)(57,"div",42),t._UZ(58,"img",43),t.qZA(),t.TgZ(59,"div",44)(60,"div",45),t._uU(61),t.ALo(62,"date"),t.qZA(),t.TgZ(63,"div",46),t._uU(64),t.qZA()(),t.TgZ(65,"div",47)(66,"div",48),t._uU(67),t.qZA(),t.TgZ(68,"div",49),t._UZ(69,"div",50)(70,"div",51),t.qZA(),t.YNc(71,wl,2,0,"div",52),t.YNc(72,Nl,5,3,"div",53),t.qZA(),t.TgZ(73,"div",44)(74,"div",45),t._uU(75),t.ALo(76,"date"),t.qZA(),t.TgZ(77,"div",46),t._uU(78),t.qZA()()(),t.TgZ(79,"div",54),t.YNc(80,jl,6,3,"div",25),t.YNc(81,Gl,7,4,"div",55),t.qZA()(),t.TgZ(82,"div",56)(83,"div",57)(84,"div",31),t.YNc(85,Wl,6,6,"ng-container",32),t.YNc(86,is,7,12,"ng-template",null,33,t.W1O),t.qZA()(),t.YNc(88,ns,4,2,"ng-container",34),t.YNc(89,os,3,0,"ng-container",34),t.YNc(90,as,4,0,"ng-container",34),t.qZA()()(),t.TgZ(91,"div",58),t.NdJ("click",function(c){t.CHM(o);const l=t.MAs(94);return t.KtG(n.onTicketDetailMobile(c,l))}),t._uU(92," Chi ti\u1ebft "),t.qZA()(),t.YNc(93,_s,5,2,"ng-template",null,59,t.W1O),t.qZA()}if(2&e){const o=t.MAs(45);t.Q6J("ngClass",t.VKq(59,We,"IVS"===n.ticket.provider)),t.xp6(1),t.Q6J("ngIf","IVS"===n.ticket.provider),t.xp6(5),t.Q6J("ngIf","GDS"===n.ticket.provider),t.xp6(1),t.Q6J("ngIf","BSP"===n.ticket.provider),t.xp6(1),t.Q6J("ngIf","AIR_1G"===n.ticket.provider),t.xp6(4),t.Q6J("ngIf",n.ticket.isNdcFare),t.xp6(1),t.Q6J("ngIf",n.ticket.isLccFare),t.xp6(1),t.Q6J("ngIf",("BSP"===n.ticket.provider||"AIR_1G"===n.ticket.provider)&&t.xi3(15,44,n.searchData,n.getPaxTypeDisplay)),t.xp6(2),t.Q6J("ngIf",n.ticket.privateFare),t.xp6(3),t.Q6J("src",n.ticket.logoAirline,t.LSH),t.xp6(5),t.AsE("",t.xi3(25,47,n.ticket.departure.localTime,"HH:mm")," - ",t.xi3(26,50,n.ticket.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",n.ticket.operatingName?n.ticket.operatingName:n.ticket.airlineName,""),t.xp6(1),t.Q6J("ngIf",n.viewConfig.showDuration),t.xp6(3),t.Oqu(n.ticket.flightNumber),t.xp6(1),t.Q6J("ngIf",0===n.ticket.numOfStops),t.xp6(1),t.Q6J("ngIf",n.ticket.numOfStops>0),t.xp6(2),t.Q6J("ngIf",!n.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",n.ticket.fareRuleClassesData||n.ticket.refundableFare||n.ticket.food||n.ticket.bookedInfo),t.xp6(2),t.Q6J("ngForOf",n.modeOptions),t.xp6(4),t.Q6J("ngIf",!n.viewConfig.showNetPrice)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",0===(null==n.ticket.fareCur?null:n.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",0!==(null==n.ticket.fareCur?null:n.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",n.mode),t.xp6(1),t.Q6J("ngClass",t.VKq(61,We,"IVS"===n.ticket.provider)),t.xp6(1),t.Q6J("ngIf","IVS"===n.ticket.provider),t.xp6(2),t.Q6J("ngClass",t.VKq(63,gs,n.ticketSelectedMobile)),t.xp6(1),t.Q6J("ngClass",t.VKq(65,ms,n.ticketSelectedMobile)),t.xp6(5),t.Q6J("src",n.ticket.logoAirline,t.LSH),t.xp6(3),t.Oqu(t.xi3(62,53,n.ticket.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(n.ticket.startPoint),t.xp6(3),t.Oqu(n.ticket.durationStr),t.xp6(4),t.Q6J("ngIf",0===n.ticket.numOfStops),t.xp6(1),t.Q6J("ngIf",n.ticket.numOfStops>0),t.xp6(3),t.Oqu(t.xi3(76,56,n.ticket.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(n.ticket.endPoint),t.xp6(2),t.Q6J("ngIf",!n.viewConfig.hideFareClass),t.xp6(1),t.Q6J("ngIf",n.ticket.fareRuleClassesData||n.ticket.refundableFare||n.ticket.food||n.ticket.bookedInfo),t.xp6(4),t.Q6J("ngIf",!n.viewConfig.showNetPrice)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",0===(null==n.ticket.fareCur?null:n.ticket.fareCur.seatRemain)),t.xp6(1),t.Q6J("ngIf",0!==(null==n.ticket.fareCur?null:n.ticket.fareCur.seatRemain)&&!n.ticketSelectedMobile),t.xp6(1),t.Q6J("ngIf",n.ticketSelectedMobile)}},dependencies:[m.ez,m.mk,m.sg,m.O5,m.RF,m.n9,m.ED,m.Ov,m.JJ,m.uU,Pt.Lk,_.AxE,_.Sm8,j.N8,j.Xq,tt.q,nt.AS,Ke,$e,ze],styles:["[_nghost-%COMP%]{display:block}"]}),i})();var Xe=v(74891),It=v(19123);function hs(i,a){1&i&&(t.O4$(),t.TgZ(0,"svg",17),t._UZ(1,"path",18),t.qZA())}const vs=function(i){return{"bg-neutral-gray-1":i}};function xs(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",14),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onFilterChange(r.key))}),t.TgZ(1,"div",15),t.YNc(2,hs,2,0,"svg",16),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&i){const e=a.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(3,vs,n.sortTypeTemp===e.key)),t.xp6(2),t.Q6J("ngIf",n.sortTypeTemp===e.key),t.xp6(2),t.Oqu(e.value)}}function ys(i,a){if(1&i&&(t.TgZ(0,"div",6)(1,"div",12),t.YNc(2,xs,5,5,"div",13),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.sortOptions)}}function Cs(i,a){if(1&i&&(t.TgZ(0,"cf-radio",25),t._uU(1),t.qZA()),2&i){const e=a.$implicit;t.Q6J("value",e.key),t.xp6(1),t.hij(" ",e.value," ")}}function Ts(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",19)(1,"div",20)(2,"cf-radio-group",21),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onFilterChange(o))})("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.sortTypeTemp=o)}),t.YNc(3,Cs,2,2,"cf-radio",22),t.qZA()(),t.TgZ(4,"div",23)(5,"button",24),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onApply())}),t._uU(6,"X\xe1c nh\u1eadn"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngModel",e.sortTypeTemp),t.xp6(1),t.Q6J("ngForOf",e.sortOptions)}}let bs=(()=>{class i{constructor(e,n,o,r,c){this.bottomSheetService=e,this._mobileDetectService=n,this.cfIconRegister=o,this.overlay=r,this.scrollStrategyOptions=c,this.sortType="min_price",this.sortTypeChange=new t.vpe,this.OPTIONS_SORT=Je,this.sortOptions=Object.entries(Je).map(([l,p])=>({key:l,value:p})),this.isOpen=!1,this.isMobile=!1,this.scrollStrategy=this.overlay.scrollStrategies.close(),this.positionPairs=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}],o.registerIcons([_.PlV])}ngOnInit(){this.isMobile=this._mobileDetectService.isMobile()}ngOnChanges(e){e.sortType&&(this.sortTypeTemp=e.sortType.currentValue)}openSelectSort(e){e.stopPropagation(),this.isOpen=!this.isOpen}outsideClick(){this.isOpen=!1}onFilterChange(e){this.isMobile?this.sortTypeTemp=e:(this.sortTypeChange.emit(e),this.isOpen=!1)}openBottomSheet(e){this.bottomSheetService.open(e,{headerTitle:"S\u1eafp x\u1ebfp",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.sortTypeTemp=this.sortType})}onApply(){this.sortTypeChange.emit(this.sortTypeTemp),this.bottomSheetService.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(V.a2),t.Y36(yt.L),t.Y36(_.KNP),t.Y36(xt.aV),t.Y36(xt.uw))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-options-sort"]],inputs:{sortType:"sortType"},outputs:{sortTypeChange:"sortTypeChange"},standalone:!0,features:[t.TTD,t.jDz],decls:18,vars:5,consts:[[1,"gap-x-1.5","items-center","border","w-fit","border-neutral-gray-3","rounded-full","px-4","py-[5px]","hidden","md:flex",3,"click"],[1,"text-body-md","whitespace-nowrap"],["icon","sort","size","small",1,"text-neutral-gray-5"],["cdkOverlayOrigin","",1,"min-w-[212px]","md:hidden","bg-white","rounded-2xl","px-4","py-4","flex","justify-between","h-fit",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin","elParent",""],[1,"flex","gap-3","cursor-pointer","items-center","justify-between"],[1,"flex","flex-col"],[1,"text-espressive-lg","font-semibold"],[1,"text-body-md-short"],["icon","chevron_down","size","small",1,"mr-2"],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayPositions","overlayOutsideClick"],["mobileTpl",""],[1,"shadow-cf-lg","bg-neutral-white","rounded-lg","text-body-md","py-2","px-2","min-w-[232px]","w-[232px]"],["class"," py-3 px-3 flex items-center gap-x-2.5 hover:bg-neutral-gray-1 hover:cursor-pointer rounded-xl",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"py-3","px-3","flex","items-center","gap-x-2.5","hover:bg-neutral-gray-1","hover:cursor-pointer","rounded-xl",3,"ngClass","click"],[1,"w-4","h-4"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.7763 3.5019C14.0514 3.74651 14.0762 4.16789 13.8316 4.44308L6.7205 12.4431C6.59399 12.5854 6.41265 12.6668 6.22223 12.6668C6.0318 12.6668 5.85047 12.5854 5.72396 12.4431L2.1684 8.44308C1.92379 8.16789 1.94858 7.74651 2.22376 7.5019C2.49895 7.25728 2.92033 7.28207 3.16495 7.55726L6.22223 10.9967L12.8351 3.55726C13.0797 3.28207 13.5011 3.25729 13.7763 3.5019Z","fill","#2C2C2C"],[1,"flex","flex-col","md:w-full","gap-4"],[1,"p-4","flex","flex-col","gap-3"],[1,"flex","gap-4","flex-col",3,"ngModel","checkChange","ngModelChange"],["size","medium",3,"value",4,"ngFor","ngForOf"],[1,"p-4","w-full","gap-x-4","hidden","shadow-cf-large-top","md:flex"],["cf-button","",1,"w-full","justify-center",3,"click"],["size","medium",3,"value"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(17);return t.KtG(n.openBottomSheet(c))}),t.TgZ(1,"div",1),t._uU(2,"S\u1eafp x\u1ebfp"),t.qZA(),t._UZ(3,"cf-icon",2),t.qZA(),t.TgZ(4,"div",3,4),t.NdJ("click",function(c){return n.openSelectSort(c)}),t.TgZ(8,"div",5)(9,"div",6)(10,"div",7),t._uU(11," S\u1eafp x\u1ebfp "),t.qZA(),t.TgZ(12,"div",8),t._uU(13),t.qZA()(),t._UZ(14,"cf-icon",9),t.qZA()(),t.YNc(15,ys,3,1,"ng-template",10),t.NdJ("overlayOutsideClick",function(){return n.outsideClick()}),t.YNc(16,Ts,7,2,"ng-template",null,11,t.W1O)}if(2&e){const o=t.MAs(6);t.xp6(13),t.hij(" ",n.OPTIONS_SORT[n.sortTypeTemp]," "),t.xp6(2),t.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n.isOpen)("cdkConnectedOverlayScrollStrategy",n.scrollStrategy)("cdkConnectedOverlayPositions",n.positionPairs)}},dependencies:[m.ez,m.mk,m.sg,m.O5,Xe.f,xt.pI,xt.xu,_.AxE,_.Sm8,j.N8,j.Xq,It.T,It.o,A.u5,A.JJ,A.On],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();function ks(i,a){if(1&i&&(t.TgZ(0,"div",20),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.Q6J("cfTooltip",e.journey.returnDateTooltip),t.xp6(1),t.hij("+",e.journey.stopOvernight,"")}}function Es(i,a){1&i&&(t.TgZ(0,"div",21),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function Ds(i,a){if(1&i&&(t.TgZ(0,"div"),t._uU(1),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint||e.startPoint,"")}}function As(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Ds,2,2,"div",26),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.delay)}}function Zs(i,a){if(1&i&&t.YNc(0,As,2,1,"ng-container",25),2&i){const e=t.oxw(2);t.Q6J("ngForOf",e.journey.segments)}}function Bs(i,a){if(1&i&&(t.TgZ(0,"div",22,23),t._uU(2),t.YNc(3,Zs,1,1,"ng-template",null,24,t.W1O),t.qZA()),2&i){const e=t.MAs(4),n=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",n.journey.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function ws(i,a){if(1&i&&(t.TgZ(0,"div",27)(1,"span",28,23),t._uU(3),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.journey.fareCur?null:e.journey.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.seatRemain)}}function Is(i,a){if(1&i&&(t.TgZ(0,"span",32),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("(",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,")")}}function Ss(i,a){if(1&i&&(t.TgZ(0,"span",29)(1,"span",30),t._uU(2),t.qZA(),t.YNc(3,Is,2,1,"span",31),t.qZA()),2&i){const e=t.oxw();t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function Fs(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,"")}}function Ns(i,a){if(1&i&&t.YNc(0,Fs,2,1,"span",26),2&i){const e=t.oxw();t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function qs(i,a){1&i&&t._UZ(0,"cf-icon",39)}function Os(i,a){1&i&&t._UZ(0,"cf-icon",40)}function Ps(i,a){1&i&&t._UZ(0,"cf-icon",41)}function Ms(i,a){1&i&&t._UZ(0,"cf-icon",42)}function Us(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("\xa0(",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,")")}}function Js(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",30),t._uU(2),t.qZA(),t.YNc(3,Us,2,1,"span",26),t.qZA()),2&i){const e=t.oxw(3);t.xp6(2),t.Oqu(null==e.journey.fareCur?null:e.journey.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function Ls(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.journey.fareCur?null:e.journey.fareCur.fareClass,"")}}function Rs(i,a){if(1&i&&t.YNc(0,Ls,2,1,"span",26),2&i){const e=t.oxw(3);t.Q6J("ngIf",null==e.journey.fareCur?null:e.journey.fareCur.fareClass)}}function js(i,a){if(1&i&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",39),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(3),t.hij("K\xfd g\u1eedi: ",null==e.journey.bookedInfo?null:e.journey.bookedInfo.checkedBaggage,"")}}function Qs(i,a){if(1&i&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",40),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&i){const e=t.oxw(4);t.xp6(3),t.hij("X\xe1ch tay: ",e.journey.bookedInfo.handBaggage,"")}}function Ys(i,a){if(1&i&&(t.ynx(0),t.YNc(1,js,4,1,"div",46),t.YNc(2,Qs,4,1,"div",46),t.BQk()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.journey.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",e.journey.bookedInfo.handBaggage)}}function Hs(i,a){if(1&i&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",41),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("Su\u1ea5t \u0103n: ",e.journey.food?"C\xf3":"Kh\xf4ng","")}}function Vs(i,a){if(1&i&&(t.TgZ(0,"div",47),t._UZ(1,"cf-icon",42),t.TgZ(2,"div",48),t._uU(3),t.qZA()()),2&i){const e=t.oxw(3);t.xp6(3),t.hij("Ho\xe0n ti\u1ec1n: ",e.journey.refundableFare?"C\xf3":"Kh\xf4ng","")}}function Gs(i,a){if(1&i&&(t.TgZ(0,"div",43)(1,"div",44),t._uU(2),t.YNc(3,Js,4,2,"span",45),t.YNc(4,Rs,1,1,"ng-template",null,18,t.W1O),t.qZA(),t.YNc(6,Ys,3,2,"ng-container",26),t.YNc(7,Hs,4,1,"div",46),t.YNc(8,Vs,4,1,"div",46),t.qZA()),2&i){const e=t.MAs(5),n=t.oxw(2);t.xp6(2),t.AsE("",n.journey.startPoint," - ",n.journey.endPoint,": "),t.xp6(1),t.Q6J("ngIf",(null==n.journey.fareCur?null:n.journey.fareCur.cabinName)&&"null"!=(null==n.journey.fareCur?null:n.journey.fareCur.cabinName))("ngIfElse",e),t.xp6(3),t.Q6J("ngIf",n.journey.bookedInfo),t.xp6(1),t.Q6J("ngIf",n.journey.food),t.xp6(1),t.Q6J("ngIf",n.journey.refundableFare)}}function Ks(i,a){if(1&i&&(t.TgZ(0,"div",33,23),t.ynx(2),t.TgZ(3,"div",34),t.YNc(4,qs,1,0,"cf-icon",35),t.YNc(5,Os,1,0,"cf-icon",36),t.YNc(6,Ps,1,0,"cf-icon",37),t.YNc(7,Ms,1,0,"cf-icon",38),t.qZA(),t.BQk(),t.YNc(8,Gs,9,7,"ng-template",null,24,t.W1O),t.qZA()),2&i){const e=t.MAs(9),n=t.oxw();t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(4),t.Q6J("ngIf",null==n.journey.bookedInfo?null:n.journey.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==n.journey.bookedInfo?null:n.journey.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",n.journey.food),t.xp6(1),t.Q6J("ngIf",n.journey.refundableFare)}}let $s=(()=>{class i{constructor(e){this.cfIconRegister=e,e.registerIcons([_._7G,_.JbC,_.d7d,_.Npe,_.Gey,_.YwC,_.KYu,_.ILM,_.D7,_.o1t])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-combo-item-journey"]],inputs:{journey:"journey"},standalone:!0,features:[t.jDz],decls:31,vars:21,consts:[[1,"flex","gap-4","w-full","justify-between"],[1,"flex","flex-col","gap-y-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","justify-center","max-w-[100px]"],[1,"w-[100px]","h-[40px]","object-contain",3,"src"],[1,"px-2"],[1,"flex","flex-col","gap-y-2","relative","items-center","text-center"],["class","font-medium leading-[8px] absolute text-express-xs text-neutral-gray-4 right-2 -top-2 translate-x-full cursor-pointer p-1 rounded bg-neutral-gray-1",3,"cfTooltip",4,"ngIf"],[1,"text-heading-sm","text-neutral-black","whitespace-nowrap"],[1,"text-espressive-sm","text-neutral-gray-4","text-center"],[1,"flex","flex-col","gap-y-2","px-2"],[1,"text-body-md-short","text-neutral-gray-4","whitespace-nowrap"],["class","text-espressive-sm text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-espressive-sm text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-col","gap-y-2","flex-1","px-2"],[1,"flex","gap-x-1","items-center"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-heading-sm","text-neutral-black","max-w-[124px]","flex","flex-wrap","whitespace-normal"],["class","inline-block  max-w-[124px] flex flex-wrap",4,"ngIf","ngIfElse"],["noncabinTemplate",""],["class","w-fit flex gap-2 hover:text-secondary-7-4",3,"placement","cfTooltip",4,"ngIf"],[1,"font-medium","leading-[8px]","absolute","text-express-xs","text-neutral-gray-4","right-2","-top-2","translate-x-full","cursor-pointer","p-1","rounded","bg-neutral-gray-1",3,"cfTooltip"],[1,"text-espressive-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-espressive-sm","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-end","items-center","gap-x-2"],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"inline-block","max-w-[124px]","flex","flex-wrap"],[1,"capitalize"],["class","break-words",4,"ngIf"],[1,"break-words"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],[1,"flex","flex-col","gap-y-2"],[1,"text-express-sm"],[4,"ngIf","ngIfElse"],["class","flex item-center gap-x-2 ",4,"ngIf"],[1,"flex","item-center","gap-x-2"],[1,"text-body-sm"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"img",3),t.qZA()(),t.TgZ(4,"div",4)(5,"div",5),t.YNc(6,ks,2,2,"div",6),t.TgZ(7,"div",7),t._uU(8),t.ALo(9,"date"),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"span",8),t._uU(12),t.qZA()()(),t.TgZ(13,"div",9)(14,"div",7),t._uU(15),t.qZA(),t.TgZ(16,"div",10),t._uU(17),t.qZA()(),t.TgZ(18,"div",9)(19,"div",7),t._uU(20),t.qZA(),t.YNc(21,Es,2,0,"div",11),t.YNc(22,Bs,5,3,"div",12),t.qZA(),t.TgZ(23,"div",13)(24,"div",14),t.YNc(25,ws,4,3,"div",15),t.TgZ(26,"div",16),t.YNc(27,Ss,4,2,"span",17),t.YNc(28,Ns,1,1,"ng-template",null,18,t.W1O),t.qZA()(),t.YNc(30,Ks,10,6,"div",19),t.qZA()()),2&e){const o=t.MAs(29);t.xp6(3),t.Q6J("src",n.journey.logoAirline,t.LSH),t.xp6(3),t.Q6J("ngIf",n.journey.stopOvernight>0),t.xp6(2),t.AsE("",t.xi3(9,15,n.journey.departure.localTime,"HH:mm")," - ",t.xi3(10,18,n.journey.arrival.localTime,"HH:mm"),""),t.xp6(4),t.hij(" ",n.journey.operatingName?n.journey.operatingName:n.journey.airlineName," "),t.xp6(3),t.Oqu(n.journey.durationStr),t.xp6(2),t.AsE("",n.journey.startPoint," - ",n.journey.endPoint,""),t.xp6(3),t.Oqu(n.journey.flightNumber),t.xp6(1),t.Q6J("ngIf",0===n.journey.numOfStops),t.xp6(1),t.Q6J("ngIf",n.journey.numOfStops>0),t.xp6(3),t.Q6J("ngIf","GDS"!==n.journey.provider&&"BSP"!==n.journey.provider&&"FLY_ONE"!==n.journey.provider),t.xp6(2),t.Q6J("ngIf",(null==n.journey.fareCur?null:n.journey.fareCur.cabinName)&&"null"!=(null==n.journey.fareCur?null:n.journey.fareCur.cabinName))("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",n.journey.fareRuleClassesData||n.journey.refundableFare||n.journey.food||n.journey.bookedInfo)}},dependencies:[m.ez,m.sg,m.O5,m.uU,Pt.Lk,_.AxE,_.Sm8],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();function zs(i,a){if(1&i&&(t.TgZ(0,"div",16),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.Q6J("cfTooltip",e.returnDateTooltip),t.xp6(1),t.hij(" +",e.stopOvernight,"")}}function Ws(i,a){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.durationStr," (",e.numOfStops," \u0111i\u1ec3m d\u1eebng)")}}function Xs(i,a){if(1&i&&(t.TgZ(0,"div",18),t._UZ(1,"cf-icon",19),t.TgZ(2,"div",20),t._uU(3),t.ALo(4,"mapper"),t.qZA(),t.TgZ(5,"div",21),t._uU(6),t.ALo(7,"mapper"),t.qZA()()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(3),t.Oqu(t.xi3(4,2,e,n.stops)[0].duration),t.xp6(3),t.hij("d\u1eebng t\u1ea1i ",t.xi3(7,5,e,n.stops)[0].airport,"")}}function tu(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"cf-icon",19),t.TgZ(2,"div",21),t._uU(3),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(3),t.Oqu(e.airport)}}function eu(i,a){if(1&i&&(t.TgZ(0,"div",18),t.YNc(1,tu,4,1,"ng-container",22),t.ALo(2,"mapper"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngForOf",t.xi3(2,1,e,n.stops))}}function iu(i,a){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,e.getTotalAmount||0),",",".")," \u0111")}}function nu(i,a){if(1&i&&(t.TgZ(0,"div",17),t._uU(1),t.ALo(2,"replace"),t.ALo(3,"number"),t.ALo(4,"mapper"),t.qZA()),2&i){const e=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.hij(" ",t.Dn7(2,1,t.lcZ(3,5,t.gM2(4,7,e,n.getTotalAmountAllPax,n.searchData.adultCount,n.searchData.childCount)),",",".")," \u0111")}}function ou(i,a){if(1&i&&(t.TgZ(0,"div",26),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",null==e?null:e.seatRemain,"")}}function au(i,a){if(1&i&&(t.TgZ(0,"div",23),t.YNc(1,iu,4,7,"div",13),t.YNc(2,nu,5,12,"div",13),t.TgZ(3,"div",24),t.YNc(4,ou,2,1,"div",25),t.TgZ(5,"div",21),t._uU(6),t.qZA()()()),2&i){const e=t.oxw().$implicit,n=t.oxw().$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",!o.showTotalPrice),t.xp6(1),t.Q6J("ngIf",o.showTotalPrice),t.xp6(2),t.Q6J("ngIf",!n.is1A),t.xp6(2),t.Oqu(null==e?null:e.cabinCode)}}function ru(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",7),t.NdJ("click",function(){const r=t.CHM(e).index,c=t.oxw().index,l=t.oxw();return t.KtG(l.changeJourneyIdx(c,r))}),t.TgZ(1,"div",8)(2,"div",9),t._uU(3),t.ALo(4,"date"),t.ALo(5,"date"),t.YNc(6,zs,2,2,"div",10),t.qZA(),t.TgZ(7,"div",11),t._uU(8),t.qZA()(),t.TgZ(9,"div",12),t.YNc(10,Ws,2,2,"div",13),t.YNc(11,Xs,8,8,"div",14),t.YNc(12,eu,3,4,"div",14),t.qZA(),t.YNc(13,au,7,4,"div",15),t.qZA()}if(2&i){const e=a.$implicit,n=t.oxw().$implicit;t.ekj("border-secondary-3-4",e.key===(null==n.fareCur?null:n.fareCur.key))("md:justify-center",n.isGDS)("md:gap-x-4",n.isGDS)("bg-secondary-3-1",e.key===(null==n.fareCur?null:n.fareCur.key)),t.xp6(3),t.AsE(" ",t.xi3(4,18,n.departure.localTime,"HH:mm")," - ",t.xi3(5,21,n.arrival.localTime,"HH:mm")," "),t.xp6(3),t.Q6J("ngIf",n.stopOvernight>0),t.xp6(2),t.Oqu(n.airlineName),t.xp6(1),t.ekj("items-center",!n.isGDS),t.xp6(1),t.Q6J("ngIf",0===n.numOfStops),t.xp6(1),t.Q6J("ngIf",1===n.numOfStops),t.xp6(1),t.Q6J("ngIf",n.numOfStops>1),t.xp6(1),t.Q6J("ngIf",!n.isGDS)}}function cu(i,a){if(1&i&&(t.TgZ(0,"div",2)(1,"div",3),t._UZ(2,"img",4),t.TgZ(3,"div",5),t._uU(4),t.ALo(5,"mapper"),t.ALo(6,"mapper"),t.ALo(7,"date"),t.qZA()(),t.YNc(8,ru,14,24,"div",6),t.qZA()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(2),t.Q6J("src","assets/airline-logo/"+e.airline+".png",t.LSH)("alt",e.airline),t.xp6(2),t.lnq("",t.xi3(5,6,e.startPoint,n.getLocationData)," \u2192 ",t.xi3(6,9,e.endPoint,n.getLocationData),"\u30fb ",t.xi3(7,12,e.departure.localTime,"EEEE, dd TMMMMM")," "),t.xp6(4),t.Q6J("ngForOf",e.fareOptions)}}let lu=(()=>{class i{constructor(e){this.locationDataSvc=e,this.ticketChange=new t.vpe,this.showTotalPrice=!1,this.getLocationData=n=>this.locationDataSvc.getCityNameByCode(n),this.stops=n=>this.getStopList(n.segments),this.getTotalAmountAllPax=(n,o,r)=>{let c=0;return c+=this.getTotalAmountByType(n.fareAmountBreakdowns,"ADULT")*o,c+=this.getTotalAmountByType(n.fareAmountBreakdowns,"CHILD")*r,c}}ngOnChanges(e){e.ticket&&(this.dataJourney=[this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]])}changeJourneyIdx(e,n){this.dataJourney=[...this.dataJourney.map((o,r)=>r===e?(0,X.yE)(Tt,Object.assign(Object.assign({},o),{idxSelected:n}),{excludeExtraneousValues:!0}):o)],this.ticket=(0,X.yE)(se,Object.assign(Object.assign({},this.ticket),{departJourneys:[this.dataJourney[0]],arriveJourneys:[this.dataJourney[1]]}),{excludeExtraneousValues:!0}),this.ticketChange.emit(this.ticket)}getStopList(e){const n=[];for(let o=1;o<e.length;o++)n.push({airport:"VN"===e[o].airline?e[o].arrival.airport.code:e[o].departure.airport.code,duration:e[o].durationStr});return n}getTotalAmountByType(e,n){const o=null==e?void 0:e.find(r=>r.type===n);return o?o.getTotalCharge:0}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(rt._))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-detail-option"]],inputs:{ticket:"ticket",searchData:"searchData",showTotalPrice:"showTotalPrice"},outputs:{ticketChange:"ticketChange"},standalone:!0,features:[t.TTD,t.jDz],decls:2,vars:1,consts:[[1,"p-4","bg-white","flex","gap-4","w-full"],["class","flex-1 flex flex-col gap-4",4,"ngFor","ngForOf"],[1,"flex-1","flex","flex-col","gap-4"],[1,"flex","gap-x-3","items-center","bg-neutral-gray-1","py-2.5","px-4","rounded-md","md:hidden"],[1,"w-[48px]","h-[24px]","object-contain",3,"src","alt"],[1,"text-express-sm","text-neutral-gray-6"],["class","flex px-4 py-[18px] rounded-lg border border-neutral-gray-3 justify-between items-center cursor-pointer md:p-3",3,"border-secondary-3-4","md:justify-center","md:gap-x-4","bg-secondary-3-1","click",4,"ngFor","ngForOf"],[1,"flex","px-4","py-[18px]","rounded-lg","border","border-neutral-gray-3","justify-between","items-center","cursor-pointer","md:p-3",3,"click"],[1,"flex","flex-col","items-start","relative","md:hidden"],[1,"text-express-sm","text-neutral-gray-6","whitespace-nowrap","relative"],["class","font-medium leading-[8px] absolute text-express-xs text-neutral-gray-4 right-0 -top-2 translate-x-full cursor-pointer p-1 rounded bg-neutral-gray-1",3,"cfTooltip",4,"ngIf"],[1,"text-body-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","items-start","justify-center","md:hidden"],["class","text-express-sm text-neutral-gray-6 whitespace-nowrap",4,"ngIf"],["class","flex items-center gap-x-1",4,"ngIf"],["class","flex flex-col items-end justify-center",4,"ngIf"],[1,"font-medium","leading-[8px]","absolute","text-express-xs","text-neutral-gray-4","right-0","-top-2","translate-x-full","cursor-pointer","p-1","rounded","bg-neutral-gray-1",3,"cfTooltip"],[1,"text-express-sm","text-neutral-gray-6","whitespace-nowrap"],[1,"flex","items-center","gap-x-1"],["icon","plane","size","small"],[1,"text-body-sm","text-neutral-gray-6"],[1,"text-body-sm","text-neutral-gray-4"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","items-end","justify-center"],[1,"flex","gap-x-2","items-center"],["class","flex items-center justify-center text-express-sm text-neutral-gray-6 bg-neutral-gray-1 py-0.5 px-1 rounded",4,"ngIf"],[1,"flex","items-center","justify-center","text-express-sm","text-neutral-gray-6","bg-neutral-gray-1","py-0.5","px-1","rounded"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.YNc(1,cu,9,15,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.dataJourney))},dependencies:[m.ez,m.sg,m.O5,m.JJ,m.uU,tt.q,_.AxE,_.Sm8,Pt.Lk,nt.AS],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();function su(i,a){1&i&&(t.TgZ(0,"div",35),t._uU(1," R\u1ebb nh\u1ea5t "),t.qZA())}function uu(i,a){1&i&&(t.TgZ(0,"div",36),t._uU(1," T\u1ed1t nh\u1ea5t"),t.qZA())}function pu(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.qZA()),2&i){const e=a.ngIf;t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,e),"m")," ph\xfat")}}function du(i,a){if(1&i&&(t.TgZ(0,"div",37),t._UZ(1,"cf-icon",38),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,pu,4,6,"span",39),t.ALo(5,"mapper"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function _u(i,a){1&i&&(t.TgZ(0,"div",37),t._UZ(1,"cf-icon",38),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function gu(i,a){if(1&i&&(t.TgZ(0,"div",37),t._UZ(1,"cf-icon",38),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function mu(i,a){if(1&i&&(t.TgZ(0,"div",31),t.YNc(1,su,2,0,"div",32),t.YNc(2,uu,2,0,"div",33),t.YNc(3,du,6,4,"div",34),t.YNc(4,_u,4,0,"div",34),t.YNc(5,gu,5,4,"div",34),t.ALo(6,"mapper"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticket.cheapest),t.xp6(1),t.Q6J("ngIf",e.ticket.bestChoice),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isNdcFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isLccFare),t.xp6(1),t.Q6J("ngIf",(e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G)&&t.xi3(6,5,e.searchData,e.getPaxTypeDisplay))}}function fu(i,a){1&i&&t._UZ(0,"div",42)}function hu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return t.KtG(r.onChangeMode(o.key))}),t._uU(1),t.ALo(2,"mapper"),t.YNc(3,fu,1,0,"div",41),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.hij(" ","option"===e.key?e.key===n.mode?e.value:"+"+t.xi3(2,2,n.ticket,n.countOrderOption)+" l\u1ef1a ch\u1ecdn kh\xe1c":e.value," "),t.xp6(2),t.Q6J("ngIf",e.key===n.mode)}}function vu(i,a){if(1&i&&(t.ynx(0),t.YNc(1,hu,4,5,"div",11),t.ALo(2,"mapper"),t.BQk()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",!("option"===e.key&&!t.xi3(2,1,n.ticket,n.countOrderOption)))}}function xu(i,a){1&i&&t._UZ(0,"div",42)}function yu(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",40),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onChangeMode("option"))}),t._uU(1),t.ALo(2,"mapper"),t.YNc(3,xu,1,0,"div",41),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.hij(" ","option"===e.mode?"\u1ea8n t\u1ea5t c\u1ea3 l\u1ef1a ch\u1ecdn":"+"+t.xi3(2,2,e.ticket,e.countOrderOption)+" l\u1ef1a ch\u1ecdn kh\xe1c"," "),t.xp6(2),t.Q6J("ngIf","option"===e.mode)}}function Cu(i,a){if(1&i&&(t.TgZ(0,"div",43)(1,"div",44),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA(),t.TgZ(6,"div",45),t._uU(7),t.ALo(8,"replace"),t.ALo(9,"number"),t.ALo(10,"mapper"),t.qZA()()),2&i){const e=t.oxw();let n,o;t.xp6(2),t.hij(" ",t.Dn7(3,2,t.lcZ(4,6,null!=(n=e.viewConfig)&&n.showTotalPrice?t.xi3(5,8,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 "),t.xp6(5),t.hij(" ",t.Dn7(8,11,t.lcZ(9,15,null!=(o=e.viewConfig)&&o.showTotalPrice?e.ticket.totalPrice:t.xi3(10,17,e.ticketPriceList,e.sumPriceTicketHasDiscount)),",",".")," \u0111 ")}}function Tu(i,a){if(1&i&&(t.TgZ(0,"div",46)(1,"div",45),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA()()),2&i){const e=t.oxw();let n;t.xp6(2),t.hij(" ",t.Dn7(3,1,t.lcZ(4,5,null!=(n=e.viewConfig)&&n.showTotalPrice?t.xi3(5,7,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 ")}}function bu(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",47)(2,"button",48),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&i&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function ku(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onTicketSelected())}),t._uU(1," Ch\u1ecdn "),t.qZA()}}function Eu(i,a){if(1&i&&(t.TgZ(0,"div",57),t._UZ(1,"btc-ticket-detail-item",58)(2,"btc-ticket-detail-item",58),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ticket",e.ticket.departJourneys[0])("isShowTrip",!0),t.xp6(1),t.Q6J("ticket",e.ticket.arriveJourneys[0])("isShowTrip",!0)}}function Du(i,a){if(1&i&&t._UZ(0,"btc-ticket-info-item",59),2&i){const e=t.oxw(2);t.Q6J("ticketPriceList",e.ticketPriceList)("fareBasisInfos",e.fareBasisInfos)}}function Au(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"btc-ticket-detail-option",60),t.NdJ("ticketChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.ticket=o)})("ticketChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.ticketChange.emit(o))}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("ticket",e.ticket)}}function Zu(i,a){if(1&i&&t._UZ(0,"btc-ticket-rule-item",61),2&i){const e=t.oxw(2);t.Q6J("journeyInfo",e.journeyInfo)}}function Bu(i,a){1&i&&t._UZ(0,"div")}function wu(i,a){if(1&i&&(t.TgZ(0,"div",50),t.ynx(1,51),t.YNc(2,Eu,3,4,"div",52),t.YNc(3,Du,1,2,"btc-ticket-info-item",53),t.YNc(4,Au,1,1,"btc-ticket-detail-option",54),t.YNc(5,Zu,1,1,"btc-ticket-rule-item",55),t.YNc(6,Bu,1,0,"div",56),t.BQk(),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","option"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function Iu(i,a){1&i&&(t.TgZ(0,"div",65),t._uU(1," R\u1ebb nh\u1ea5t "),t.qZA())}function Su(i,a){1&i&&(t.TgZ(0,"div",66),t._uU(1," T\u1ed1t nh\u1ea5t"),t.qZA())}function Fu(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.ALo(3,"async"),t.qZA()),2&i){const e=a.ngIf;t.xp6(1),t.hij(" c\xf2n ",t.xi3(2,1,t.lcZ(3,4,e),"m")," ph\xfat")}}function Nu(i,a){if(1&i&&(t.TgZ(0,"div",37),t._UZ(1,"cf-icon",38),t.TgZ(2,"div"),t._uU(3,"NDC "),t.YNc(4,Fu,4,6,"span",39),t.ALo(5,"mapper"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("ngIf",t.xi3(5,1,e.ticket,e.ndcTimeLimitCountDown$))}}function qu(i,a){1&i&&(t.TgZ(0,"div",37),t._UZ(1,"cf-icon",38),t.TgZ(2,"div"),t._uU(3,"LCC"),t.qZA()())}function Ou(i,a){if(1&i&&(t.TgZ(0,"div",37),t._UZ(1,"cf-icon",38),t.TgZ(2,"div"),t._uU(3),t.ALo(4,"mapper"),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(3),t.Oqu(t.xi3(4,1,e.searchData,e.getPaxTypeDisplay))}}function Pu(i,a){if(1&i&&(t.TgZ(0,"div",62),t.YNc(1,Iu,2,0,"div",63),t.YNc(2,Su,2,0,"div",64),t.YNc(3,Nu,6,4,"div",34),t.YNc(4,qu,4,0,"div",34),t.YNc(5,Ou,5,4,"div",34),t.ALo(6,"mapper"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.ticket.cheapest),t.xp6(1),t.Q6J("ngIf",e.ticket.bestChoice),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isNdcFare),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isLccFare),t.xp6(1),t.Q6J("ngIf",(e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G)&&t.xi3(6,5,e.searchData,e.getPaxTypeDisplay))}}function Mu(i,a){1&i&&(t.TgZ(0,"div",73),t._uU(1," Bay th\u1eb3ng "),t.qZA())}function Uu(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div"),t._uU(2),t.qZA(),t.BQk()),2&i){const e=a.$implicit;t.xp6(2),t.AsE("",e.delaySt," t\u1ea1i ",e.stopPoint,"")}}function Ju(i,a){if(1&i&&t.YNc(0,Uu,3,2,"ng-container",10),2&i){const e=t.oxw(2).$implicit;t.Q6J("ngForOf",e.segments)}}function Lu(i,a){if(1&i&&(t.TgZ(0,"div",87,88),t._uU(2),t.YNc(3,Ju,1,1,"ng-template",null,89,t.W1O),t.qZA()),2&i){const e=t.MAs(4),n=t.oxw().$implicit;t.Q6J("placement","bottomCenter")("cfTooltip",e),t.xp6(2),t.hij(" ",n.numOfStops," \u0111i\u1ec3m d\u1eebng ")}}function Ru(i,a){if(1&i&&(t.TgZ(0,"div",90)(1,"span",91,88),t._uU(3),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("placement","topCenter")("cfTooltip","C\xf2n "+((null==e.fareCur?null:e.fareCur.seatRemain)||0)+" ch\u1ed7 tr\u1ed1ng"),t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.seatRemain)}}function ju(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("\xa0(",null==e.fareCur?null:e.fareCur.fareClass,")")}}function Qu(i,a){if(1&i&&(t.TgZ(0,"span")(1,"span",92),t._uU(2),t.qZA(),t.YNc(3,ju,2,1,"span",39),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(null==e.fareCur?null:e.fareCur.cabinName),t.xp6(1),t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function Yu(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.hij("H\u1ea1ng ch\u1ed7: ",null==e.fareCur?null:e.fareCur.fareClass,"")}}function Hu(i,a){if(1&i&&t.YNc(0,Yu,2,1,"span",39),2&i){const e=t.oxw().$implicit;t.Q6J("ngIf",null==e.fareCur?null:e.fareCur.fareClass)}}function Vu(i,a){1&i&&t._UZ(0,"cf-icon",99)}function Gu(i,a){1&i&&t._UZ(0,"cf-icon",100)}function Ku(i,a){1&i&&t._UZ(0,"cf-icon",101)}function $u(i,a){1&i&&t._UZ(0,"cf-icon",102)}function zu(i,a){if(1&i&&(t.TgZ(0,"div",93),t.ynx(1),t.TgZ(2,"div",94),t.YNc(3,Vu,1,0,"cf-icon",95),t.YNc(4,Gu,1,0,"cf-icon",96),t.YNc(5,Ku,1,0,"cf-icon",97),t.YNc(6,$u,1,0,"cf-icon",98),t.qZA(),t.BQk(),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngIf",null==e.bookedInfo?null:e.bookedInfo.checkedBaggage),t.xp6(1),t.Q6J("ngIf",null==e.bookedInfo?null:e.bookedInfo.handBaggage),t.xp6(1),t.Q6J("ngIf",e.food),t.xp6(1),t.Q6J("ngIf",e.refundableFare)}}function Wu(i,a){if(1&i&&(t.TgZ(0,"div",67)(1,"div",68)(2,"div",69),t._UZ(3,"img",70),t.qZA(),t.TgZ(4,"div",71)(5,"div",72),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"div",73),t._uU(9),t.qZA()(),t.TgZ(10,"div",74)(11,"div",75),t._uU(12),t.qZA(),t.TgZ(13,"div",76),t._UZ(14,"div",77)(15,"div",78),t.qZA(),t.YNc(16,Mu,2,0,"div",79),t.YNc(17,Lu,5,3,"div",80),t.qZA(),t.TgZ(18,"div",71)(19,"div",72),t._uU(20),t.ALo(21,"date"),t.qZA(),t.TgZ(22,"div",73),t._uU(23),t.qZA()()(),t.TgZ(24,"div",81)(25,"div",82),t.YNc(26,Ru,4,3,"div",83),t.TgZ(27,"div",84),t.YNc(28,Qu,4,2,"span",16),t.YNc(29,Hu,1,1,"ng-template",null,85,t.W1O),t.qZA()(),t.YNc(31,zu,7,4,"div",86),t.qZA()()),2&i){const e=a.$implicit,n=t.MAs(30);t.xp6(3),t.Q6J("src",e.logoAirline,t.LSH),t.xp6(3),t.Oqu(t.xi3(7,12,e.departure.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.startPoint),t.xp6(3),t.Oqu(e.durationStr),t.xp6(4),t.Q6J("ngIf",0===e.numOfStops),t.xp6(1),t.Q6J("ngIf",e.numOfStops>0),t.xp6(3),t.Oqu(t.xi3(21,15,e.arrival.localTime,"HH:mm")),t.xp6(3),t.Oqu(e.endPoint),t.xp6(3),t.Q6J("ngIf","GDS"!==e.provider&&"BSP"!==e.provider&&"FLY_ONE"!==e.provider),t.xp6(2),t.Q6J("ngIf",(null==e.fareCur?null:e.fareCur.cabinName)&&"null"!=(null==e.fareCur?null:e.fareCur.cabinName))("ngIfElse",n),t.xp6(3),t.Q6J("ngIf",e.fareRuleClassesData||e.refundableFare||e.food||e.bookedInfo)}}function Xu(i,a){if(1&i&&(t.TgZ(0,"div",43)(1,"div",44),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA(),t.TgZ(6,"div",72),t._uU(7),t.ALo(8,"replace"),t.ALo(9,"number"),t.ALo(10,"mapper"),t.qZA()()),2&i){const e=t.oxw();let n,o;t.xp6(2),t.hij(" ",t.Dn7(3,2,t.lcZ(4,6,null!=(n=e.viewConfig)&&n.showTotalPrice?t.xi3(5,8,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 "),t.xp6(5),t.hij(" ",t.Dn7(8,11,t.lcZ(9,15,null!=(o=e.viewConfig)&&o.showTotalPrice?e.ticket.totalPrice:t.xi3(10,17,e.ticketPriceList,e.sumPriceTicketHasDiscount)),",",".")," \u0111 ")}}function t1(i,a){if(1&i&&(t.TgZ(0,"div",46)(1,"div",72),t._uU(2),t.ALo(3,"replace"),t.ALo(4,"number"),t.ALo(5,"mapper"),t.qZA()()),2&i){const e=t.oxw();let n;t.xp6(2),t.hij(" ",t.Dn7(3,1,t.lcZ(4,5,null!=(n=e.viewConfig)&&n.showTotalPrice?t.xi3(5,7,e.ticketPriceList,e.sumPriceTicket):e.ticket.totalPrice),",",".")," \u0111 ")}}function e1(i,a){1&i&&(t.ynx(0),t.TgZ(1,"div",47)(2,"button",103),t._uU(3," H\u1ebft ch\u1ed7 "),t.qZA()(),t.BQk()),2&i&&(t.xp6(1),t.Q6J("cfTooltip","Chuy\u1ebfn bay \u0111\xe3 h\u1ebft ch\u1ed7. Ch\u1ee7 \u0111\u1ea1i l\xfd t\u1ef1 ch\u1ee7 \u0111\u1ed9ng canh gh\u1ebf nh\u1ea3 ch\u1ed7"),t.xp6(1),t.Q6J("disabled",!0))}function i1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"button",49),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onTicketSelected())}),t._uU(1," Ch\u1ecdn "),t.qZA()}}const n1=function(i){return{"!text-secondary-3-4 !bg-secondary-3-1 !border-secondary-3-4":i}};function o1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",108),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.onChangeMode(r.key))}),t._uU(1),t.qZA()}if(2&i){const e=a.$implicit,n=t.oxw(2);t.Q6J("ngClass",t.VKq(2,n1,e.key===n.mode)),t.xp6(1),t.hij(" ",e.valueMobile," ")}}function a1(i,a){if(1&i&&(t.TgZ(0,"div",110),t._UZ(1,"btc-ticket-detail-item",58)(2,"btc-ticket-detail-item",58),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ticket",e.ticket.departJourneys[0])("isShowTrip",!0),t.xp6(1),t.Q6J("ticket",e.ticket.arriveJourneys[0])("isShowTrip",!0)}}function r1(i,a){if(1&i&&t._UZ(0,"btc-ticket-info-item",59),2&i){const e=t.oxw(3);t.Q6J("ticketPriceList",e.ticketPriceList)("fareBasisInfos",e.fareBasisInfos)}}function c1(i,a){if(1&i&&t._UZ(0,"btc-ticket-rule-item",61),2&i){const e=t.oxw(3);t.Q6J("journeyInfo",e.journeyInfo)}}function l1(i,a){1&i&&t._UZ(0,"div")}function s1(i,a){if(1&i&&(t.TgZ(0,"div",50)(1,"ngcontainer",51),t.YNc(2,a1,3,4,"div",109),t.YNc(3,r1,1,2,"btc-ticket-info-item",53),t.YNc(4,c1,1,1,"btc-ticket-rule-item",55),t.YNc(5,l1,1,0,"div",56),t.qZA()()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngSwitch",e.mode),t.xp6(1),t.Q6J("ngSwitchCase","flight"),t.xp6(1),t.Q6J("ngSwitchCase","ticket"),t.xp6(1),t.Q6J("ngSwitchCase","rule")}}function u1(i,a){if(1&i&&(t.TgZ(0,"div",104)(1,"div",105),t.YNc(2,o1,2,4,"div",106),t.qZA(),t.TgZ(3,"div",107),t.YNc(4,s1,6,4,"div",18),t.qZA()()),2&i){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.modeOptions),t.xp6(2),t.Q6J("ngIf",e.mode)}}function p1(i,a){1&i&&(t.TgZ(0,"div",114),t._UZ(1,"cf-icon",115),t.TgZ(2,"div"),t._uU(3,"GDS"),t.qZA()())}function d1(i,a){1&i&&(t.TgZ(0,"div",114),t._UZ(1,"cf-icon",115),t.TgZ(2,"div"),t._uU(3,"1A"),t.qZA()())}function _1(i,a){1&i&&(t.TgZ(0,"div",114),t._UZ(1,"cf-icon",115),t.TgZ(2,"div"),t._uU(3,"1G"),t.qZA()())}function g1(i,a){if(1&i&&(t.TgZ(0,"div",112),t.YNc(1,p1,4,0,"div",113),t.YNc(2,d1,4,0,"div",113),t.YNc(3,_1,4,0,"div",113),t.qZA()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].isGDS),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].is1A),t.xp6(1),t.Q6J("ngIf",e.ticket.departJourneys[0].is1G)}}function m1(i,a){if(1&i&&t.YNc(0,g1,4,3,"div",111),2&i){const e=t.oxw();t.Q6J("ngIf",e.ticket.departJourneys[0].is1A||e.ticket.departJourneys[0].is1G||e.ticket.departJourneys[0].isGDS)}}const f1=function(i,a){return[i,a]};let h1=(()=>{class i{constructor(e,n){this._helperSvc=e,this.bottomSheetService=n,this.ticketChange=new t.vpe,this.chooseTicketCombo=new t.vpe,this.ticketPriceList=[],this.fareBasisInfos=[],this.modeOptions=(0,gt.cloneDeep)(pt.Mf),this.mode="",this.getPaxTypeDisplay=o=>{var r;return(null===(r=null==pt.S?void 0:pt.S.find(c=>c.value&&c.value===o.journey[0].paxType))||void 0===r?void 0:r.name)||""},this.ndcTimeLimitCountDown$=o=>{let r=0;return(0,oe.H)(0,1e3).pipe((0,at.U)(()=>{var c;return r++,1e3*(((null===(c=o.departJourneys[0].fareCur)||void 0===c?void 0:c.ndcTimeLimit)||0)-r)}),(0,ae.o)(c=>c>=0))},this.countOrderOption=o=>o.arriveJourneys[0].fareOptions.length+o.departJourneys[0].fareOptions.length-2,this.adultDiscountAmount=o=>{var r;return(null===(r=o.find(c=>c.type.includes("ADT")))||void 0===r?void 0:r.discountAmount)||0},this.sumPriceTicketHasDiscount=o=>o.reduce((r,c)=>r+("ADT"===c.code?c.totalFare-c.discountAmount*c.quantity:0),0),this.sumPriceTicket=o=>o.reduce((r,c)=>r+c.totalFare-c.discountAmount*c.quantity,0)}ngOnChanges(e){e.ticket&&e.ticket.currentValue&&(this.journeyInfo={journeyInfo:[{bookingCode:"",journeyKey:this.ticket.departJourneys[0].key,provider:this.ticket.departJourneys[0].provider},{bookingCode:"",journeyKey:this.ticket.arriveJourneys[0].key,provider:this.ticket.arriveJourneys[0].provider}]},this.progressDataForDetailItem([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]]))}ngOnInit(){var e;this.ticketPriceList.length||this.progressDataForDetailItem([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]]),((null===(e=this.fareBasisInfos)||void 0===e||!e.length)&&this.ticket.departJourneys[0].is1A||this.ticket.arriveJourneys[0].is1G||this.ticket.departJourneys[0].is1A&&this.ticket.arriveJourneys[0].isGDS)&&this.progressDateFareBasisInfos([this.ticket.departJourneys[0],this.ticket.arriveJourneys[0]])}onTicketSelected(){this.ticket&&this.chooseTicketCombo.emit(this.ticket)}onChangeMode(e){this.mode=this.mode===e?"":e}progressDataForDetailItem(e){this.ticketPriceList=[...this._helperSvc.progressPriceList(this.searchData,e)]}progressDateFareBasisInfos(e){this.fareBasisInfos=[],e.forEach(n=>{null==n||n.segments.forEach(o=>{var r,c;this.fareBasisInfos=[...this.fareBasisInfos,{airline:o.airline||"",airlineLogo:o.operating||"",startCode:o.startPoint||"",startPoint:o.departure.airport.code||"",endCode:o.endPoint||"",endPoint:o.arrival.airport.code||"",fareClass:(null===(r=n.fareCur)||void 0===r?void 0:r.fareClass)||"",fareBasis:(null===(c=n.fareCur)||void 0===c?void 0:c.fareInfos[0].fareType.description)||""}]})})}onTicketDetailMobile(e,n){e.stopPropagation(),this.mode="flight",this.bottomSheetService.open(n,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",containerFullHeigh:!0,rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"}).containerInstance._rightButtonClick.subscribe(()=>{this.bottomSheetService.dismiss(),this.mode=""})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ct),t.Y36(V.a2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-ticket-combo-item"]],inputs:{ticket:"ticket",viewConfig:"viewConfig",searchData:"searchData"},outputs:{ticketChange:"ticketChange",chooseTicketCombo:"chooseTicketCombo"},standalone:!0,features:[t.TTD,t.jDz],decls:52,vars:36,consts:[[1,"bg-white","pt-4","px-4","rounded-xl","shadow-lg","relative","md:hidden"],[3,"ngTemplateOutlet"],[1,"flex-1","flex","justify-between"],[1,"flex","flex-col","gap-4","w-full"],["class","flex justify-start gap-x-2",4,"ngIf"],[1,"flex","gap-3","w-full"],[1,"flex","flex-col","flex-1"],[3,"journey"],[1,"w-full","h-[1px]","bg-neutral-gray-1","my-4"],[1,"flex","text-espressive-sm","text-secondary-3-4","md:hidden"],[4,"ngFor","ngForOf"],["class","relative flex items-center mr-3 px-0.5 pb-4 pt-1.5 cursor-pointer",3,"click",4,"ngIf"],[1,"p-4","border-l","border-neutral-gray-1","flex","flex-col","justify-between","w-fit","md:hidden"],[1,"flex","flex-col","mb-3"],["class","flex gap-x-2 flex-col gap-4",4,"ngIf","ngIfElse"],["discountEmptyTpl",""],[4,"ngIf","ngIfElse"],["ticketSelectTpl",""],["class","border-t border-neutral-gray-1",4,"ngIf"],[1,"px-3","hidden","md:flex","flex-col"],[1,"w-full","rounded-lg","shadow-lg","relative"],[1,"bg-white","w-full","flex","justify-between","rounded-t-lg"],[1,"flex-1","flex"],[1,"flex","flex-col","gap-2"],["class","flex justify-start gap-x-2 pt-3 pl-3",4,"ngIf"],[1,"divide-y","divide-dashed","divide-neutral-gray-3"],["class","flex flex-col  p-4 gap-3 justify-between flex-1",4,"ngFor","ngForOf"],[1,"flex","flex-col","justify-between","items-center","gap-2","pl-2","pr-3","pt-6","pb-3","border-l","border-neutral-gray-1"],[1,"w-full","rounded-b-lg","bg-blue-1","py-2","px-4","flex","text-center","justify-center","items-center","text-blue-4","text-body-sm","font-medium",3,"click"],["detailTicketMobileTpl",""],["tagProviderTpl",""],[1,"flex","justify-start","gap-x-2"],["class","py-0.5 px-1 bg-secondary-5-1 text-secondary-5-3 rounded text-express-sm flex items-center justify-center text-center",4,"ngIf"],["class","py-0.5 px-1 bg-secondary-3-1 text-secondary-3-4 rounded text-express-sm flex items-center justify-center text-center",4,"ngIf"],["class","px-2 py-1 bg-secondary-3-1 text-body-sm text-secondary-3-4 rounded flex gap-x-1 items-center",4,"ngIf"],[1,"py-0.5","px-1","bg-secondary-5-1","text-secondary-5-3","rounded","text-express-sm","flex","items-center","justify-center","text-center"],[1,"py-0.5","px-1","bg-secondary-3-1","text-secondary-3-4","rounded","text-express-sm","flex","items-center","justify-center","text-center"],[1,"px-2","py-1","bg-secondary-3-1","text-body-sm","text-secondary-3-4","rounded","flex","gap-x-1","items-center"],["icon","ticket","size","small",1,"md:hidden"],[4,"ngIf"],[1,"relative","flex","items-center","mr-3","px-0.5","pb-4","pt-1.5","cursor-pointer",3,"click"],["class","absolute bottom-0 w-full h-[3px] bg-primary-2-3 rounded",4,"ngIf"],[1,"absolute","bottom-0","w-full","h-[3px]","bg-primary-2-3","rounded"],[1,"flex","gap-x-2","flex-col","gap-4"],[1,"visible","line-through","text-neutral-gray-4","text-body-sm","whitespace-nowrap","font-semibold"],[1,"text-heading-lg","text-neutral-black","whitespace-nowrap"],[1,"flex","items-center","gap-x-2"],["color","black",3,"cfTooltip"],["cf-button","","size","small","type","solid",1,"w-40","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],["cf-button","","size","small","color","primary-1","type","solid",1,"w-full","justify-center","py-[5px]",3,"click"],[1,"border-t","border-neutral-gray-1"],[3,"ngSwitch"],["class","pt-4 w-full",4,"ngSwitchCase"],[3,"ticketPriceList","fareBasisInfos",4,"ngSwitchCase"],[3,"ticket","ticketChange",4,"ngSwitchCase"],[3,"journeyInfo",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"pt-4","w-full"],[3,"ticket","isShowTrip"],[3,"ticketPriceList","fareBasisInfos"],[3,"ticket","ticketChange"],[3,"journeyInfo"],[1,"flex","justify-start","gap-x-2","pt-3","pl-3"],["class","py-0.5 px-1 bg-secondary-5-1 text-secondary-5-3 rounded text-express-sm",4,"ngIf"],["class","py-0.5 px-1 bg-secondary-3-1 text-secondary-3-4 rounded text-express-sm",4,"ngIf"],[1,"py-0.5","px-1","bg-secondary-5-1","text-secondary-5-3","rounded","text-express-sm"],[1,"py-0.5","px-1","bg-secondary-3-1","text-secondary-3-4","rounded","text-express-sm"],[1,"flex","flex-col","p-4","gap-3","justify-between","flex-1"],[1,"flex","gap-3"],[1,"flex-shrink-0","items-center","flex","flex-col","gap-[10px]","max-w-[36px]"],[1,"w-[36px]","h-[36px]","object-contain",3,"src"],[1,"flex","flex-col","text-center"],[1,"text-heading-xs","text-neutral-black","whitespace-nowrap"],[1,"text-express-xs","text-neutral-gray-4","whitespace-nowrap"],[1,"flex","flex-col","flex-1","items-center"],[1,"text-express-xs","text-neutral-gray-4"],[1,"flex-1","w-full","flex","items-center","justify-between"],[1,"flex-1","h-[1px]","bg-neutral-gray-4"],[1,"w-1","h-1","border-[2px]","border-t-neutral-gray-4","border-r-neutral-gray-4","border-b-transparent","border-l-transparent","rotate-45"],["class","text-express-xs text-neutral-gray-4 whitespace-nowrap",4,"ngIf"],["class","text-express-xs text-secondary-3-4 hover:text-secondary-7-4 cursor-default whitespace-nowrap",3,"placement","cfTooltip",4,"ngIf"],[1,"flex","flex-1","gap-2"],[1,"flex","gap-x-1","items-center"],["class","flex justify-end items-center gap-x-2",4,"ngIf"],[1,"text-express-sm","text-neutral-black","whitespace-nowrap"],["noncabinTemplate",""],["class","w-fit flex gap-2 hover:text-secondary-7-4",4,"ngIf"],[1,"text-express-xs","text-secondary-3-4","hover:text-secondary-7-4","cursor-default","whitespace-nowrap",3,"placement","cfTooltip"],["tooltip",""],["toolTipTemplate",""],[1,"flex","justify-end","items-center","gap-x-2"],[1,"text-espressive-sm","py-0.5","px-2","rounded-[4px]","bg-neutral-gray-1","cursor-default","hover:bg-secondary-7-1","hover:text-secondary-7-4",3,"placement","cfTooltip"],[1,"capitalize"],[1,"w-fit","flex","gap-2","hover:text-secondary-7-4"],[1,"flex","items-center","gap-x-3"],["icon","luggage","size","small",4,"ngIf"],["icon","office","size","small",4,"ngIf"],["icon","food","size","small",4,"ngIf"],["icon","profit","size","small",4,"ngIf"],["icon","luggage","size","small"],["icon","office","size","small"],["icon","food","size","small"],["icon","profit","size","small"],["cf-button","","size","small","type","solid",1,"w-[82px]","justify-center","py-[5px]","!bg-neutral-black","opacity-50",3,"disabled"],[1,"w-full","h-full","flex","flex-col"],[1,"flex","text-espressive-md","gap-2","px-4","py-2"],["class","relative border flex font-medium items-center text-neutral-gray-4 px-4 py-1.5 border-white cursor-pointer rounded-full",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"p-4","bg-neutral-gray-1","h-full","overflow-y-scroll","gap-3","flex","flex-col"],[1,"relative","border","flex","font-medium","items-center","text-neutral-gray-4","px-4","py-1.5","border-white","cursor-pointer","rounded-full",3,"ngClass","click"],["class","w-full flex flex-col gap-3",4,"ngSwitchCase"],[1,"w-full","flex","flex-col","gap-3"],["class","flex justify-end absolute top-0 right-0",4,"ngIf"],[1,"flex","justify-end","absolute","top-0","right-0"],["class","flex gap-x-1 items-center py-1 px-2 bg-secondary-3-1 rounded-bl-lg text-secondary-3-4 text-body-sm",4,"ngIf"],[1,"flex","gap-x-1","items-center","py-1","px-2","bg-secondary-3-1","rounded-bl-lg","text-secondary-3-4","text-body-sm"],["icon","document","size","small",1,"md:hidden"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t.GkF(1,1),t.TgZ(2,"div",2)(3,"div",3)(4,"div",3),t.YNc(5,mu,7,8,"div",4),t.ALo(6,"mapper"),t.qZA(),t.TgZ(7,"div",5)(8,"div",6),t._UZ(9,"btc-ticket-combo-item-journey",7)(10,"div",8)(11,"btc-ticket-combo-item-journey",7),t.qZA()(),t.TgZ(12,"div",9),t.YNc(13,vu,3,4,"ng-container",10),t.YNc(14,yu,4,5,"div",11),t.ALo(15,"mapper"),t.qZA()(),t.TgZ(16,"div",12)(17,"div",13),t.YNc(18,Cu,11,20,"div",14),t.ALo(19,"mapper"),t.YNc(20,Tu,6,10,"ng-template",null,15,t.W1O),t.qZA(),t.YNc(22,bu,4,2,"ng-container",16),t.ynx(23),t.YNc(24,ku,2,0,"ng-template",null,17,t.W1O),t.BQk(),t.qZA()(),t.YNc(26,wu,7,5,"div",18),t.qZA(),t.TgZ(27,"div",19)(28,"div",20),t.GkF(29,1),t.TgZ(30,"div",21)(31,"div",22)(32,"div",23),t.YNc(33,Pu,7,8,"div",24),t.ALo(34,"mapper"),t.TgZ(35,"div",25),t.YNc(36,Wu,32,18,"div",26),t.qZA()(),t.TgZ(37,"div",27)(38,"div",13),t.YNc(39,Xu,11,20,"div",14),t.ALo(40,"mapper"),t.YNc(41,t1,6,10,"ng-template",null,15,t.W1O),t.qZA(),t.YNc(43,e1,4,2,"ng-container",16),t.YNc(44,i1,2,0,"ng-template",null,17,t.W1O),t.qZA()()(),t.TgZ(46,"div",28),t.NdJ("click",function(c){t.CHM(o);const l=t.MAs(49);return t.KtG(n.onTicketDetailMobile(c,l))}),t._uU(47," Chi ti\u1ebft "),t.qZA()()(),t.YNc(48,u1,5,2,"ng-template",null,29,t.W1O),t.YNc(50,m1,1,1,"ng-template",null,30,t.W1O)}if(2&e){const o=t.MAs(21),r=t.MAs(25),c=t.MAs(51);t.xp6(1),t.Q6J("ngTemplateOutlet",c),t.xp6(4),t.Q6J("ngIf",n.ticket.cheapest||n.ticket.bestChoice||n.ticket.departJourneys[0].isNdcFare||n.ticket.departJourneys[0].isLccFare||t.xi3(6,18,n.searchData,n.getPaxTypeDisplay)),t.xp6(4),t.Q6J("journey",n.ticket.departJourneys[0]),t.xp6(2),t.Q6J("journey",n.ticket.arriveJourneys[0]),t.xp6(2),t.Q6J("ngForOf",n.modeOptions),t.xp6(1),t.Q6J("ngIf",t.xi3(15,21,n.ticket,n.countOrderOption)),t.xp6(4),t.Q6J("ngIf",t.xi3(19,24,n.ticketPriceList,n.adultDiscountAmount))("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",!(null!=n.ticket.departJourneys[0].fareCur&&n.ticket.departJourneys[0].fareCur.seatRemain&&null!=n.ticket.arriveJourneys[0].fareCur&&n.ticket.arriveJourneys[0].fareCur.seatRemain))("ngIfElse",r),t.xp6(4),t.Q6J("ngIf",n.mode),t.xp6(3),t.Q6J("ngTemplateOutlet",c),t.xp6(4),t.Q6J("ngIf",n.ticket.cheapest||n.ticket.bestChoice||n.ticket.departJourneys[0].isNdcFare||n.ticket.departJourneys[0].isLccFare||t.xi3(34,27,n.searchData,n.getPaxTypeDisplay)),t.xp6(3),t.Q6J("ngForOf",t.WLB(33,f1,n.ticket.departJourneys[0],n.ticket.arriveJourneys[0])),t.xp6(3),t.Q6J("ngIf",t.xi3(40,30,n.ticketPriceList,n.adultDiscountAmount))("ngIfElse",o),t.xp6(4),t.Q6J("ngIf",!(null!=n.ticket.departJourneys[0].fareCur&&n.ticket.departJourneys[0].fareCur.seatRemain&&null!=n.ticket.arriveJourneys[0].fareCur&&n.ticket.arriveJourneys[0].fareCur.seatRemain))("ngIfElse",r)}},dependencies:[m.ez,m.mk,m.sg,m.O5,m.tP,m.RF,m.n9,m.ED,m.Ov,m.JJ,m.uU,j.N8,j.Xq,_.AxE,_.Sm8,tt.q,Pt.Lk,nt.AS,Ke,$e,$s,lu,ze],encapsulation:2}),i})();function v1(i,a){if(1&i&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.tabComboDetail.cheapest.price?t.lcZ(2,1,e.tabComboDetail.cheapest.price)+"\u0111 - "+e.tabComboDetail.cheapest.durationStr:"---"," ")}}function x1(i,a){1&i&&t._UZ(0,"div",13)}function y1(i,a){if(1&i&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.tabComboDetail.best.price?t.lcZ(2,1,e.tabComboDetail.best.price)+"\u20ab - "+e.tabComboDetail.best.durationStr:"---"," ")}}function C1(i,a){1&i&&t._UZ(0,"div",13)}function T1(i,a){if(1&i&&(t.TgZ(0,"div",9),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.tabComboDetail.fastest.price?t.lcZ(2,1,e.tabComboDetail.fastest.price)+"\u20ab - "+e.tabComboDetail.fastest.durationStr:"---"," ")}}function b1(i,a){1&i&&t._UZ(0,"div",13)}function k1(i,a){1&i&&t._UZ(0,"div",14)}function E1(i,a){1&i&&(t.O4$(),t.TgZ(0,"svg",20),t._UZ(1,"path",21),t.qZA())}function D1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",17),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.sortTypeChangeHandler(r.value))}),t.TgZ(1,"div",18),t.YNc(2,E1,2,0,"svg",19),t.qZA(),t.TgZ(3,"div"),t._uU(4),t.qZA()()}if(2&i){const e=a.$implicit,n=t.oxw(2);t.xp6(2),t.Q6J("ngIf",n.sortType===e.value),t.xp6(2),t.Oqu(e.label)}}function A1(i,a){if(1&i&&(t.TgZ(0,"div",15),t.YNc(1,D1,5,2,"div",16),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.optionsSortType)}}let Z1=(()=>{class i{constructor(e){this.cfIconRegister=e,this.sortTypeChange=new t.vpe,this.isOpen=!1,this.optionsSortType=[{value:"max_price",label:"Gi\xe1 (cao nh\u1ea5t)"},{value:"max_flight",label:"Bay (d\xe0i nh\u1ea5t)"},{value:"earliest_departure",label:"Kh\u1edfi h\xe0nh (S\u1edbm nh\u1ea5t)"},{value:"late_departure",label:"Kh\u1edfi h\xe0nh (Mu\u1ed9n nh\u1ea5t)"},{value:"earliest_arrival",label:"H\u1ea1 c\xe1nh (S\u1edbm nh\u1ea5t)"},{value:"late_arrival",label:"H\u1ea1 c\xe1nh (Mu\u1ed9n nh\u1ea5t)"}],this.findSortTypeByOptions=(n,o)=>{var r;return(null===(r=o.find(c=>c.value===n))||void 0===r?void 0:r.label)||"C\xe1c l\u1ef1a ch\u1ecdn kh\xe1c"},e.registerIcons([_.LdZ])}sortTypeChangeHandler(e){this.sortType=e,this.sortTypeChange.emit(e)}openSelectSort(e){e.stopPropagation(),this.isOpen=!this.isOpen}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(_.KNP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-sort-combo"]],inputs:{sortType:"sortType",tabComboDetail:"tabComboDetail"},outputs:{sortTypeChange:"sortTypeChange"},standalone:!0,features:[t.jDz],decls:30,vars:16,consts:[[1,"w-full","bg-white","rounded-2xl","py-4","flex","justify-between","cursor-pointer","divide-x","divide-solid","divide-neutral-gray-1","h-fit"],[1,"w-[184px]","px-4","flex","flex-col","justify-between","relative",3,"click"],[1,"text-body-lg","font-semibold"],["class","text-body-md-short",4,"ngIf","ngIfElse"],["class","absolute -bottom-4 left-4 right-4 h-1 bg-red-4",4,"ngIf"],["cdkOverlayOrigin","",1,"flex-1","px-4","flex","flex-col","justify-between",3,"click"],["trigger","","originOverlay","cdkOverlayOrigin"],[1,"flex","gap-3","items-center"],[1,"flex","flex-col","justify-between"],[1,"text-body-md-short"],["icon","chevron_down","size","small"],["emptyTabComboItemTpl",""],["cdkConnectedOverlay","",3,"cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","overlayOutsideClick"],[1,"absolute","-bottom-4","left-4","right-4","h-1","bg-red-4"],[1,"w-28","bg-neutral-gray-2","h-4","mt-1","rounded-md","animate-pulse"],[1,"shadow-cf-lg","bg-neutral-white","rounded-lg","text-body-md","py-2","px-2","min-w-[232px]"],["class","bg-white py-3 px-3 flex items-center gap-x-2.5 hover:bg-neutral-gray-1 hover:cursor-pointer rounded-xl",3,"click",4,"ngFor","ngForOf"],[1,"bg-white","py-3","px-3","flex","items-center","gap-x-2.5","hover:bg-neutral-gray-1","hover:cursor-pointer","rounded-xl",3,"click"],[1,"w-4","h-4"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg",4,"ngIf"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.7763 3.5019C14.0514 3.74651 14.0762 4.16789 13.8316 4.44308L6.7205 12.4431C6.59399 12.5854 6.41265 12.6668 6.22223 12.6668C6.0318 12.6668 5.85047 12.5854 5.72396 12.4431L2.1684 8.44308C1.92379 8.16789 1.94858 7.74651 2.22376 7.5019C2.49895 7.25728 2.92033 7.28207 3.16495 7.55726L6.22223 10.9967L12.8351 3.55726C13.0797 3.28207 13.5011 3.25729 13.7763 3.5019Z","fill","#2C2C2C"]],template:function(e,n){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.NdJ("click",function(){return n.sortTypeChangeHandler("min_price")}),t.TgZ(2,"div",2),t._uU(3," R\u1ebb nh\u1ea5t "),t.qZA(),t.YNc(4,v1,3,3,"div",3),t.YNc(5,x1,1,0,"div",4),t.qZA(),t.TgZ(6,"div",1),t.NdJ("click",function(){return n.sortTypeChangeHandler("best_choice")}),t.TgZ(7,"div",2),t._uU(8," T\u1ed1t nh\u1ea5t "),t.qZA(),t.YNc(9,y1,3,3,"div",3),t.YNc(10,C1,1,0,"div",4),t.qZA(),t.TgZ(11,"div",1),t.NdJ("click",function(){return n.sortTypeChangeHandler("min_flight")}),t.TgZ(12,"div",2),t._uU(13," Nhanh nh\u1ea5t "),t.qZA(),t.YNc(14,T1,3,3,"div",3),t.YNc(15,b1,1,0,"div",4),t.qZA(),t.TgZ(16,"div",5,6),t.NdJ("click",function(r){return n.openSelectSort(r)}),t.TgZ(19,"div",7)(20,"div",8)(21,"div",2),t._uU(22," S\u1eafp x\u1ebfp kh\xe1c "),t.qZA(),t.TgZ(23,"div",9),t._uU(24),t.ALo(25,"mapper"),t.qZA()(),t._UZ(26,"cf-icon",10),t.qZA()()(),t.YNc(27,k1,1,0,"ng-template",null,11,t.W1O),t.YNc(29,A1,2,1,"ng-template",12),t.NdJ("overlayOutsideClick",function(){return n.isOpen=!1})),2&e){const o=t.MAs(18),r=t.MAs(28);t.xp6(4),t.Q6J("ngIf",null==n.tabComboDetail?null:n.tabComboDetail.cheapest)("ngIfElse",r),t.xp6(1),t.Q6J("ngIf","min_price"===n.sortType),t.xp6(4),t.Q6J("ngIf",null==n.tabComboDetail?null:n.tabComboDetail.best)("ngIfElse",r),t.xp6(1),t.Q6J("ngIf","best_choice"===n.sortType),t.xp6(4),t.Q6J("ngIf",null==n.tabComboDetail?null:n.tabComboDetail.fastest)("ngIfElse",r),t.xp6(1),t.Q6J("ngIf","min_flight"===n.sortType),t.xp6(9),t.hij(" ",t.Dn7(25,12,n.sortType,n.findSortTypeByOptions,n.optionsSortType)," "),t.xp6(5),t.Q6J("cdkConnectedOverlayOrigin",o)("cdkConnectedOverlayOpen",n.isOpen)}},dependencies:[m.ez,m.sg,m.O5,m.JJ,_.AxE,_.Sm8,j.N8,tt.q,Xe.f,xt.pI,xt.xu],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();function B1(i,a){1&i&&t._UZ(0,"cf-icon",19)}function w1(i,a){1&i&&t._UZ(0,"cf-icon",20)}function I1(i,a){if(1&i&&(t.TgZ(0,"div",15)(1,"div",16),t._uU(2),t.ALo(3,"mapper"),t.YNc(4,B1,1,0,"cf-icon",17),t.YNc(5,w1,1,0,"cf-icon",18),t._uU(6),t.ALo(7,"mapper"),t.qZA()()),2&i){const e=t.oxw().ngIf,n=t.oxw();t.xp6(2),t.hij(" ",t.xi3(3,4,e.startPoint,n.convertCodeToCity)," "),t.xp6(2),t.Q6J("ngIf",1===n.searchData.journey.length),t.xp6(1),t.Q6J("ngIf",2===n.searchData.journey.length),t.xp6(1),t.hij(" ",t.xi3(7,7,e.endPoint,n.convertCodeToCity)," ")}}function S1(i,a){1&i&&(t.TgZ(0,"div",21),t._uU(1," T\xecm ki\u1ebfm h\xe0nh tr\xecnh "),t.qZA())}function F1(i,a){if(1&i&&(t.ynx(0),t._uU(1),t.ALo(2,"date"),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.hij(" - ",t.xi3(2,1,e.searchData.journey[1].departDate,"dd/MM/yyyy")," ")}}function N1(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1,"M\u1ed9t chi\u1ec1u"),t.qZA())}function q1(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1,"Kh\u1ee9 h\u1ed3i"),t.qZA())}function O1(i,a){if(1&i&&(t.ynx(0),t.YNc(1,N1,2,0,"div",11),t.YNc(2,q1,2,0,"div",11),t.BQk()),2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",1===e.searchData.journey.length),t.xp6(1),t.Q6J("ngIf",2===e.searchData.journey.length)}}function P1(i,a){1&i&&(t.TgZ(0,"div"),t._uU(1,"N/A"),t.qZA())}function M1(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openSearchInputBottomSheet.emit())}),t.TgZ(1,"div",4),t.YNc(2,I1,8,10,"div",5),t.YNc(3,S1,2,0,"ng-template",null,6,t.W1O),t.TgZ(5,"div",7)(6,"div",8),t._uU(7," Thay \u0111\u1ed5i "),t.qZA(),t._UZ(8,"cf-icon",9),t.qZA()(),t.TgZ(9,"div",4)(10,"div",4)(11,"div",10),t._uU(12),t.ALo(13,"date"),t.YNc(14,F1,3,4,"ng-container",11),t.qZA()(),t._UZ(15,"div",12),t.TgZ(16,"div",10),t.YNc(17,O1,3,2,"ng-container",13),t.qZA(),t.YNc(18,P1,2,0,"ng-template",null,14,t.W1O),t.qZA()()}if(2&i){const e=a.ngIf,n=t.MAs(4),o=t.MAs(19),r=t.oxw();t.xp6(2),t.Q6J("ngIf",e.startPoint||e.endPoint)("ngIfElse",n),t.xp6(10),t.hij(" ",t.xi3(13,6,e.departDate,"dd/MM/yyyy")," "),t.xp6(2),t.Q6J("ngIf",2===r.searchData.journey.length),t.xp6(3),t.Q6J("ngIf",r.searchData&&r.searchData.journey&&r.searchData.journey[0].startPoint)("ngIfElse",o)}}let U1=(()=>{class i{constructor(e,n,o){this.locationDataSvc=e,this.cfIconRegister=n,this._bottomSheetService=o,this.searchDataChange=new t.vpe,this.openSearchInputBottomSheet=new t.vpe,this.BtcTypeOfListSearch=$.YI,this.convertCodeToCity=r=>this.locationDataSvc.getCityNameByCode(r),this.initIcon()}initIcon(){this.cfIconRegister.registerIcons([_.Ffn,_.Lxr,_.PlV])}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(rt._),t.Y36(_.KNP),t.Y36(V.a2))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-search-input-mobile"]],inputs:{searchData:"searchData"},outputs:{searchDataChange:"searchDataChange",openSearchInputBottomSheet:"openSearchInputBottomSheet"},standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[1,"flex","gap-2","justify-between"],[1,"flex","flex-col","gap-1"],["class","flex flex-col gap-1",3,"click",4,"ngIf"],[1,"flex","flex-col","gap-1",3,"click"],[1,"flex","gap-1","items-center"],["class","text-body-md flex gap-1 items-center text-neutral-black",4,"ngIf","ngIfElse"],["emptyPoint",""],[1,"py-[2px]","px-1","rounded","gap-[6px]","items-center","text-white","flex","bg-secondary-6-4"],[1,"text-body-sm","font-medium"],["icon","edit","size","small"],[1,"text-body-sm","text-neutral-gray-5"],[4,"ngIf"],[1,"w-0","border-r","border-r-secondary-7-2","mx-1","h-4"],[4,"ngIf","ngIfElse"],["emptyJTpl",""],[1,"text-body-md","flex","gap-1","items-center","text-neutral-black"],[1,"text-espressive-sm","text-neutral-black","flex","items-center"],["class","text-secondary-7-5","icon","arrow_right","size","small",4,"ngIf"],["class","text-secondary-7-5 rotate-90","icon","sort","size","small",4,"ngIf"],["icon","arrow_right","size","small",1,"text-secondary-7-5"],["icon","sort","size","small",1,"text-secondary-7-5","rotate-90"],[1,"text-body-md","flex","gap-1","items-center","text-neutral-black","font-semibold"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div"),t.ynx(3),t.YNc(4,M1,20,9,"div",2),t.BQk(),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.searchData.journey[0]))},dependencies:[m.ez,m.O5,m.uU,_.AxE,_.Sm8,tt.q],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();var J1=v(82692),L1=v(53620),R1=v(54646),j1=v(29965),Q1=v(99137),Y1=v(37453),H1=v(82858),V1=v(49770),de=v(39646),ti=v(4128),K1=v(28746),$1=v(18505);let z1=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,L.D)(()=>W1),(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})(),W1=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"journey",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"leg",void 0),i})();const ei={headers:new it.WM({"Content-Type":"application/json"})};let X1=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaSvc=o}searchFlight(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/search",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:n})),ei)),(0,at.U)(n=>(0,X.yE)(jo,n,{excludeExtraneousValues:!0})))}searchMinFares(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/search-min-fares",JSON.stringify({searchMinFareReq:e,recaptcha:n}),ei)),(0,at.U)(n=>(0,X.yE)(z1,n,{excludeExtraneousValues:!0})))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),tp=(()=>{class i{get searchMinFareDataBtc(){return JSON.parse(sessionStorage.getItem("searchMinFareDataBtc"))}set searchMinFareDataBtc(e){const n=e.map(o=>Object.assign(Object.assign({},o),{data:Object.fromEntries(o.data)}));sessionStorage.setItem("searchMinFareDataBtc",JSON.stringify(n))}removeSearchMinFareDataBtc(){sessionStorage.removeItem("searchMinFareDataBtc")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ep=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,L.D)(()=>ip),(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})(),ip=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"listPromo",void 0),i})();const ii={headers:new it.WM({"Content-Type":"application/json"})};let np=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaSvc=o}get(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,lt.w)(n=>{const o=Object.assign(Object.assign({},e),{recaptcha:n});return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/get-suggest-promo-code-search",JSON.stringify(o),ii)}),(0,at.U)(n=>(0,X.yE)(ep,n,{excludeExtraneousValues:!0})))}getList(){return this.http.get(this.appConfig.apiB2cUrl+"b2c-ticket/get-list-promo-code",ii).pipe((0,at.U)(e=>(0,X.yE)(Sa,e,{excludeExtraneousValues:!0})))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const op=["scrollContainer"],ap=["searchFlightEl"],rp=["searchInputBottomSheet"];function cp(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" - ",t.xi3(2,1,e.toDate,"dd/MM"),"")}}function lp(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"T\u1eeb "),t.qZA())}function sp(i,a){if(1&i&&(t.TgZ(0,"span"),t.YNc(1,lp,2,0,"span",32),t._uU(2),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.toDate&&n.searchDataRaw.type===n.btcTypeSearch.RoundTrip),t.xp6(1),t.hij("",t.lcZ(3,2,e.price)," \u0111")}}function up(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Xem gi\xe1"),t.qZA())}function pp(i,a){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"number"),t.qZA()),2&i){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE("Gi\xe1 r\u1ebb ",e.airlineMinPrice,": ",t.lcZ(2,2,e.price)," \u0111")}}function dp(i,a){if(1&i&&(t.TgZ(0,"ul")(1,"li"),t._uU(2),t.qZA(),t.TgZ(3,"li"),t._uU(4),t.qZA(),t.YNc(5,pp,3,4,"li",32),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.dayInfo.holiday),t.xp6(2),t.AsE("",e.dayInfo.dateFormat," (",e.dayInfo.lunarDate,")"),t.xp6(1),t.Q6J("ngIf",e.price)}}const ni=function(i,a){return{"bg-red-1":i,"opacity-50 pointer-events-none":a}},Kt=function(i){return{"text-primary-1-4":i}};function _p(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",50),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.onSelectDateBar(r.key,r.fromDate,r.toDate))}),t.TgZ(2,"div",51)(3,"div",52)(4,"span"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.YNc(7,cp,3,4,"span",32),t.qZA(),t.TgZ(8,"div",53),t.YNc(9,sp,4,4,"span",32),t.YNc(10,up,2,0,"span",32),t.qZA()()(),t.YNc(11,dp,6,4,"ng-template",null,54,t.W1O),t.BQk()}if(2&i){const e=a.$implicit,n=t.MAs(12),o=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.WLB(13,ni,e.selected,!e.active||o.progress.isProgress))("id",e.key)("cfTooltip",n)("placement","topCenter"),t.xp6(2),t.Q6J("ngClass",t.VKq(16,Kt,e.selected)),t.xp6(2),t.Oqu(t.xi3(6,10,e.fromDate,"dd/MM")),t.xp6(2),t.Q6J("ngIf",e.toDate&&o.searchDataRaw.type===o.btcTypeSearch.RoundTrip),t.xp6(1),t.Q6J("ngClass",t.VKq(18,Kt,e.selected)),t.xp6(1),t.Q6J("ngIf",e.price),t.xp6(1),t.Q6J("ngIf",!e.price)}}function gp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",44)(1,"div",45)(2,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onPreviousDate())}),t._UZ(3,"cf-icon",47),t.qZA(),t.TgZ(4,"div",48),t.NdJ("scroll",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onScrollMultiDateBar(o))}),t.YNc(5,_p,13,20,"ng-container",43),t.qZA(),t.TgZ(6,"button",46),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onNextDate())}),t._UZ(7,"cf-icon",49),t.qZA()()()}if(2&i){const e=t.oxw(3);t.xp6(5),t.Q6J("ngForOf",e.multiDateBar)}}function mp(i,a){if(1&i&&(t.TgZ(0,"div",55),t._UZ(1,"div",56),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Udp("width",e.progress.percent+"%")}}function fp(i,a){if(1&i&&(t.TgZ(0,"div",66),t._uU(1),t.ALo(2,"formatVietnameseDate"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.departDate)," ")}}function hp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",62),t.NdJ("click",function(){const r=t.CHM(e).index,c=t.oxw(5);return t.KtG(c.idxTicketSelectedChange(r))}),t.TgZ(1,"div",63),t._uU(2),t.qZA(),t.YNc(3,fp,3,3,"div",64),t._UZ(4,"div",65),t.qZA()}if(2&i){const e=a.$implicit,n=a.index,o=t.oxw(5);t.xp6(2),t.AsE(" ",e.startPoint," - ",e.endPoint," "),t.xp6(1),t.Q6J("ngIf",e.departDate),t.xp6(1),t.Q6J("ngClass",n===o.ticketCur.idxTicketSelected?"flex":"hidden")}}function vp(i,a){if(1&i&&(t.TgZ(0,"div",60),t.YNc(1,hp,5,4,"div",61),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",e.searchDataRaw.journey)}}const xp=function(i){return{"w-full":i}};function yp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",57),t.YNc(1,vp,2,1,"div",58),t.TgZ(2,"btc-result-options-sort",59),t.NdJ("sortTypeChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.sortType=o)}),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.type===e.btcTypeSearch.RoundTrip),t.xp6(1),t.Q6J("sortType",e.sortType)("ngClass",t.VKq(3,xp,e.searchDataRaw.type!==e.btcTypeSearch.RoundTrip))}}function Cp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"btc-result-sort-combo",67),t.NdJ("sortTypeChange",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.sortType=o)}),t.qZA()}if(2&i){const e=t.oxw(3);t.Q6J("sortType",e.sortType)("tabComboDetail",e.tabComboDetail)}}function Tp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"btc-ticket-item",72),t.NdJ("selectTicket",function(o){t.CHM(e);const r=t.oxw(7);return t.KtG(r.chooseTicket(o))}),t.qZA()()}if(2&i){const e=a.$implicit,n=t.oxw(7);t.xp6(1),t.Q6J("ticket",e)("searchData",n.searchDataRaw)("viewConfig",n.viewConfig)}}function bp(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Tp,2,3,"div",71),t.ALo(2,"slice"),t.BQk()),2&i){const e=a.ngIf,n=t.oxw(6);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,2,e,0,n.displayLimit))("ngForTrackBy",n.ticketTrackByFn)}}function kp(i,a){if(1&i&&(t.TgZ(0,"div",69),t.YNc(1,bp,3,6,"ng-container",32),t.ALo(2,"mapper"),t.qZA()),2&i){const e=a.ngIf,n=t.oxw(5);t.xp6(1),t.Q6J("ngIf",t.Dn7(2,1,e,n.sortMapper,n.sortType))}}const $t=function(){return[]},oi=function(i,a,e,n,o,r,c,l,p,d,g){return[i,a,e,n,o,r,c,l,p,d,g]};function Ep(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",69),t.YNc(2,kp,3,5,"div",70),t.ALo(3,"mapper"),t.qZA(),t.BQk()),2&i){const e=t.oxw(4),n=t.MAs(4);t.xp6(2),t.Q6J("ngIf",t.G7q(3,2,t.rFY(15,oi,[e.listTicketDisplay,e.filterMapperModeSingle,e.filterFareTypeOptions,e.timeFlightOptions,e.modelAirPlaneOptions,e.ticketFilterNumStop,e.airlineOptions,e.optionsTicketType,e.bookingSystemList,(null==e.ticketCur?null:e.ticketCur.idxTicketSelected)||0,e.searchDataRaw.journey||t.DdM(14,$t)])))("ngIfElse",n)}}function Dp(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Ep,4,27,"ng-container",68),t.BQk()),2&i){const e=t.oxw(3),n=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.listTicketDisplay&&(null==e.listTicketDisplay?null:e.listTicketDisplay.length))("ngIfElse",n)}}function Ap(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"btc-ticket-combo-item",73),t.NdJ("chooseTicketCombo",function(o){t.CHM(e);const r=t.oxw(6);return t.KtG(r.chooseTicketCombo(o))}),t.qZA(),t.BQk()}if(2&i){const e=a.$implicit,n=t.oxw(6);t.xp6(1),t.Q6J("ticket",e)("searchData",n.searchDataRaw)("viewConfig",n.viewConfig)}}function Zp(i,a){if(1&i&&(t.TgZ(0,"div",69),t.YNc(1,Ap,2,3,"ng-container",43),t.ALo(2,"slice"),t.ALo(3,"mapper"),t.qZA()),2&i){const e=a.ngIf,n=t.oxw(5);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,t.Dn7(3,5,e,n.sortComboMapper,n.sortType),0,n.displayLimit))}}const ai=function(i,a,e,n,o,r){return[i,a,e,n,o,r]};function Bp(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",69),t.YNc(2,Zp,4,9,"div",70),t.ALo(3,"mapper"),t.qZA(),t.BQk()),2&i){const e=t.oxw(4),n=t.MAs(4);t.xp6(2),t.Q6J("ngIf",t.G7q(3,2,t.HTZ(9,ai,e.listTicketComboDisplay,e.filterMapperModeCombo,e.airlineOptions,e.ticketFilterNumStop,e.bookingSystemList,e.optionsTicketType)))("ngIfElse",n)}}function wp(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Bp,4,16,"ng-container",68),t.BQk()),2&i){const e=t.oxw(3),n=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.listTicketComboDisplay)("ngIfElse",n)}}function Ip(i,a){1&i&&t._UZ(0,"btc-ticket-skeleton")}function Sp(i,a){1&i&&(t.TgZ(0,"div",69),t.YNc(1,Ip,1,0,"btc-ticket-skeleton",43),t.qZA()),2&i&&(t.Q6J("@listAnimation",4),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,$t).constructor(4)))}function Fp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4);return t.KtG(o.showDetailPromo())}),t.TgZ(1,"div",76)(2,"div",77),t.O4$(),t.TgZ(3,"svg",78),t._UZ(4,"path",79),t.qZA(),t.kcU(),t.TgZ(5,"div",80),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.qZA()(),t.TgZ(9,"div",81)(10,"div",82),t._UZ(11,"span",83),t.ALo(12,"mapper"),t.qZA(),t.TgZ(13,"span")(14,"b",84),t._uU(15),t.qZA(),t._uU(16," | "),t.TgZ(17,"span",85),t._uU(18),t.qZA()()()()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(3);t.xp6(6),t.hij(" ",t.Dn7(7,4,t.lcZ(8,8,e.absoluteMaxValue/1e3),",","."),"K "),t.xp6(5),t.Q6J("innerHTML",t.xi3(12,10,e.header,n.bypassSecurityTrustHtml),t.oJD),t.xp6(4),t.Oqu(e.code),t.xp6(3),t.hij(" ","SEARCH"===e.type?"M\xe3 t\u1ef1 \u0111\u1ed9ng \xe1p d\u1ee5ng":"\xc1p m\xe3 \u1edf b\u01b0\u1edbc \u0111\u1eb7t v\xe9"," ")}}function Np(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Fp,19,13,"div",74),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.public)}}function qp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",6),t._UZ(1,"header-btc"),t.TgZ(2,"div",7)(3,"div",8)(4,"div",9)(5,"div",10)(6,"btc-type-search",11),t.NdJ("typeSearchChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.flightTypeChange(o))}),t.qZA()(),t.TgZ(7,"div",12)(8,"btc-num-of-pas",13),t.NdJ("numberOfPassengerChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.numberOfPassengerChange(o))}),t.qZA(),t.TgZ(9,"btc-airline-filter",14),t.NdJ("airlineFilterChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.airlineFilterChange(o))}),t.qZA(),t.TgZ(10,"btc-voucher-selector",15),t.NdJ("promotionCodeChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.searchData.promotionCode=o)}),t.qZA(),t.TgZ(11,"btc-cabin-selector",16),t.NdJ("cabinChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(!r.isMobile&&r.cabinChange(o))}),t.qZA(),t.TgZ(12,"btc-pax-type-selector",17),t.NdJ("paxTypeChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(!r.isMobile&&r.paxTypeChange(o))}),t.qZA()()(),t.TgZ(13,"div",18)(14,"btc-search-input",19,20),t.NdJ("removeRoute",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.removeRoute(o))})("dataChange",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.searchInputChange())})("dateTypeChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onDateTypeChange(o))})("navigateDatepicker",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.onNavigateDatepicker(o))}),t.qZA(),t.TgZ(16,"button",21),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.researchFlight())}),t._UZ(17,"cf-icon",22),t.TgZ(18,"div",23),t._uU(19," T\xecm chuy\u1ebfn bay "),t.qZA()()(),t.YNc(20,gp,8,1,"div",24),t.YNc(21,mp,2,2,"div",25),t.qZA(),t.TgZ(22,"div",26)(23,"div",27)(24,"btc-result-filter",28),t.NdJ("viewConfigChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.viewConfig=o)})("airlineOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.airlineOptions=o)})("ticketFilterNumStopChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.ticketFilterNumStop=o)})("timeFlightOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.timeFlightOptions=o)})("filterFareTypeOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.filterFareTypeOptions=o)})("modelAirPlaneOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.modelAirPlaneOptions=o)})("optionsTicketTypeChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.optionsTicketType=o)})("bookingSystemListChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.bookingSystemList=o)}),t.qZA()(),t.TgZ(25,"div",29),t.YNc(26,yp,3,5,"div",30),t.YNc(27,Cp,1,2,"btc-result-sort-combo",31),t.YNc(28,Dp,2,2,"ng-container",32),t.YNc(29,wp,2,2,"ng-container",32),t.YNc(30,Sp,2,3,"div",33),t.qZA(),t.TgZ(31,"div",34)(32,"div",35)(33,"div",36)(34,"div",37)(35,"div",38),t._uU(36,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(37,"btc-ticket-sticky-selected",39),t.NdJ("showDetail",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.showDetail(o))})("reselectClick",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.reselectTicket(o))}),t.qZA(),t.TgZ(38,"div",40)(39,"div",38),t._uU(40,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(41,"div",41),t._uU(42),t.ALo(43,"replace"),t.ALo(44,"number"),t.qZA()()(),t.TgZ(45,"div",42),t.YNc(46,Np,2,1,"ng-container",43),t.qZA()()()()(),t._UZ(47,"footer-btc"),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(6),t.Q6J("flightType",e.searchData.type),t.xp6(2),t.Q6J("adultNumber",e.searchData.adultCount)("childNumber",e.searchData.childCount)("infantNumber",e.searchData.infantCount),t.xp6(1),t.Q6J("airlineList",e.airlineFilters),t.xp6(1),t.Q6J("isShowTooltipFirstTime",!0)("promotionCode",e.searchData.promotionCode),t.xp6(1),t.Q6J("cabinList",e.cabinList)("actived",e.isAirLineInternational),t.xp6(1),t.Q6J("paxTypeList",e.paxTypeList)("actived",e.isAirLineInternational),t.xp6(2),t.Q6J("formArray",e.journeyFormArr)("type",e.searchData.type||0),t.xp6(2),t.Q6J("disabled",e.progress.isProgress),t.xp6(4),t.Q6J("ngIf",e.multiDateBar.length&&e.minFareOptionConfig),t.xp6(1),t.Q6J("ngIf",e.progress.isProgress),t.xp6(3),t.Q6J("viewConfig",e.viewConfig)("airlineOptions",e.airlineOptions)("ticketFilterNumStop",e.ticketFilterNumStop)("timeFlightOptions",e.timeFlightOptions)("filterFareTypeOptions",e.filterFareTypeOptions)("modelAirPlaneOptions",e.modelAirPlaneOptions)("optionsTicketType",e.optionsTicketType)("bookingSystemList",e.bookingSystemList),t.xp6(2),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",e.searchDataRaw.typeOfList===e.btcTypeOfListSearch.Combo),t.xp6(1),t.Q6J("ngIf",e.progress.isProgress&&!(null!=e.listTicketDisplay&&e.listTicketDisplay.length)&&!(null!=e.listTicketComboDisplay&&e.listTicketComboDisplay.length)),t.xp6(7),t.Q6J("searchInput",e.searchDataRaw)("ticketCur",e.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(43,33,t.lcZ(44,37,((null==e.ticketCur?null:e.ticketCur.totalPrice)||0)-e.amountDiscount),",",".")," \u0111 "),t.xp6(4),t.Q6J("ngForOf",e.dataPromotion)}}function Op(i,a){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.hij(" - ",t.xi3(2,1,e.toDate,"dd/MM"),"")}}function Pp(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"T\u1eeb "),t.qZA())}function Mp(i,a){if(1&i&&(t.TgZ(0,"span"),t.YNc(1,Pp,2,0,"span",32),t._uU(2),t.ALo(3,"number"),t.qZA()),2&i){const e=t.oxw().$implicit,n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",e.toDate&&n.searchDataRaw.type===n.btcTypeSearch.RoundTrip),t.xp6(1),t.hij("",t.lcZ(3,2,e.price)," \u0111")}}function Up(i,a){1&i&&(t.TgZ(0,"span"),t._uU(1,"Xem gi\xe1"),t.qZA())}function Jp(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",113),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(4);return t.KtG(c.onSelectDateBar(r.key,r.fromDate,r.toDate))}),t.TgZ(2,"div",51)(3,"div",52)(4,"span"),t._uU(5),t.ALo(6,"date"),t.qZA(),t.YNc(7,Op,3,4,"span",32),t.qZA(),t.TgZ(8,"div",53),t.YNc(9,Mp,4,4,"span",32),t.YNc(10,Up,2,0,"span",32),t.qZA()()(),t.BQk()}if(2&i){const e=a.$implicit,n=t.oxw(4);t.xp6(1),t.Q6J("ngClass",t.WLB(11,ni,e.selected,!e.active||n.progress.isProgress))("id",e.key+"-mobile"),t.xp6(2),t.Q6J("ngClass",t.VKq(14,Kt,e.selected)),t.xp6(2),t.Oqu(t.xi3(6,8,e.fromDate,"dd/MM")),t.xp6(2),t.Q6J("ngIf",e.toDate&&n.searchDataRaw.type===n.btcTypeSearch.RoundTrip),t.xp6(1),t.Q6J("ngClass",t.VKq(16,Kt,e.selected)),t.xp6(1),t.Q6J("ngIf",e.price),t.xp6(1),t.Q6J("ngIf",!e.price)}}function Lp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",108)(1,"div",109)(2,"div",110),t.NdJ("scroll",function(o){t.CHM(e);const r=t.oxw(3);return t.KtG(r.onScrollMultiDateBar(o))}),t.YNc(3,Jp,11,18,"ng-container",43),t.qZA()(),t.TgZ(4,"div",111),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onDatePickerClick())}),t._UZ(5,"cf-icon",112),t.qZA()()}if(2&i){const e=t.oxw(3);t.xp6(3),t.Q6J("ngForOf",e.multiDateBar)}}const Rp=function(i,a,e){return{"!text-red-4 !bg-red-2":i,"rounded-r-md":a,"rounded-l-md":e}};function jp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",116),t.NdJ("click",function(){const r=t.CHM(e).index,c=t.oxw(4);return t.KtG(c.idxTicketSelectedChange(r))}),t.TgZ(1,"div",117),t._uU(2),t.qZA()()}if(2&i){const e=a.index,n=t.oxw(4);t.Q6J("ngClass",t.kEZ(2,Rp,e===n.ticketCur.idxTicketSelected,e,!e)),t.xp6(2),t.hij(" ",e?"Chi\u1ec1u v\u1ec1":"Chi\u1ec1u \u0111i"," ")}}function Qp(i,a){if(1&i&&(t.TgZ(0,"div",114),t.YNc(1,jp,3,6,"div",115),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e.searchDataRaw.journey)}}function Yp(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"btc-ticket-item",120),t.NdJ("selectTicket",function(o){t.CHM(e);const r=t.oxw(5);return t.KtG(r.chooseTicket(o))})("reselectClick",function(){t.CHM(e);const o=t.oxw(5);return t.KtG(o.reselectTicket(o.ticketCur.idxTicketSelected))}),t.qZA()}if(2&i){const e=a.ngIf,n=t.oxw(5);t.Q6J("ticket",e)("searchData",n.searchDataRaw)("ticketSelectedMobile",!0)("viewConfig",n.viewConfig)}}function Hp(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Yp,1,4,"btc-ticket-item",119),t.BQk()),2&i){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.ticketData)}}function Vp(i,a){if(1&i&&(t.TgZ(0,"div",118),t.YNc(1,Hp,2,1,"ng-container",32),t.qZA()),2&i){const e=a.index,n=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e===n.ticketCur.idxTicketSelected)}}function Gp(i,a){1&i&&t._UZ(0,"btc-ticket-skeleton")}function Kp(i,a){1&i&&(t.TgZ(0,"div",121),t.YNc(1,Gp,1,0,"btc-ticket-skeleton",43),t.qZA()),2&i&&(t.Q6J("@listAnimation",5),t.xp6(1),t.Q6J("ngForOf",t.DdM(2,$t).constructor(5)))}function $p(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"btc-ticket-item",124),t.NdJ("selectTicket",function(o){t.CHM(e),t.oxw(5);const r=t.MAs(11),c=t.oxw(2);return t.KtG(c.chooseTicket(o,r))})("reselectClick",function(){t.CHM(e),t.oxw(5);const o=t.MAs(11),r=t.oxw(2);return t.KtG(r.reselectTicket(r.ticketCur.idxTicketSelected,o))}),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw(6);t.Q6J("ticket",e)("searchData",n.searchDataRaw)("viewConfig",n.viewConfig)}}function zp(i,a){if(1&i&&(t.TgZ(0,"div"),t.YNc(1,$p,1,3,"btc-ticket-item",123),t.ALo(2,"mapper"),t.qZA()),2&i){const e=a.$implicit,n=t.oxw(6);t.xp6(1),t.Q6J("ngIf",!t.Dn7(2,1,n.ticketCur.ticketSelected,n.checkTicketSelectedMobile,e))}}function Wp(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",69),t.YNc(2,zp,3,5,"div",71),t.ALo(3,"slice"),t.qZA(),t.BQk()),2&i){const e=a.ngIf,n=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",t.Dn7(3,2,e,0,n.displayLimit))("ngForTrackBy",n.ticketTrackByFn)}}function Xp(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Wp,4,6,"ng-container",32),t.ALo(2,"mapper"),t.BQk()),2&i){const e=a.ngIf,n=t.oxw(4);t.xp6(1),t.Q6J("ngIf",t.Dn7(2,1,e,n.sortMapper,n.sortType))}}function td(i,a){if(1&i&&(t.TgZ(0,"div",122),t.YNc(1,Xp,3,5,"ng-container",68),t.ALo(2,"mapper"),t.qZA()),2&i){const e=t.oxw(3),n=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.G7q(2,2,t.rFY(15,oi,[e.listTicketDisplay,e.filterMapperModeSingle,e.filterFareTypeOptions,e.timeFlightOptions,e.modelAirPlaneOptions,e.ticketFilterNumStop,e.airlineOptions,e.optionsTicketType,e.bookingSystemList,(null==e.ticketCur?null:e.ticketCur.idxTicketSelected)||0,e.searchDataRaw.journey||t.DdM(14,$t)])))("ngIfElse",n)}}function ed(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"btc-ticket-combo-item",73),t.NdJ("chooseTicketCombo",function(o){t.CHM(e);const r=t.oxw(5);return t.KtG(r.chooseTicketCombo(o))}),t.qZA(),t.BQk()}if(2&i){const e=a.$implicit,n=t.oxw(5);t.xp6(1),t.Q6J("ticket",e)("searchData",n.searchDataRaw)("viewConfig",n.viewConfig)}}function id(i,a){if(1&i&&(t.TgZ(0,"div",69),t.YNc(1,ed,2,3,"ng-container",43),t.ALo(2,"slice"),t.ALo(3,"mapper"),t.qZA()),2&i){const e=a.ngIf,n=t.oxw(4);t.xp6(1),t.Q6J("ngForOf",t.Dn7(2,1,t.Dn7(3,5,e,n.sortComboMapper,n.sortType),0,n.displayLimit))}}function nd(i,a){if(1&i&&(t.TgZ(0,"div",125),t.YNc(1,id,4,9,"div",70),t.ALo(2,"mapper"),t.qZA()),2&i){const e=t.oxw(3),n=t.MAs(4);t.xp6(1),t.Q6J("ngIf",t.G7q(2,2,t.HTZ(9,ai,e.listTicketComboDisplay,e.filterMapperModeCombo,e.airlineOptions,e.ticketFilterNumStop,e.bookingSystemList,e.optionsTicketType)))("ngIfElse",n)}}function od(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",86),t._UZ(1,"header-btc"),t.TgZ(2,"div",87)(3,"div",88)(4,"btc-search-input-mobile",89),t.NdJ("searchDataChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.searchData=o)})("openSearchInputBottomSheet",function(){t.CHM(e);const o=t.oxw(2),r=t.MAs(2);return t.KtG(o.openSearchInputBottomSheet(r))}),t.qZA(),t.TgZ(5,"div",90)(6,"btc-result-options-sort",91),t.NdJ("sortTypeChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.sortType=o)}),t.qZA(),t.TgZ(7,"btc-result-filter",92),t.NdJ("viewConfigChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.viewConfig=o)})("airlineOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.airlineOptions=o)})("ticketFilterNumStopChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.ticketFilterNumStop=o)})("timeFlightOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.timeFlightOptions=o)})("filterFareTypeOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.filterFareTypeOptions=o)})("modelAirPlaneOptionsChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.modelAirPlaneOptions=o)})("optionsTicketTypeChange",function(o){t.CHM(e);const r=t.oxw(2);return t.KtG(r.optionsTicketType=o)})("resetFilter",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.onResetFilter())}),t.qZA()()()(),t.TgZ(8,"div",93,94),t._UZ(10,"div",null,95),t.YNc(12,Lp,6,1,"div",96),t.TgZ(13,"div",97),t.YNc(14,Qp,2,1,"div",98),t.qZA(),t.TgZ(15,"div",99)(16,"div",100),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.showDetailPromo())}),t.TgZ(17,"div",101),t._UZ(18,"cf-icon",102),t.TgZ(19,"div",103),t._uU(20," Khuy\u1ebfn m\xe3i "),t.qZA()()()(),t.YNc(21,Vp,2,1,"div",104),t.YNc(22,Kp,2,3,"div",105),t.YNc(23,td,3,27,"div",106),t.YNc(24,nd,3,16,"div",107),t._UZ(25,"footer-btc"),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(4),t.Q6J("searchData",e.searchData),t.xp6(2),t.Q6J("sortType",e.sortType),t.xp6(1),t.Q6J("viewConfig",e.viewConfig)("airlineOptions",e.airlineOptions)("ticketFilterNumStop",e.ticketFilterNumStop)("timeFlightOptions",e.timeFlightOptions)("filterFareTypeOptions",e.filterFareTypeOptions)("modelAirPlaneOptions",e.modelAirPlaneOptions)("optionsTicketType",e.optionsTicketType),t.xp6(5),t.Q6J("ngIf",e.multiDateBar.length&&e.minFareOptionConfig),t.xp6(2),t.Q6J("ngIf",e.searchDataRaw.type===e.btcTypeSearch.RoundTrip&&!e.isAirLineInternational),t.xp6(2),t.Q6J("@widthFadeOut",e.widthState),t.xp6(3),t.Q6J("@textFadeOut",e.textState),t.xp6(2),t.Q6J("ngForOf",e.ticketCur.ticketSelected),t.xp6(1),t.Q6J("ngIf",e.progress.isProgress&&!(null!=e.listTicketDisplay&&e.listTicketDisplay.length)&&!(null!=e.listTicketComboDisplay&&e.listTicketComboDisplay.length)),t.xp6(1),t.Q6J("ngIf",e.searchData.typeOfList===e.btcTypeOfListSearch.Single),t.xp6(1),t.Q6J("ngIf",e.searchData.typeOfList===e.btcTypeOfListSearch.Combo)}}function ad(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",3),t.NdJ("scroll",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onScroll(o))}),t.YNc(1,qp,48,39,"div",4),t.YNc(2,od,26,17,"div",5),t.qZA()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.isMobile),t.xp6(1),t.Q6J("ngIf",e.isMobile)}}function rd(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",126)(1,"div",10)(2,"btc-type-search",11),t.NdJ("typeSearchChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.flightTypeChange(o))}),t.qZA()(),t.TgZ(3,"btc-search-input",127,20),t.NdJ("removeRoute",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.removeRoute(o))})("dataChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.searchInputChange())})("dateTypeChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.onDateTypeChange(o))}),t.qZA(),t.TgZ(5,"div",128)(6,"btc-num-of-pas",13),t.NdJ("numberOfPassengerChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.numberOfPassengerChange(o))}),t.qZA(),t.TgZ(7,"btc-airline-filter",14),t.NdJ("airlineFilterChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.airlineFilterChange(o))}),t.qZA(),t.TgZ(8,"btc-voucher-selector",15),t.NdJ("promotionCodeChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.searchData.promotionCode=o)}),t.qZA(),t.TgZ(9,"btc-cabin-selector",16),t.NdJ("cabinChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.cabinChange(o))}),t.qZA(),t.TgZ(10,"btc-pax-type-selector",17),t.NdJ("paxTypeChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.paxTypeChange(o))}),t.qZA()(),t.TgZ(11,"button",129),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.researchFlight())}),t._UZ(12,"cf-icon",22),t._uU(13," T\xecm chuy\u1ebfn bay "),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("flightType",e.searchData.type),t.xp6(1),t.Q6J("formArray",e.journeyFormArr)("type",e.searchData.type||0),t.xp6(3),t.Q6J("adultNumber",e.searchData.adultCount)("childNumber",e.searchData.childCount)("infantNumber",e.searchData.infantCount),t.xp6(1),t.Q6J("airlineList",e.airlineFilters),t.xp6(1),t.Q6J("isShowTooltipFirstTime",!1)("promotionCode",e.searchData.promotionCode),t.xp6(1),t.Q6J("cabinList",e.cabinList)("actived",e.isAirLineInternational),t.xp6(1),t.Q6J("paxTypeList",e.paxTypeList)("actived",e.isAirLineInternational)}}function cd(i,a){if(1&i){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",135),t._uU(2,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o"),t.qZA(),t.TgZ(3,"div",136),t._uU(4," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc ho\u1eb7c thay \u0111\u1ed5i t\xecm ki\u1ebfm c\u1ee7a b\u1ea1n. "),t.qZA(),t.TgZ(5,"button",137),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(4),r=t.MAs(2);return t.KtG(o.onChangeSearch(o.searchFlightEl,r))}),t._UZ(6,"cf-icon",138),t._uU(7," Thay \u0111\u1ed5i t\xecm ki\u1ebfm "),t.qZA(),t.BQk()}2&i&&(t.xp6(5),t.Q6J("type","secondary"))}function ld(i,a){1&i&&(t.TgZ(0,"div",135),t._uU(1,"T\xecm chuy\u1ebfn bay ph\xf9 h\u1ee3p"),t.qZA(),t.TgZ(2,"div",136),t._uU(3," Vui l\xf2ng ch\u1ecdn h\xe0nh tr\xecnh v\xe0 ng\xe0y bay c\u1ee7a b\u1ea1n \u1edf thanh t\xecm ki\u1ebfm "),t.qZA())}function sd(i,a){if(1&i&&(t.TgZ(0,"div",132),t._UZ(1,"img",133),t.YNc(2,cd,8,1,"ng-container",68),t.YNc(3,ld,4,0,"ng-template",null,134,t.W1O),t.qZA()),2&i){const e=t.MAs(4),n=t.oxw(3);t.xp6(2),t.Q6J("ngIf",n.searchDataRaw.journey&&n.searchDataRaw.journey[0].startPoint&&n.searchDataRaw.journey[0].endPoint)("ngIfElse",e)}}function ud(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",139),t._UZ(1,"img",133),t.TgZ(2,"div",135),t._uU(3,"Kh\xf4ng c\xf3 chuy\u1ebfn bay n\xe0o ph\xf9 h\u1ee3p"),t.qZA(),t.TgZ(4,"div",140),t._uU(5," Vui l\xf2ng s\u1eeda \u0111\u1ed5i b\u1ed9 l\u1ecdc cho ph\xf9 h\u1ee3p ho\u1eb7c ch\u1ecdn n\xfat b\xean d\u01b0\u1edbi \u0111\u1ec3 h\u1ee7y vi\u1ec7c l\u1ecdc. "),t.qZA(),t.TgZ(6,"button",141),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(3);return t.KtG(o.onResetFilter())}),t._uU(7," H\u1ee7y l\u1ecdc chuy\u1ebfn bay "),t.qZA()()}2&i&&(t.xp6(6),t.Q6J("type","solid"))}function pd(i,a){if(1&i&&(t.ynx(0),t.YNc(1,sd,5,2,"div",130),t.YNc(2,ud,8,1,"ng-template",null,131,t.W1O),t.BQk()),2&i){const e=t.MAs(3),n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!(null!=n.listTicketDisplay&&n.listTicketDisplay.length||null!=n.listTicketComboDisplay&&n.listTicketComboDisplay.length))("ngIfElse",e)}}function dd(i,a){if(1&i&&t.YNc(0,pd,4,2,"ng-container",32),2&i){const e=t.oxw();t.Q6J("ngIf",!e.progress.isProgress&&!e.isLoadingPage)}}let _d=(()=>{class i{constructor(e,n,o,r,c,l,p,d,g,y,x,C,f,E,T,N,w,O,G,h){this._helperSvc=e,this._helperResultSvc=n,this._fb=o,this._locationDataService=r,this._cdr=c,this._modal=l,this._cfIconRegister=p,this._searchBtcSvc=d,this.router=g,this.route=y,this._detectMobileService=x,this._bottomSheetService=C,this._helperStorageSvc=f,this.location=E,this._eventLogService=T,this.searchMinFareDataBtcProvider=N,this.getSuggestPromoCodeSearchSvc=w,this.appConfig=O,this.sanitizer=G,this.drawerService=h,this.btcTypeOfListSearch=$.YI,this.btcTypeSearch=$.VB,this.listElTIcketView=[],this.isAirLineInternational=!1,this.cabinList=pt.St,this.paxTypeList=pt.S,this.airlineFilters=pt._q,this.progress={isProgress:!1,percent:0,interval:null},this.airlineOptions=[],this.timeFlightOptions=Pe,this.filterFareTypeOptions=[],this.modelAirPlaneOptions=[],this.ticketFilterNumStop=Me,this.optionsTicketType=Ue,this.bookingSystemList=[],this.sortType="min_price",this.displayLimit=15,this.isMobile=matchMedia("(max-width: 768px)").matches,this.amountDiscount=0,this.isLoadingPage=!0,this.dateInPage=new Date,this.timeApiCallList=0,this.apiError=!1,this.searchMinFaresResult=[],this.multiDateBar=[],this.itemWidth=114,this.scrollAmount=3*this.itemWidth,this.listDateSearchMinFares=[],this.minFareChange$=new Bt.x,this.selectedDateBar$=new Bt.x,this.dataPromotion=[],this.isLoadingPromoCode=!1,this.textState="visible",this.widthState="visible",this.filterMapperModeSingle=(F,P,Z,I,M,S,U,b,D,R)=>{this.displayLimit=15;let k=[];const H=P.filter(B=>B.actived).map(B=>B.code.trim());if(null!=H&&H.length?F.forEach(B=>{B.chosenFares.forEach(z=>{var W,mt;H.includes(null===(mt=null===(W=z.fareInfos[0])||void 0===W?void 0:W.cabin)||void 0===mt?void 0:mt.name.toUpperCase().trim())&&(k=[...k,(0,X.yE)(Tt,Object.assign(Object.assign({},B),{fareOptions:[z]}),{excludeExtraneousValues:!0})])})}):k=F,null!=R&&R.length&&null!=k&&k.length&&!(0,gt.isNil)(D)){const{startPoint:B,endPoint:z}=R[D];k=k.filter(W=>W.departure.airport.code===B&&W.arrival.airport.code===z)}const Y=U.filter(B=>B.actived).map(B=>B.code);null!=Y&&Y.length&&(k=k.filter(B=>{const z=B.fareOptions.some(kt=>kt.lccFare),W=B.fareOptions.some(kt=>kt.privateFare),mt=B.fareOptions.some(kt=>kt.ndcFare);return Y.includes("lcc")&&z||Y.includes("privateFare")&&W||Y.includes("ndc")&&mt}));const et=null==S?void 0:S.filter(B=>B.actived);null!=et&&et.length&&(k=null==k?void 0:k.filter(B=>et.some(z=>z.code===B.airline)));const ut=null==Z?void 0:Z.filter(B=>B.actived);if(null!=ut&&ut.length&&(k=null==k?void 0:k.filter(B=>{const z=new Date(B.departure.localTime),W=60*z.getHours()+z.getMinutes();return null==ut?void 0:ut.some(mt=>mt.startTime<=W&&mt.endTime>=W)})),null!=b&&b.length){let B=[];null==b||b.filter(z=>z.actived).forEach(z=>{const W="inland"===z.code?["VN","VJ","QH","BL"]:[z.code];B=[...B,...W]}),null!=B&&B.length&&(k=null==k?void 0:k.filter(z=>B.includes(z.provider)))}const ot=I.filter(B=>B.actived).map(B=>B.code);null!=ot&&ot.length&&(k=null==k?void 0:k.filter(B=>ot.includes(B.segments[0].modelAirplane)));const dt=Object.entries(M).filter(([B,z])=>z).map(([B,z])=>B);return null!=dt&&dt.length&&(k=null==k?void 0:k.filter(B=>"direct"===dt[0]?0===B.numOfStops:"oneRoute"===dt[0]?1===B.numOfStops:B.numOfStops>1)),null!=k&&k.length?k:null},this.sortMapper=(F=[],P)=>{this.displayLimit=15;const Z=[...F],M={min_price:(b,D)=>b.totalPrice-D.totalPrice,max_price:(b,D)=>D.totalPrice-b.totalPrice,min_flight:(b,D)=>b.duration-D.duration,max_flight:(b,D)=>D.duration-b.duration,earliest_departure:(b,D)=>new Date(b.departure.localTime).getTime()-new Date(D.departure.localTime).getTime(),late_departure:(b,D)=>new Date(D.departure.localTime).getTime()-new Date(b.departure.localTime).getTime(),earliest_arrival:(b,D)=>new Date(b.arrival.localTime).getTime()-new Date(D.arrival.localTime).getTime(),late_arrival:(b,D)=>new Date(D.arrival.localTime).getTime()-new Date(b.arrival.localTime).getTime()}[P];M&&Z.sort(M);const{available:S,unavailable:U}=(Z||[]).reduce((b,D)=>{var R;return null!==(R=D.fareCur)&&void 0!==R&&R.seatRemain?b.available.push(D):b.unavailable.push(D),b},{available:[],unavailable:[]});return null!=S&&S.length||null!=U&&U.length?[...S,...U]:null},this.sortComboMapper=(F=[],P)=>{this.displayLimit=15;const Z=[...F],M={min_price:(b,D)=>b.totalPrice-D.totalPrice,max_price:(b,D)=>D.totalPrice-b.totalPrice,best_choice:(b,D)=>b.score-D.score,min_flight:(b,D)=>b.departJourneys[0].duration+b.arriveJourneys[0].duration-(D.departJourneys[0].duration+D.arriveJourneys[0].duration),max_flight:(b,D)=>D.departJourneys[0].duration+D.arriveJourneys[0].duration-(b.departJourneys[0].duration+b.arriveJourneys[0].duration),earliest_departure:(b,D)=>b.departJourneys[0].departure.scheduleTime-D.departJourneys[0].departure.scheduleTime,late_departure:(b,D)=>D.departJourneys[0].departure.scheduleTime-b.departJourneys[0].departure.scheduleTime,earliest_arrival:(b,D)=>b.arriveJourneys[0].departure.scheduleTime-D.arriveJourneys[0].departure.scheduleTime,late_arrival:(b,D)=>D.arriveJourneys[0].departure.scheduleTime-b.arriveJourneys[0].departure.scheduleTime}[P];M&&Z.sort(M);const{available:S,unavailable:U}=(Z||[]).reduce((b,D)=>{var R,k;return null!==(R=D.departJourneys[0].fareCur)&&void 0!==R&&R.seatRemain&&null!==(k=D.arriveJourneys[0].fareCur)&&void 0!==k&&k.seatRemain?b.available.push(D):b.unavailable.push(D),b},{available:[],unavailable:[]});return null!=S&&S.length||null!=U&&U.length?[...S,...U]:null},this.filterMapperModeCombo=(F,P,Z,I,M)=>{this.displayLimit=15;let S=F;const U=null==P?void 0:P.filter(k=>k.actived);null!=U&&U.length&&(S=null==S?void 0:S.filter(k=>U.some(H=>H.code===k.departJourneys[0].airline)));const b=null==M?void 0:M.filter(k=>k.actived).map(k=>k.code);null!=b&&b.length&&(S=null==S?void 0:S.filter(k=>{const H=k.departJourneys[0].isLccFare,Y=k.departJourneys[0].privateFare,et=k.departJourneys[0].isNdcFare;return b.includes("lcc")&&H||b.includes("privateFare")&&Y||b.includes("ndc")&&et}));const D=Object.entries(Z).filter(([k,H])=>H).map(([k,H])=>k);null!=D&&D.length&&(S=null==S?void 0:S.filter(k=>"direct"===D[0]?0===k.departJourneys[0].numOfStops:"oneRoute"===D[0]?1===k.departJourneys[0].numOfStops:k.departJourneys[0].numOfStops>1));let R=[];return null==I||I.filter(k=>k.actived).forEach(k=>{const H="inland"===k.code?["VN","VJ","QH","BL"]:[k.code];R=[...R,...H]}),null!=R&&R.length&&(S=null==S?void 0:S.filter(k=>R.includes(k.provider))),null!=S&&S.length?S:null},this.checkTicketSelectedMobile=(F,P)=>F.some(Z=>{var I;return(null===(I=Z.ticketData)||void 0===I?void 0:I.key)===P.key}),this.bypassSecurityTrustHtml=F=>this.sanitizer.bypassSecurityTrustHtml(F),this.previousScrollLeft=0,this._cfIconRegister.registerIcons([_.n78,_.bHT,_.D5L,_.TM4,_.gll,_.TOh,_.KYu,_.tLH,_.IIV,_._hx,_.YwC,_.esH,_.rJw,_.toh,_.wvd,_.tLH]),window.addEventListener("message",F=>{var P,Z,I,M,S,U,b,D,R,k;const H=F.data.queryStringParent;if(H&&(null!==(P=this.searchData)&&void 0!==P&&P.journey.some(Y=>!(null!=Y&&Y.endPoint||Y.startPoint))||null!==(Z=this.searchDataRaw)&&void 0!==Z&&Z.journey.some(Y=>!(null!=Y&&Y.endPoint||Y.startPoint)))){const Y=new URLSearchParams(H),et=Object.fromEntries(Y.entries());this.initDataCpnByQueryParams(et)}if(F.data&&"sendUtmParams"===F.data.action){const Y=null===(I=F.data)||void 0===I?void 0:I.utmParams;this._helperStorageSvc.btcCampaignData={utmParams:Y},this._eventLogService.captureGMBRSearchClick(Object.assign({search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(M=this.searchData.journey[0])||void 0===M?void 0:M.startPoint,end_point:null===(S=this.searchData.journey[0])||void 0===S?void 0:S.endPoint,chain_point:`${null===(U=this.searchData.journey[0])||void 0===U?void 0:U.startPoint}-${null===(b=this.searchData.journey[0])||void 0===b?void 0:b.endPoint}`,departure_date:null!==(D=this.searchData.journey)&&void 0!==D&&D.length&&null!==(R=this.searchData.journey[0])&&void 0!==R&&R.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",num_adt:this.searchData.adultCount,num_chd:this.searchData.childCount,num_inf:this.searchData.infantCount,device_type:this.isMobile?"MOBILE":"DESKTOP",promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null},null===(k=this._helperStorageSvc.btcCampaignData)||void 0===k?void 0:k.utmParams))}})}ngAfterViewInit(){var e,n;setTimeout(()=>{var o;this.searchData.journey[0].startPoint||null===(o=this.searchFlightEl)||void 0===o||o.focusFirstStartPoint()},2e3),null===(n=null===(e=this.scrollContainer)||void 0===e?void 0:e.nativeElement)||void 0===n||n.addEventListener("scroll",()=>{const o=this.scrollContainer.nativeElement;o.scrollTop+o.clientHeight>=o.scrollHeight-1800&&(this.displayLimit+=15)})}ngOnInit(){var e,n;this.initDataCpnByQueryParams({}),(!(null===(e=this.searchData)||void 0===e)&&e.journey.some(o=>!(null!=o&&o.endPoint||o.startPoint))||!(null===(n=this.searchDataRaw)||void 0===n)&&n.journey.some(o=>!(null!=o&&o.endPoint||o.startPoint)))&&window.parent.postMessage("searchRecovered","*"),this.initPromoCode(),setTimeout(()=>{this.textState="hidden",setTimeout(()=>{this.widthState="hidden"},300)},3e3)}initPromoCode(){this.isLoadingPromoCode=!0,this.getSuggestPromoCodeSearchSvc.getList().subscribe({next:e=>{e.data&&e.data.length>0&&(this.dataPromotion=e.data,this._helperStorageSvc.promoBookData=e.data.filter(n=>"BOOK"===n.type))},complete:()=>{this.isLoadingPromoCode=!1}})}initDataCpnByQueryParams(e){var n,o,r,c,l;this.searchData=this._helperSvc.progressQueryToRawData(e),this.ticketCur=(0,X.yE)(je,this._helperResultSvc.initTicketCur(+e.t),{excludeExtraneousValues:!0}),this._helperStorageSvc.btcResultData={search:this.searchData,sessionSearchKey:"",ticketCur:this.ticketCur,dataBooking:null},this.journeyFormArr||this.initForm(),this.searchData&&(this.searchDataRaw=(0,gt.cloneDeep)(this.searchData),this.initDataSearch(this.searchDataRaw)),this.initMinFareOption(),this.initDateSearchMinFare(this.journeyFormArr.controls[0].value.departDate),this.generateRangeDateBar(),this.searchMinFareDataBtcProvider.searchMinFareDataBtc&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc.length>0&&(this.searchMinFaresResult=this.searchMinFareDataBtcProvider.searchMinFareDataBtc||[],this.searchMinFaresResult.forEach(p=>{p.data instanceof Map||(p.data=new Map(Object.entries(p.data)))}),this.mappingMinFares(0)),this.searchMinFaresApi(this.listDateSearchMinFares),e&&this._eventLogService.searchInPaged(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(n=this.searchData.journey[0])||void 0===n?void 0:n.startPoint,end_point:null===(o=this.searchData.journey[0])||void 0===o?void 0:o.endPoint,departure_date:null!==(r=this.searchData.journey)&&void 0!==r&&r.length&&null!==(c=this.searchData.journey[0])&&void 0!==c&&c.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",is_null:(0,gt.isEmpty)(e),promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null},null===(l=this._helperStorageSvc.btcCampaignData)||void 0===l?void 0:l.utmParams))}initForm(){this.journeyFormArr=this._fb.array([]),this._helperSvc.addJourney({startPoint:null,endPoint:null,departDate:null},this.journeyFormArr,"ONE_WAY")}initDataSearch(e){var n,o;this._helperSvc.progressJourneyByType(this.journeyFormArr,this.searchData.type,e.journey),this.isAirLineInternational=null!==(n=this.journeyFormArr.controls)&&void 0!==n&&n.length?this.progressInternationalFlight(this.journeyFormArr.controls[0].value):this.progressInternationalFlight({startPoint:null,endPoint:null,departDate:null});const r=e.journey;null!=r&&r.length?(this.progressCabinQuery(this.searchData.journey[0].cabin),this.progressPaxTypeQuery(this.searchData.journey[0].paxType)):(this.progressCabinQuery(null),this.progressPaxTypeQuery(null)),null!==(o=null==e?void 0:e.journey)&&void 0!==o&&o.some(c=>c.startPoint&&c.endPoint)&&this.initSearchResultList(e)}progressInternationalFlight(e){var n;let o=!1;if((e.startPoint||e.endPoint)&&(o=!!e.startPoint&&this._locationDataService.checkAirportInternational(e.startPoint)||!!e.endPoint&&this._locationDataService.checkAirportInternational(e.endPoint),!o)){this.cabinList=[...this._helperSvc.resetCabinList(this.cabinList)];const r=this.cabinList.find(l=>l.actived);r&&this.cabinChange(r),this.paxTypeList=[...this._helperSvc.resetPaxTypeList(this.paxTypeList)];const c=this.paxTypeList.find(l=>l.actived);c&&this.paxTypeChange(c)}return this.airlineFilters=[...this._helperSvc.progressAirlineFileByInternational(this.airlineFilters,o,null!==(n=this.searchData.journey)&&void 0!==n&&n.length?this.searchData.journey[0].airline:null)],this.searchData.journey.map(r=>r.airline=this.airlineFilters.filter(c=>c.actived).map(c=>c.value).join(",")),this.initFilterBeforeSearchByInternational(o),o}initFilterBeforeSearchByInternational(e){this.optionsTicketType=e?Ue:[],this.bookingSystemList=e?Ro:[]}progressCabinQuery(e){this.cabinList=[...this.cabinList.map(n=>Object.assign(Object.assign({},n),{actived:e?n.value===e:n.actived}))]}progressPaxTypeQuery(e){this.paxTypeList=[...this.paxTypeList.map(n=>Object.assign(Object.assign({},n),{actived:e?e===n.value:n.actived}))]}initSearchResultList(e=this.searchDataRaw){this.startProgressBar();let n=(new Date).getTime();this.dataRaw=null,this.listTicketDisplay=[],this.listTicketComboDisplay=[];const o=["VN","FLY_ONE","GDS","BSP","AIR_1G"],r=["VJ","QH","VU"],c=e.journey[0].airline?e.journey[0].airline.split(","):[],l=Object.assign(Object.assign({},e),{journeys:e.journey.map(p=>Object.assign(Object.assign({},p),{providers:c.length?c:[...o,...r].join(",")}))});(function G1(i,a,e){return(0,V1.P)(()=>i()?a:e)})(()=>!this.searchData.promotionCode,this.getSuggestPromoCodeSearchSvc.get(l),(0,de.of)(null)).pipe((0,lt.w)(p=>{var d,g,y;console.log(p);let x=Object.assign({},e);if(p&&null!==(g=null===(d=p.data)||void 0===d?void 0:d.listPromo)&&void 0!==g&&g.length){const E=null===(y=p.data)||void 0===y?void 0:y.listPromo[0];this.searchDataRaw.promotionCode=E,this.searchData=Object.assign(Object.assign({},this.searchData),{promotionCode:E}),x=Object.assign(Object.assign({},e),{promotionCode:E})}const C=this.createApiCall(x,c,o),f=this.createApiCall(x,c,r);return(0,ti.D)([C,f]).pipe((0,K1.x)(()=>{this.progress.percent=100,setTimeout(()=>{this.progress.isProgress=!1,this._cdr.detectChanges()},1e3)}))})).subscribe({next:p=>{console.log("success data")},error:p=>{console.log("error",p),this.apiError=!0},complete:()=>{this.timeApiCallList||(this.timeApiCallList=(new Date).getTime()-n),this.isLoadingPage&&(this.isLoadingPage=!1),this._cdr.detectChanges()}})}createApiCall(e,n,o){const r=null!=n&&n.length?n.filter(l=>o.includes(l)):o,c=Object.assign(Object.assign({},e),{journey:e.journey.map(l=>Object.assign(Object.assign({},l),{airline:r.join(",")}))});return null!=r&&r.length?this._searchBtcSvc.searchFlight(this._helperResultSvc.convertSearchInputToRequest(c)).pipe((0,$1.b)(l=>{this.handleApiResponse(l,e.typeOfList),e.isDirectFlight&&(this.ticketFilterNumStop=Object.assign(Object.assign({},this.ticketFilterNumStop),{direct:!0}))})):(0,de.of)(null)}handleApiResponse(e,n){var o,r,c,l;if(this.dataRaw=null!==(o=this.dataRaw)&&void 0!==o&&o.data?Object.assign(Object.assign({},this.dataRaw),{data:Object.assign(Object.assign({},this.dataRaw.data),e.data)}):e,!(null===(r=e.data)||void 0===r)&&r.sessionSearchKey&&(this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{sessionSearchKey:e.data.sessionSearchKey})),n===$.YI.Single){const p=(0,gt.flatMap)(null===(c=null==e?void 0:e.data)||void 0===c?void 0:c.flightOptions,d=>d.journeys);this.listTicketDisplay=[...this.listTicketDisplay,...p]}else if(n===$.YI.Combo){let p=[];((null===(l=e.data)||void 0===l?void 0:l.flightOptions)||[]).map(d=>d.comboInfo).forEach(d=>{var g;null===(g=d.departJourneys)||void 0===g||g.forEach(y=>{var x;null===(x=d.arriveJourneys)||void 0===x||x.forEach(C=>{p.push(Object.assign(Object.assign({},d),{departJourneys:[y],arriveJourneys:[C]}))})})}),this.listTicketComboDisplay=[...this.listTicketComboDisplay,...p.map(d=>(0,X.yE)(se,d,{excludeExtraneousValues:!0}))],this.loadTabDataCombo(this.listTicketComboDisplay)}this.onResetFilter(),this.progressAmountDiscount(),this._cdr.detectChanges()}loadTabDataCombo(e){const n=e.find(c=>c.fastest),o=e.find(c=>c.cheapest),r=e.find(c=>c.bestChoice);this.tabComboDetail={best:{price:r?r.totalPrice:0,durationStr:r?r.durationStr:""},cheapest:{price:o?o.totalPrice:0,durationStr:o?o.durationStr:""},fastest:{price:n?n.totalPrice:0,durationStr:n?n.durationStr:""}}}uniqueAirlines(e){const n=new Map;null==e||e.forEach(o=>{var r;!n.has(o.airline)&&null!==(r=o.fareCur)&&void 0!==r&&r.seatRemain&&n.set(o.airline,{code:o.airline,name:o.airlineName,actived:!1})}),this.airlineOptions=Array.from(n.values())}startProgressBar(){this.progress.isProgress=!0,this.progress.percent=1,this.progress.interval=setInterval(()=>{if(this.progress.percent<99){const e=25*Math.random();this.progress.percent+=e,this.progress.percent>100&&(this.progress.percent=99)}else clearInterval(this.progress.interval);this._cdr.detectChanges()},1500)}flightTypeChange(e){switch(e){case $.VB.OneWay:this._helperSvc.updateJourneyByType(this.journeyFormArr,"ONE_WAY");break;case $.VB.RoundTrip:this._helperSvc.updateJourneyByType(this.journeyFormArr,"ROUND_TRIP");break;case $.VB.MultiWay:this._helperSvc.updateJourneyByType(this.journeyFormArr,"MULTI_WAY")}const{cabin:n,paxType:o,airline:r}=this.searchData.journey[0];this.searchData=Object.assign(Object.assign({},this.searchData),{type:e,journey:this._helperSvc.progressJourneyFormArr(this.journeyFormArr.value,e,{cabin:n,paxType:o,airline:r})})}numberOfPassengerChange({adult:e,child:n,infant:o}){this.searchData=Object.assign(Object.assign({},this.searchData),{adultCount:e,childCount:n,infantCount:o})}airlineFilterChange(e){this.airlineFilters.forEach(n=>n.actived=!1),this.airlineFilters.filter(n=>e.includes(n.value)).forEach(n=>n.actived=!0),this.searchData.journey.map(n=>n.airline=e.join(","))}searchInputChange(){this.isAirLineInternational=this.progressInternationalFlight(this.journeyFormArr.controls[0].value)}onDateTypeChange(e){console.log("date type change",e)}removeRoute(e){console.log("remove route",e)}researchFlight(){if(this.journeyFormArr.markAllAsTouched(),this.isLoadingPage=!0,this.journeyFormArr.invalid)return;this.displayLimit=15,this.bottomSheetRef&&this.bottomSheetRef.dismiss();const{type:e,journey:n,adultCount:o,childCount:r,infantCount:c,promotion:l,promotionCode:p}=this.searchData,{cabin:d,paxType:g,airline:y}=n[0],x=this._helperSvc.progressJourneyFormArr(this.journeyFormArr.value,e,{cabin:d,paxType:g,airline:y});this.searchData=Object.assign(Object.assign({},this.searchData),{type:x.length>1?2===x.length?$.VB.RoundTrip:$.VB.MultiWay:$.VB.OneWay,journey:x}),this.ticketCur=this._helperResultSvc.initTicketCur(e),this._helperStorageSvc.btcResultData={search:this.searchData,sessionSearchKey:"",ticketCur:this.ticketCur,dataBooking:null},this.dataRaw=null,this.listTicketDisplay=[];const C=this._helperSvc.removeEmptyFields(this._helperSvc.compactInputData({adult:o,child:r,infant:c,isDirectFlight:!1,promotion:l,promotionCode:p,type:e+"",journey:x,agentPromotion:null})),f="DEV"===this.appConfig.env?`/search-dev.html?${(0,Xt.B)(C)}`:`/search.html?${(0,Xt.B)(C)}`;window.parent.postMessage({action:"redirect",url:f},"*")}cabinChange({value:e}){this.searchData.journey.map(n=>n.cabin=e),this.cabinList=[...this.cabinList.map(n=>Object.assign(Object.assign({},n),{actived:n.value===e}))]}paxTypeChange({value:e}){this.paxTypeList=[...this.paxTypeList.map(n=>Object.assign(Object.assign({},n),{actived:!!e&&n.value===e}))],this.searchData.journey.map(n=>n.paxType=e)}searchAndJourneyToTicketSelect(e,n,o){const r=this._helperResultSvc.progressPriceList(e,[o]),c=n.ticketSelected.map((p,d)=>d===n.idxTicketSelected?Object.assign(Object.assign({},p),{ticketPriceList:r,ticketData:o,priceTotalByPassenger:this._helperResultSvc.sumPriceTicket(r)}):p),l=c.findIndex(p=>!p.ticketData);return Object.assign(Object.assign({},n),{ticketSelected:c,idxTicketSelected:l>=0?l:0,totalPrice:c.reduce((p,d)=>p+d.priceTotalByPassenger,0)})}chooseTicketCombo(e){[e.departJourneys[0],e.arriveJourneys[0]].forEach(n=>{this.chooseTicket(n)})}chooseTicket(e,n){if(this.ticketCur=(0,X.yE)(je,this.searchAndJourneyToTicketSelect(this.searchDataRaw,this.ticketCur,e),{excludeExtraneousValues:!0}),console.log(this.ticketCur),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount(),this.ticketCur.ticketSelected.some(r=>!r.ticketData))return console.log(n),void setTimeout(()=>{n&&n.scrollIntoView({behavior:"smooth",block:"center"}),console.log("scroll")});const o=this.ticketCur.ticketSelected.map(r=>{var c,l,p;return{airline:null===(c=r.ticketData)||void 0===c?void 0:c.airline,priceTotal:r.priceTotalByPassenger-(r.ticketPriceList?null===(l=r.ticketPriceList)||void 0===l?void 0:l.reduce((d,g)=>d+((null==g?void 0:g.discountAmount)*(null==g?void 0:g.quantity)||0),0):0),priceList:null===(p=r.ticketPriceList)||void 0===p?void 0:p.map(d=>({code:d.code,type:d.type,net_price:d.baseFare+d.surCharge-d.beService,services_fee:d.beService,discount_amount:d.discountAmount,total_price:d.totalFare-d.discountAmount*d.quantity,quantity:d.quantity}))}});if(this.isMobile){const r=this._bottomSheetService.open(Qe,{headerTitle:"X\xe1c nh\u1eadn chuy\u1ebfn bay \u0111\xe3 ch\u1ecdn",rightButtonIcon:"close",containerFullHeigh:!0,rightButtonIconClass:"text-neutral-gray-4",data:{ticketCur:this.ticketCur,dataSearch:this.searchDataRaw}});r.containerInstance._rightButtonClick.subscribe(c=>{r.dismiss(),this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount(),n&&n.scrollIntoView({behavior:"smooth",block:"start"})}),r.afterDismissed().subscribe({next:c=>{var l,p,d,g,y,x,C,f;if(c){this.router.navigate(["/pax-info"]),window.parent.postMessage({action:"addQuery",query:"pax-info"},"*");const T=((new Date).getTime()-this.dateInPage.getTime())/1e3,N=Math.round(T);this._eventLogService.paxInfor(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(l=this.searchData.journey[0])||void 0===l?void 0:l.startPoint,end_point:null===(p=this.searchData.journey[0])||void 0===p?void 0:p.endPoint,departure_date:null!==(d=this.searchData.journey)&&void 0!==d&&d.length&&null!==(g=this.searchData.journey[0])&&void 0!==g&&g.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(w=>w.ticketData&&"IVS"===w.ticketData.provider)?1:0,timeInPage:T,roundedTimeInPage:N,lengthDataRaw:null===(C=null===(x=null===(y=this.dataRaw)||void 0===y?void 0:y.data)||void 0===x?void 0:x.flightOptions)||void 0===C?void 0:C.length,timeOut:(new Date).getTime(),timeIn:this.dateInPage.getTime(),timeApiCallList:Math.round(this.timeApiCallList),apiError:this.apiError,promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null,priceLog:o,price:this.ticketCur.ticketSelected.map(w=>{var O;const G=null===(O=w.ticketPriceList)||void 0===O?void 0:O.find(h=>"ADT"===h.code);return G?G.totalFare-G.discountAmount:0})},null===(f=this._helperStorageSvc.btcCampaignData)||void 0===f?void 0:f.utmParams))}else this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}})}else this._modal.open(Qe,{ticketCur:this.ticketCur,dataSearch:this.searchDataRaw}).afterClosed$.subscribe({next:c=>{var l,p,d,g,y,x,C,f;if(c.data){this.router.navigate(["/pax-info"]),window.parent.postMessage({action:"addQuery",query:"pax-info"},"*");const T=((new Date).getTime()-this.dateInPage.getTime())/1e3,N=Math.round(T);this._eventLogService.paxInfor(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(l=this.searchData.journey[0])||void 0===l?void 0:l.startPoint,end_point:null===(p=this.searchData.journey[0])||void 0===p?void 0:p.endPoint,departure_date:null!==(d=this.searchData.journey)&&void 0!==d&&d.length&&null!==(g=this.searchData.journey[0])&&void 0!==g&&g.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(w=>w.ticketData&&"IVS"===w.ticketData.provider)?1:0,timeInPage:T,roundedTimeInPage:N,lengthDataRaw:null===(C=null===(x=null===(y=this.dataRaw)||void 0===y?void 0:y.data)||void 0===x?void 0:x.flightOptions)||void 0===C?void 0:C.length,timeOut:(new Date).getTime(),timeIn:this.dateInPage.getTime(),timeApiCallList:Math.round(this.timeApiCallList),apiError:this.apiError,priceLog:o,promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null,price:this.ticketCur.ticketSelected.map(w=>{var O;const G=null===(O=w.ticketPriceList)||void 0===O?void 0:O.find(h=>"ADT"===h.code);return G?G.totalFare-G.discountAmount:0})},null===(f=this._helperStorageSvc.btcCampaignData)||void 0===f?void 0:f.utmParams))}else this.ticketCur=this._helperResultSvc.initTicketCur(this.searchDataRaw.type),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}})}onChangeSearch(e,n){this.isMobile?this.openSearchInputBottomSheet(n):e.focusFirstStartPoint()}onResetFilter(){var e;const n=this.searchData.typeOfList===$.YI.Single;this.viewConfig=n?Uo:Jo,this.filterFareTypeOptions=n?this._helperResultSvc.initFareClassFilters(this.listTicketDisplay):[],this.modelAirPlaneOptions=n?this._helperResultSvc.initModelAirPlanceOptions(this.listTicketDisplay):[],this.uniqueAirlines(this.searchData.typeOfList===$.YI.Single?this.listTicketDisplay:null===(e=this.listTicketComboDisplay)||void 0===e?void 0:e.map(o=>o.departJourneys[0])),this.optionsTicketType=this.optionsTicketType.length?this.optionsTicketType.map(o=>Object.assign(Object.assign({},o),{actived:!1})):[],this.ticketFilterNumStop=Me,this.timeFlightOptions=n?Pe:[],this.bookingSystemList=this.bookingSystemList.length?this.bookingSystemList.map(o=>Object.assign(Object.assign({},o),{actived:!1})):[]}showDetail(e){this._modal.open(At,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}ticketTrackByFn(e,n){return n.key}idxTicketSelectedChange(e){this.ticketCur=Object.assign(Object.assign({},this.ticketCur),{idxTicketSelected:e}),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount()}openSearchInputBottomSheet(e){this.bottomSheetRef=this._bottomSheetService.open(e,{headerTitle:"T\xecm ki\u1ebfm",leftButtonIcon:"close",rightButtonIcon:"",leftButtonIconClass:"text-neutral-gray-4",containerFullHeigh:!0}),this.bottomSheetRef.containerInstance._leftButtonClick.subscribe(n=>this.bottomSheetRef.dismiss())}reselectTicket(e,n){const o=this.ticketCur.ticketSelected.map((r,c)=>c===e?{ticketData:null,ticketPriceList:null,priceTotalByPassenger:0}:r);this.ticketCur=Object.assign(Object.assign({},this.ticketCur),{ticketSelected:o,idxTicketSelected:e,totalPrice:o.reduce((r,c)=>r+c.priceTotalByPassenger,0)}),this._helperStorageSvc.btcResultData=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData),{ticketCur:this.ticketCur}),this.progressAmountDiscount(),n&&n.scrollIntoView({behavior:"smooth",block:"start"})}onScroll(e){if(e.target){const n=e.target;n.scrollHeight-n.scrollTop-n.clientHeight<864&&(this.displayLimit+=15)}}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(n=>n.ticketData).map(n=>n.ticketData);this.amountDiscount=this._helperResultSvc.progressPriceList(this.searchData,e).filter(n=>n.discountAmount).reduce((n,o)=>n+o.discountAmount*o.quantity,0)}handleBeforeUnload(e){var n,o,r,c,l,p,d,g,y,x,C;console.log("beforeunload");let f=2;f=Object.keys(this.route.snapshot.queryParams).length>0?null!==(r=null===(o=null===(n=this.dataRaw)||void 0===n?void 0:n.data)||void 0===o?void 0:o.flightOptions)&&void 0!==r&&r.length?1:0:2;const N=((new Date).getTime()-this.dateInPage.getTime())/1e3,w=Math.round(N);this._eventLogService.searchChurn(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(c=this.searchData.journey[0])||void 0===c?void 0:c.startPoint,end_point:null===(l=this.searchData.journey[0])||void 0===l?void 0:l.endPoint,departure_date:null!==(p=this.searchData.journey)&&void 0!==p&&p.length&&null!==(d=this.searchData.journey[0])&&void 0!==d&&d.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(O=>O.ticketData&&"IVS"===O.ticketData.provider)?1:0,result:f,timeInPage:N,roundedTimeInPage:w,lengthDataRaw:null===(x=null===(y=null===(g=this.dataRaw)||void 0===g?void 0:g.data)||void 0===y?void 0:y.flightOptions)||void 0===x?void 0:x.length,timeOut:(new Date).getTime(),timeIn:this.dateInPage.getTime(),timeApiCallList:Math.round(this.timeApiCallList),apiError:this.apiError,promotions:this.searchData.promotionCode?[{promotion_code:this.searchData.promotionCode,promotion_value:0,promotion_type:0}]:null},null===(C=this._helperStorageSvc.btcCampaignData)||void 0===C?void 0:C.utmParams))}initMinFareOption(){this.minFareOptionConfig={minPrice:new Map,airlineMinPrice:[{airline:J.QK.VJ,airlineName:"Vietjet Air",color:"#E03C31",selected:!0},{airline:J.QK.VN,airlineName:"Vietnam Airlines",color:"#2E5EAA",selected:!0}],isRangeMinFare:this.searchDataRaw.type===this.btcTypeSearch.RoundTrip,showMinPrice:!0,showLunarDate:!0}}onToggleAirline(e){e&&this.mappingMinFares()}mappingMinFares(e=0){if(this.searchMinFaresCurrentLegResult=this.searchMinFaresResult.find(n=>n.leg===e),this.searchMinFaresCurrentLegResult){this.minFareOptionConfig.minPrice=new Map;const n=this.minFareOptionConfig.airlineMinPrice.filter(o=>o.selected).map(o=>o.airline);this.searchMinFaresCurrentLegResult.data.forEach((o,r)=>{const c=o.filter(d=>n.includes(d.key)),l=c.length?c.reduce((d,g)=>g.value<d.value?g:d):null,p=l?this.minFareOptionConfig.airlineMinPrice.find(d=>d.airline===l.key):null;this.minFareOptionConfig.minPrice.set(r,l?{price:Math.ceil(l.value/1e3),originPrice:(null==l?void 0:l.value)||0,airline:(null==p?void 0:p.airline)||l.key,airlineName:(null==p?void 0:p.airlineName)||l.key,color:(null==p?void 0:p.color)||""}:null)}),this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig)}this.mappingMinFareMultiDateBar()}mappingMinFareMultiDateBar(){if(this.searchMinFaresCurrentLegResult){let e=Object.assign(Object.assign({},this.minFareOptionConfig),{minPrice:new Map});const n=this.airlineFilters.filter(r=>r.actived).map(r=>r.value),o=this.minFareOptionConfig.airlineMinPrice.filter(r=>n.includes(r.airline)).map(r=>r.airline);this.searchMinFaresCurrentLegResult.data.forEach((r,c)=>{const l=r.filter(g=>o.includes(g.key)),p=l.length?l.reduce((g,y)=>y.value<g.value?y:g):null,d=p?this.minFareOptionConfig.airlineMinPrice.find(g=>g.airline===p.key):null;e.minPrice.set(c,p?{price:Math.ceil(p.value/1e3),originPrice:(null==p?void 0:p.value)||0,airline:(null==d?void 0:d.airline)||p.key,airlineName:(null==d?void 0:d.airlineName)||p.key,color:(null==d?void 0:d.color)||""}:null)}),this.multiDateBar&&this.multiDateBar.length&&this.multiDateBar.forEach(r=>{if(e.minPrice.has(r.key)){const c=e.minPrice.get(r.key);r.price=(null==c?void 0:c.originPrice)||0}})}}onPreviousDate(){this.addScrollElement("PREVIOUS"),this.mappingMinFareMultiBar();const e=document.querySelector("#mutli-date-bar");e&&e.scrollBy({left:-this.scrollAmount,behavior:"smooth"})}addScrollElement(e){let n;if(n=this.isMobile?document.querySelector("#mutli-date-bar-mobile"):document.querySelector("#mutli-date-bar"),"NEXT"===e){const o=null==n?void 0:n.scrollLeft,r=null==n?void 0:n.scrollWidth,c=null==n?void 0:n.clientWidth;o&&r&&c&&o+c>=r-6*this.itemWidth&&this.addDateBar()}"PREVIOUS"===e&&n&&n.scrollLeft<=6*this.itemWidth&&this.subtractDateBar()}mappingMinFareMultiBar(){let e=new Map;this.searchMinFareDataBtcProvider&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0]&&(e=new Map(Object.entries(this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0].data))),e&&this.multiDateBar.forEach(n=>{if(e.has(n.key)){const o=e.get(n.key);if(o){const r=o.length?o.reduce((c,l)=>l.value<c.value?l:c):null;n.price=r.value}}})}onScrollMultiDateBar(e){const o=e.target.scrollLeft;o>=this.previousScrollLeft?(this.addScrollElement("NEXT"),this.mappingMinFareMultiBar()):o<this.previousScrollLeft&&(this.addScrollElement("PREVIOUS"),this.mappingMinFareMultiBar()),this.previousScrollLeft=o}onSelectDateBar(e,n,o){this.journeyFormArr.controls.forEach((r,c)=>{c?1===c&&o&&r.patchValue({returnDate:o}):r.patchValue({departDate:n})}),this.researchFlight()}onNextDate(){this.addScrollElement("NEXT"),this.mappingMinFareMultiBar();const e=document.querySelector("#mutli-date-bar");e&&e.scrollBy({left:this.scrollAmount,behavior:"smooth"})}addDateBar(e){const n=this.multiDateBar[this.multiDateBar.length-1].fromDate,o=this.multiDateBar[this.multiDateBar.length-1].toDate;let r=12;if(e){const c=new Date(e).getTime()-new Date(n).getTime();c>0&&(r+=Math.ceil(Math.abs(c)/864e5))}for(let c=1;c<=r;c++){const l=q(n).add(c,"days").toDate(),p=(0,ft.$j)(l);this.multiDateBar.push({key:q(n).add(c,"days").format("YYYY-MM-DD"),fromDate:l,toDate:o?q(o).add(c,"days").toDate():null,price:0,airlineMinPrice:"",active:!0,selected:!1,dayInfo:{holiday:p.holiday,lunarDate:`ng\xe0y ${p.lunarDate.date}/${p.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:p.dateFormat}})}}subtractDateBar(e){const n=this.multiDateBar[0].fromDate,o=this.multiDateBar[0].toDate;let r=12;if(e){const c=new Date(n).getTime()-new Date(e).getTime();c>0&&(r+=Math.ceil(Math.abs(c)/864e5))}for(let c=1;c<=r;c++){const l=q(n).subtract(c,"days").toDate(),p=(0,ft.$j)(l),d={key:q(n).subtract(c,"days").format("YYYY-MM-DD"),fromDate:l,toDate:o?q(o).subtract(c,"days").toDate():null,price:0,airlineMinPrice:"",active:!0,selected:!1,dayInfo:{holiday:p.holiday,lunarDate:`ng\xe0y ${p.lunarDate.date}/${p.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:p.dateFormat}};if(d.key<q(new Date).format("YYYY-MM-DD"))break;this.multiDateBar.unshift(Object.assign(Object.assign({},d),{active:d.key>=q(new Date).format("YYYY-MM-DD")}))}}updateDateSearchMinFare(e){var n;"AIRPORT"===e&&(this.minFareOptionConfig.minPrice=new Map,this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig),this.listDateSearchMinFares=[]);let r=[],c=new Date;if(c=null===(n=this.journeyFormArr.value[0])||void 0===n?void 0:n.departDate,!c&&!this.minFareOptionConfig.minPrice.size&&(this.initDateSearchMinFare(),r=this.listDateSearchMinFares),c){const l=q(new Date(c.getFullYear(),c.getMonth())).format("YYYY-MM-DD");((l,p)=>{const d=l.getFullYear(),g=p.getFullYear(),y=l.getMonth();return 12*(g-d)+(p.getMonth()-y)})(new Date,c)>2?r.push(l):this.generateRangeDateSearchMinFare(l).forEach(d=>{this.listDateSearchMinFares.includes(d)||r.push(d)})}r&&r.length&&this.searchMinFaresApi(r)}initDateSearchMinFare(e=new Date){this.listDateSearchMinFares=[];const n=q(e).format("YYYY-MM-DD"),o=q(e).add(1,"month").startOf("month").format("YYYY-MM-DD");this.listDateSearchMinFares.push(n),this.listDateSearchMinFares.push(o)}generateRangeDateSearchMinFare(e,n=""){const o=q(n||new Date),r=q(e),c=[];c.push(o.format("YYYY-MM-DD"));const l=o.clone().add(1,"month").startOf("month");for(;l.isBefore(r)||l.isSame(r,"month");)c.push(l.format("YYYY-MM-DD")),l.add(1,"month");return c}searchMinFaresApi(e){const n=this.journeyFormArr.at(0).value;if(n.startPoint&&n.endPoint){let o=[];this.searchDataRaw.type===this.btcTypeSearch.OneWay&&(o=e.map(r=>({departDate:q(new Date(r)).format("YYYY-MM-DD"),endPoint:n.endPoint,leg:0,providers:`${J.QK.VJ},${J.QK.VN},${J.QK.VU},${J.QK.QH}`,startPoint:n.startPoint}))),this.searchDataRaw.type===this.btcTypeSearch.RoundTrip&&(o=e.map(r=>({departDate:q(new Date(r)).format("YYYY-MM-DD"),endPoint:n.endPoint,leg:0,providers:`${J.QK.VJ},${J.QK.VN},${J.QK.VU},${J.QK.QH}`,startPoint:n.startPoint})),o.push(...e.map(r=>({departDate:q(new Date(r)).format("YYYY-MM-DD"),endPoint:n.startPoint,leg:1,providers:`${J.QK.VJ},${J.QK.VN},${J.QK.VU},${J.QK.QH}`,startPoint:n.endPoint})))),this._searchBtcSvc.searchMinFares(o).subscribe({next:r=>{"OK"===r.status&&(r.data.length?(r.data.forEach(c=>{const l=this.searchMinFaresResult.find(p=>p.leg===c.leg);l?Object.entries(c.data).forEach(p=>{l.data.set(p[0],p[1])}):this.searchMinFaresResult.push(Object.assign(Object.assign({},c),{data:new Map(Object.entries(c.data))}))}),this.searchMinFareDataBtcProvider.searchMinFareDataBtc=this.searchMinFaresResult,this.mappingMinFares(o[0].leg),this.scrollDate((0,Q.Z)(new Date(this.journeyFormArr.controls[0].value.departDate),"yyyy-MM-dd"))):this.minFareOptionConfig=Object.assign({},this.minFareOptionConfig),this.minFareChange$.next(this.minFareOptionConfig))}})}}onNavigateDatepicker(e){let n=[];n.push(e);const o=q(e).subtract(1,"month");o.month()===(new Date).getMonth()?n.push(q(new Date).format("YYYY-MM-DD")):n.push(o.format("YYYY-MM-DD")),n=n.filter(r=>!this.listDateSearchMinFares.includes(r)),n.forEach(r=>{this.listDateSearchMinFares.includes(r)||(this.listDateSearchMinFares.push(r),this.searchMinFaresApi([r]))})}generateRangeDateBar(){var e;let n;if(this.multiDateBar=[],this.searchMinFareDataBtcProvider.searchMinFareDataBtc&&this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0]&&(n=new Map(Object.entries(this.searchMinFareDataBtcProvider.searchMinFareDataBtc[0].data))),this.searchDataRaw.type===this.btcTypeSearch.OneWay){const o=this.searchDataRaw.journey[0].departDate||new Date;this.getDaysInMonth(new Date(o)).forEach(c=>{const l=q(c).format("YYYY-MM-DD"),p=l===q(o).format("YYYY-MM-DD"),d=l>=q(new Date).format("YYYY-MM-DD"),g=(0,ft.$j)(c);if(n&&n.has(l)){const y=n.get(l),x=y.length?y.reduce((C,f)=>f.value<C.value?f:C):null;this.multiDateBar.push(x?{key:q(c).format("YYYY-MM-DD"),fromDate:c,toDate:null,price:(null==x?void 0:x.value)||0,airlineMinPrice:(null==x?void 0:x.key)||"",active:d,selected:p,dayInfo:{holiday:g.holiday,lunarDate:`ng\xe0y ${g.lunarDate.date}/${g.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:g.dateFormat}}:{key:q(c).format("YYYY-MM-DD"),fromDate:c,toDate:null,price:0,airlineMinPrice:"",active:d,selected:p,dayInfo:{holiday:g.holiday,lunarDate:`ng\xe0y ${g.lunarDate.date}/${g.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:g.dateFormat}})}else this.multiDateBar.push({key:q(c).format("YYYY-MM-DD"),fromDate:c,toDate:null,price:0,airlineMinPrice:"",active:d,selected:p,dayInfo:{holiday:g.holiday,lunarDate:`ng\xe0y ${g.lunarDate.date}/${g.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:g.dateFormat}})})}else{const o=this.searchDataRaw.journey[0].departDate||new Date,r=null===(e=this.searchDataRaw.journey[1])||void 0===e?void 0:e.departDate,c=q(o),p=q(r).diff(c,"days");this.getDaysInMonth(new Date(o)).forEach(g=>{const y=q(g).format("YYYY-MM-DD"),x=y===q(o).format("YYYY-MM-DD"),C=y>=q(new Date).format("YYYY-MM-DD"),f=(0,ft.$j)(g);if(n&&n.has(y)){const E=n.get(y),T=E.length?E.reduce((N,w)=>w.value<N.value?w:N):null;this.multiDateBar.push(T?{key:q(g).format("YYYY-MM-DD"),fromDate:g,toDate:q(g).add(p,"days").toDate(),price:null==T?void 0:T.value,airlineMinPrice:(null==T?void 0:T.key)||"",active:C,selected:x,dayInfo:{holiday:f.holiday,lunarDate:`ng\xe0y ${f.lunarDate.date}/${f.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:f.dateFormat}}:{key:q(g).format("YYYY-MM-DD"),fromDate:g,toDate:q(g).add(p,"days").toDate(),price:0,airlineMinPrice:"",active:C,selected:x,dayInfo:{holiday:f.holiday,lunarDate:`ng\xe0y ${f.lunarDate.date}/${f.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:f.dateFormat}})}else this.multiDateBar.push({key:q(g).format("YYYY-MM-DD"),fromDate:g,toDate:q(g).add(p,"days").toDate(),price:0,airlineMinPrice:"",active:C,selected:x,dayInfo:{holiday:f.holiday,lunarDate:`ng\xe0y ${f.lunarDate.date}/${f.lunarDate.month} \xe2m l\u1ecbch`,dateFormat:f.dateFormat}})})}}getDaysInMonth(e){const n=e.getFullYear(),o=e.getMonth(),r=q(new Date(n,o,1)).subtract(6,"days").toDate(),c=q(new Date(n,o+2,0)).add(6,"days").toDate();let l=[];for(let p=r;p<=c;p.setDate(p.getDate()+1))p>=new Date&&l.push(new Date(p));return l}scrollDate(e){let n;n=this.isMobile?document.getElementById(e+"-mobile"):document.getElementById(e),n&&n.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}onDatePickerClick(){if(this.isMobile){const e=this._bottomSheetService.open(Ia,{headerTitle:"T\xf9y ch\u1ec9nh th\u1eddi gian",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:"",containerFullHeigh:!0,data:{formArray:this.journeyFormArr,minFareOptionConfig:this.minFareOptionConfig}});e.containerInstance._leftButtonClick.subscribe(n=>e.dismiss()),e.afterDismissed().subscribe({next:n=>{n&&this.researchFlight()}})}}showDetailPromo(){if(this.isMobile){const e=this._bottomSheetService.open(Ve,{headerTitle:"M\xe3 gi\u1ea3m gi\xe1",rightButtonIcon:"close",containerFullHeigh:!0,rightButtonIconClass:"text-neutral-gray-4",data:{dataPromotion:this.dataPromotion}});e.containerInstance._rightButtonClick.subscribe(n=>e.dismiss())}else this.drawerService.open(Ve,{data:{dataPromotion:this.dataPromotion},headerTitle:"M\xe3 gi\u1ea3m gi\xe1",subHeaderTitle:"\xc1p d\u1ee5ng m\xe3 gi\u1ea3m gi\xe1 \u0111\u1ec3 t\u1eadn h\u01b0\u1edfng nhi\u1ec1u \u01b0u \u0111\xe3i cho chuy\u1ebfn bay.",hasHeader:!0,maxWidth:"auto",hasBackdrop:!0,disableClose:!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Nt.J),t.Y36(Ct),t.Y36(A.qu),t.Y36(rt._),t.Y36(t.sBO),t.Y36(st.oE),t.Y36(_.KNP),t.Y36(X1),t.Y36(vt.F0),t.Y36(vt.gz),t.Y36(yt.L),t.Y36(V.a2),t.Y36(Qt.x),t.Y36(m.lw),t.Y36(re.x),t.Y36(tp),t.Y36(np),t.Y36(J.qB),t.Y36(pe.H7),t.Y36(Mo))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-list"]],viewQuery:function(e,n){if(1&e&&(t.Gf(op,5),t.Gf(ap,5),t.Gf(rp,5)),2&e){let o;t.iGM(o=t.CRH())&&(n.scrollContainer=o.first),t.iGM(o=t.CRH())&&(n.searchFlightEl=o.first),t.iGM(o=t.CRH())&&(n.searchInputBottomSheet=o.first)}},hostBindings:function(e,n){1&e&&t.NdJ("beforeunload",function(r){return n.handleBeforeUnload(r)},!1,t.Jf7)},standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[["class","notranslate  w-full items-stretch justify-start bg-neutral-gray-1 h-screen overflow-auto","cdkScrollable","",3,"scroll",4,"ngIf"],["searchInputBottomSheet",""],["emptyTicketTpl",""],["cdkScrollable","",1,"notranslate","w-full","items-stretch","justify-start","bg-neutral-gray-1","h-screen","overflow-auto",3,"scroll"],["class","flex w-full h-full items-stretch justify-start flex-col gap-8 md:hidden",4,"ngIf"],["class","hidden md:flex h-[100vh] !h-[100svh] flex-col w-full relative overflow-hidden",4,"ngIf"],[1,"flex","w-full","h-full","items-stretch","justify-start","flex-col","gap-8","md:hidden"],[1,"px-4","w-full","max-w-[1366px]","mx-auto","flex","flex-col","gap-8"],[1,"bg-neutral-white","rounded-lg","flex-1","w-full","shadow-cf-md","md:p-4","relative","max-w-[1695px]","mx-auto"],[1,"flex","items-center","justify-between","mb-5","px-6","pt-6"],[1,"md:w-full"],[3,"flightType","typeSearchChange"],[1,"flex","items-center","justify-end","gap-x-4","md:hidden"],[3,"adultNumber","childNumber","infantNumber","numberOfPassengerChange"],[3,"airlineList","airlineFilterChange"],[3,"isShowTooltipFirstTime","promotionCode","promotionCodeChange"],[3,"cabinList","actived","cabinChange"],[3,"paxTypeList","actived","paxTypeChange"],[1,"mb-[20px]","md:mb-4","flex","gap-x-2","w-full","px-6"],[1,"flex-1",3,"formArray","type","removeRoute","dataChange","dateTypeChange","navigateDatepicker"],["searchFlightEl",""],["cf-button","","size","medium","type","secondary",1,"w-[168px]","!py-[7px]","!h-auto","!max-h-14",3,"disabled","click"],["icon","search","size","small",1,"mr-2.5"],[1,"whitespace-nowrap"],["class","w-full border-t border-t-neutral-gray-1",4,"ngIf"],["class","h-1 w-full absolute left-0 right-0 bottom-0",4,"ngIf"],[1,"flex","gap-4","justify-between","relative","pb-6","w-full","max-w-[1366px]","mx-auto"],[1,"w-[192px]","min-w-[192px]","ml-auto","min-h-[700px]"],[1,"w-full",3,"viewConfig","airlineOptions","ticketFilterNumStop","timeFlightOptions","filterFareTypeOptions","modelAirPlaneOptions","optionsTicketType","bookingSystemList","viewConfigChange","airlineOptionsChange","ticketFilterNumStopChange","timeFlightOptionsChange","filterFareTypeOptionsChange","modelAirPlaneOptionsChange","optionsTicketTypeChange","bookingSystemListChange"],[1,"flex-1","flex","flex-col","gap-6","mx-auto"],["class","flex gap-6",4,"ngIf"],[3,"sortType","tabComboDetail","sortTypeChange",4,"ngIf"],[4,"ngIf"],["class","flex flex-col gap-4",4,"ngIf"],[1,"w-[280px]","mr-auto","rounded-xl"],[1,"w-[280px]","flex-shrink-0","rounded-xl","h-fit","md:hidden","sticky","top-2"],[1,"bg-neutral-white","rounded-xl","shadow-lg"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail","reselectClick"],[1,"flex","justify-between","items-center","py-3","px-4","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[1,"mt-5","flex","flex-col","gap-3"],[4,"ngFor","ngForOf"],[1,"w-full","border-t","border-t-neutral-gray-1"],[1,"flex","items-center"],[1,"p-4","cursor-pointer",3,"click"],["size","medium","icon","chevron_left"],["id","mutli-date-bar",1,"flex","items-center","overflow-auto","no-scrollbar",3,"scroll"],["size","medium","icon","chevron_right"],[1,"group","py-2","cursor-pointer",3,"ngClass","id","cfTooltip","placement","click"],[1,"h-10","border-l","border-l-neutral-gray-2","flex","flex-col","items-center","justify-center","min-w-[114px]","py-4"],[1,"text-body-md-short",3,"ngClass"],[1,"text-body-sm","text-neutral-gray-4",3,"ngClass"],["dateBarTemplate",""],[1,"h-1","w-full","absolute","left-0","right-0","bottom-0"],[1,"h-1","bg-primary-1-4","transition-all","ease-out","duration-1000","rounded-b-full"],[1,"flex","gap-6"],["class","flex-1 rounded-2xl h-fit flex bg-white divide-solid divide-x divide-neutral-gray-1 ",4,"ngIf"],[1,"h-fit",3,"sortType","ngClass","sortTypeChange"],[1,"flex-1","rounded-2xl","h-fit","flex","bg-white","divide-solid","divide-x","divide-neutral-gray-1"],["class"," flex flex-col  py-4 px-6 relative cursor-pointer",3,"click",4,"ngFor","ngForOf"],[1,"flex","flex-col","py-4","px-6","relative","cursor-pointer",3,"click"],[1,"font-semibold","text-body-lg"],["class","text-body-md text-neutral-gray-4",4,"ngIf"],[1,"absolute","bottom-0","left-4","right-4","h-1","bg-red-4",3,"ngClass"],[1,"text-body-md","text-neutral-gray-4"],[3,"sortType","tabComboDetail","sortTypeChange"],[4,"ngIf","ngIfElse"],[1,"flex","flex-col","gap-4"],["class","flex flex-col gap-4",4,"ngIf","ngIfElse"],[4,"ngFor","ngForOf","ngForTrackBy"],[3,"ticket","searchData","viewConfig","selectTicket"],[3,"ticket","searchData","viewConfig","chooseTicketCombo"],["class","border shadow-lg  border-yellow-3 bg-white flex justify-between items-center gap-3 rounded-xl p-[10px] cursor-pointer",3,"click",4,"ngIf"],[1,"border","shadow-lg","border-yellow-3","bg-white","flex","justify-between","items-center","gap-3","rounded-xl","p-[10px]","cursor-pointer",3,"click"],[1,"flex","gap-2","items-center"],[1,"relative","-rotate-45"],["width","53","height","53","viewBox","0 0 53 53","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.5 0L32.3299 4.74252L39.75 3.55033L42.4276 10.5724L49.4497 13.25L48.2575 20.6701L53 26.5L48.2575 32.3299L49.4497 39.75L42.4276 42.4276L39.75 49.4497L32.3299 48.2575L26.5 53L20.6701 48.2575L13.25 49.4497L10.5724 42.4276L3.55033 39.75L4.74252 32.3299L0 26.5L4.74252 20.6701L3.55033 13.25L10.5724 10.5724L13.25 3.55033L20.6701 4.74252L26.5 0Z","fill","#FFD255"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-express-md","font-semibold","text-[#0B2888]"],[1,"flex","flex-col","justify-between"],[1,"text-body-sm","font-medium","overflow-hidden","whitespace-nowrap","w-40","flex"],[1,"inline-block","truncate","w-full","!font-[roboto]",3,"innerHTML"],[1,"text-heading-sm"],[1,"text-neutral-gray-5","text-body-sm"],[1,"hidden","md:flex","h-[100vh]","!h-[100svh]","flex-col","w-full","relative","overflow-hidden"],[1,"bg-white","w-full","flex","flex-col"],[1,"shadow-lg","py-3","px-4","flex","flex-col","w-full","gap-2"],[1,"flex-shrink-0",3,"searchData","searchDataChange","openSearchInputBottomSheet"],[1,"flex","gap-2"],[1,"h-fit",3,"sortType","sortTypeChange"],[1,"w-full",3,"viewConfig","airlineOptions","ticketFilterNumStop","timeFlightOptions","filterFareTypeOptions","modelAirPlaneOptions","optionsTicketType","viewConfigChange","airlineOptionsChange","ticketFilterNumStopChange","timeFlightOptionsChange","filterFareTypeOptionsChange","modelAirPlaneOptionsChange","optionsTicketTypeChange","resetFilter"],[1,"flex-1","overflow-y-auto"],["scrollContainer",""],["bodyScrollEl",""],["class","w-full border-t border-t-neutral-gray-1 mb-4 overflow-hidden bg-neutral-white hidden md:flex",4,"ngIf"],[1,"px-4","w-full"],["class","flex-1 rounded-md h-fit mb-3 flex bg-white divide-solid divide-x divide-neutral-gray-1 ",4,"ngIf"],[1,"absolute","top-1/2","-translate-y-1/2","right-0","flex","justify-center","items-center","z-10"],[1,"flex","items-center","justify-center","py-2","px-3","w-fit","bg-yellow-3","rounded-l-full","text-white","shadow-md","cursor-pointer",3,"click"],[1,"flex","flex-col","items-center","justify-center"],["icon","coupon","size","medium"],[1,"text-heading-xs","font-medium","px-1"],["class","mb-3  px-4",4,"ngFor","ngForOf"],["class","flex flex-col gap-4 w-full  px-4 mb-4",4,"ngIf"],["class","flex flex-col gap-4  px-4 mb-4 min-h-[400px]",4,"ngIf"],["class","flex flex-col gap-4 mb-4",4,"ngIf"],[1,"w-full","border-t","border-t-neutral-gray-1","mb-4","overflow-hidden","bg-neutral-white","hidden","md:flex"],[1,"flex","items-center","overflow-auto"],["id","mutli-date-bar-mobile",1,"flex","items-center","overflow-auto","no-scrollbar",3,"scroll"],[1,"p-4","cursor-pointer","flex","justify-center","items-center","shadow-cf-lg",3,"click"],["size","medium","icon","calendar"],[1,"group","py-1","cursor-pointer",3,"ngClass","id","click"],[1,"flex-1","rounded-md","h-fit","mb-3","flex","bg-white","divide-solid","divide-x","divide-neutral-gray-1"],["class"," flex flex-col flex-1  py-[6px] relative cursor-pointer items-center bg-white text-gray-6",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-1","py-[6px]","relative","cursor-pointer","items-center","bg-white","text-gray-6",3,"ngClass","click"],[1,"font-bold","text-body-lg"],[1,"mb-3","px-4"],[3,"ticket","searchData","ticketSelectedMobile","viewConfig","selectTicket","reselectClick",4,"ngIf"],[3,"ticket","searchData","ticketSelectedMobile","viewConfig","selectTicket","reselectClick"],[1,"flex","flex-col","gap-4","w-full","px-4","mb-4"],[1,"flex","flex-col","gap-4","px-4","mb-4","min-h-[400px]"],[3,"ticket","searchData","viewConfig","selectTicket","reselectClick",4,"ngIf"],[3,"ticket","searchData","viewConfig","selectTicket","reselectClick"],[1,"flex","flex-col","gap-4","mb-4"],[1,"bg-neutral-white","rounded-lg","w-full","shadow-cf-md","p-4","flex","flex-col","gap-4"],[1,"w-full",3,"formArray","type","removeRoute","dataChange","dateTypeChange"],[1,"gap-2","flex","overflow-x-auto","flex-wrap"],["cf-button","","size","medium","color","primary-1","type","solid",1,"md:w-full","md:justify-center",3,"click"],["class","empty flex items-center text-center mt-20 flex-col",4,"ngIf","ngIfElse"],["emptyByFilterTpl",""],[1,"empty","flex","items-center","text-center","mt-20","flex-col"],["src","assets/images/empty_result.png","alt","empty",1,"w-[160px]","h-160px","object-contain"],["emptySearchTpl",""],[1,"text-heading-md","mt-[30px]"],[1,"text-body-md","mt-2"],["cf-button","","size","medium",1,"w-[200px]","mt-6","justify-center","bg-white",3,"type","click"],["icon","search","size","small",1,"mr-2"],[1,"empty","flex","items-center","mt-20","text-center","flex-col"],[1,"text-body-md","mt-2","text-center"],["cf-button","","color","primary-1","size","medium",1,"w-[200px]","mt-6","justify-center",3,"type","click"]],template:function(e,n){1&e&&(t.YNc(0,ad,3,2,"div",0),t.YNc(1,rd,14,13,"ng-template",null,1,t.W1O),t.YNc(3,dd,1,1,"ng-template",null,2,t.W1O)),2&e&&t.Q6J("ngIf",n.searchData)},dependencies:[m.ez,m.mk,m.sg,m.O5,m.OU,m.JJ,m.uU,J1.T,L1.l,R1.x,j1.W,Q1.w,Y1.d,H1._,j.N8,j.Xq,_.AxE,_.Sm8,A.UX,nt.AS,tt.q,Ra,br,fs,jt,bs,ht,h1,Z1,U1,Pt.Lk,ee.s,te.Q,Zo.PQ,Oe],styles:["[_nghost-%COMP%]{display:block}"],data:{animation:[(0,K.X$)("listAnimation",[(0,K.eR)("* <=> *",[(0,K.IO)(":enter",[(0,K.oB)({opacity:0,transform:"translateY(20px)"}),(0,K.EY)("100ms",(0,K.jt)("300ms ease-out",(0,K.oB)({opacity:1,transform:"translateY(0px)"})))],{optional:!0})])]),(0,K.X$)("textFadeOut",[(0,K.SB)("visible",(0,K.oB)({opacity:1,height:"*",marginTop:"*"})),(0,K.SB)("hidden",(0,K.oB)({opacity:0,height:"0px",marginTop:"0px"})),(0,K.eR)("visible => hidden",(0,K.jt)("300ms ease-out"))]),(0,K.X$)("widthFadeOut",[(0,K.SB)("visible",(0,K.oB)({width:"130px"})),(0,K.SB)("hidden",(0,K.oB)({width:"60px"})),(0,K.eR)("visible => hidden",(0,K.jt)("600ms ease-out"))])]}}),i})();var gd=v(74713);function md(i){return!0===i.value?null:{checkboxRequired:!0}}var fd=v(90900),Ft=v(80953),Jt=v(40833);function ri(i,a){(0,Jt.Z)(2,arguments);var e=(0,Ft.Z)(i),n=(0,Ft.Z)(a),o=e.getTime()-n.getTime();return o<0?-1:o>0?1:o}var xd=v(35650),ci=v(91998);function li(i,a){(0,Jt.Z)(2,arguments);var e=(0,ci.Z)(a);return(0,xd.Z)(i,-e)}var yd=v(43201);function zt(i,a){(0,Jt.Z)(2,arguments);var e=(0,ci.Z)(a);return(0,yd.Z)(i,-e)}function si(i,a){return e=>{if(!e.value)return null;if(!function Cd(i){return/^(0[1-9]|[12][0-9]|3[01])\/(0[1-9]|1[0-2])\/\d{4}$/.test(i)}(e.value))return{invalidDate:!0};const n=e.value.split("/"),o=new Date(`${n[2]}-${n[1]}-${n[0]}`);if(!(0,fd.Z)(o))return{invalidDate:!0};const r=function vd(i,a){(0,Jt.Z)(2,arguments);var e=(0,Ft.Z)(i),n=(0,Ft.Z)(a),o=ri(e,n),r=Math.abs(function hd(i,a){(0,Jt.Z)(2,arguments);var e=(0,Ft.Z)(i),n=(0,Ft.Z)(a);return e.getFullYear()-n.getFullYear()}(e,n));e.setFullYear(1584),n.setFullYear(1584);var c=ri(e,n)===-o,l=o*(r-Number(c));return 0===l?0:l}(a,o),c="adult"===i?[li(zt(a,12),1)]:"child"===i?[zt(a,12),li(zt(a,2),1)]:[zt(a,2)];switch(i){case"adult":if(r<12)return{ageInvalid:{message:`Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y ${(0,Q.Z)(c[0],"dd/MM/yyyy")} tr\u1edf v\u1ec1 tr\u01b0\u1edbc`,requiredAge:"> 12",currentAge:r}};break;case"child":if(r<2||r>=12)return{ageInvalid:{message:`Ng\xe0y sinh ph\u1ea3i t\u1eeb ng\xe0y ${(0,Q.Z)(c[0],"dd/MM/yyyy")} \u0111\u1ebfn ng\xe0y ${(0,Q.Z)(c[1],"dd/MM/yyyy")}`,requiredAge:"2-12",currentAge:r}};break;case"infant":if(r>=2)return{ageInvalid:{message:`Ng\xe0y sinh ph\u1ea3i sau ng\xe0y ${(0,Q.Z)(c[0],"dd/MM/yyyy")}`,requiredAge:"< 2",currentAge:r}}}return null}}var Td=v(31163);const bd=["inputTextElement"];function kd(i,a){if(1&i&&(t.TgZ(0,"div",20)(1,"div",21),t.GkF(2,8),t.qZA()()),2&i){t.oxw();const e=t.MAs(27);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function Ed(i,a){1&i&&(t.TgZ(0,"div")(1,"div"),t._uU(2,"\u2022\xa0\xa0Trong \u0111\xf3:"),t.qZA(),t.TgZ(3,"div",27)(4,"span",22),t._uU(5,"\u2022\xa0\xa0Gi\u1edbi t\xednh "),t.qZA(),t._uU(6,"(kh\xf4ng b\u1eaft bu\u1ed9c):"),t.qZA(),t.TgZ(7,"div",28),t._uU(8,"\u2022\xa0\xa0Nam: c\xf3 th\u1ec3 nh\u1eadp 1 trong nh\u1eefng lo\u1ea1i sau: M, Mr, \xd4ng, b\xe9 trai."),t.qZA(),t.TgZ(9,"div",28),t._uU(10,"\u2022\xa0\xa0N\u1eef: c\xf3 th\u1ec3 nh\u1eadp 1 trong nh\u1eefng lo\u1ea1i sau: F, Mrs, Ms, B\xe0, b\xe9 g\xe1i."),t.qZA(),t.TgZ(11,"div",28),t._uU(12,"\u2022\xa0\xa0N\u1ebfu kh\xf4ng nh\u1eadp th\xec m\u1eb7c \u0111\u1ecbnh l\xe0 gi\u1edbi t\xednh Nam."),t.qZA(),t.TgZ(13,"div",27)(14,"span",22),t._uU(15,"\u2022\xa0\xa0T\xean \u0111\u1ea7y \u0111\u1ee7:"),t.qZA(),t._uU(16," theo d\u1ea1ng h\u1ecd t\xean \u0111\u1ea7y \u0111\u1ee7."),t.qZA(),t.TgZ(17,"div",27)(18,"span",22),t._uU(19,"\u2022\xa0\xa0Ng\xe0y sinh "),t.qZA(),t._uU(20,"(ch\u1ec9 b\u1eaft bu\u1ed9c v\u1edbi tr\u1ebb em v\xe0 em b\xe9): \u0111\u1ecbnh d\u1ea1ng ng\xe0y/th\xe1ng/n\u0103m (dd/mm/yyyy). N\u1ebfu h\xe0nh kh\xe1ch l\xe0 ng\u01b0\u1eddi l\u1edbn th\xec \u0111\u1ec3 tr\u1ed1ng. "),t.qZA()())}function Dd(i,a){1&i&&(t.TgZ(0,"div",13),t._uU(1," Xem th\xeam quy t\u1eafc n\xe2ng cao "),t._UZ(2,"cf-icon",29),t.qZA())}function Ad(i,a){1&i&&(t.TgZ(0,"div",13),t._uU(1," Thu g\u1ecdn quy t\u1eafc n\xe2ng cao "),t._UZ(2,"cf-icon",30),t.qZA())}function Zd(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div")(1,"div"),t._uU(2,"\u2022\xa0\xa0Nh\u1eadp m\u1ed7i h\xe0nh kh\xe1ch m\u1ed9t d\xf2ng theo \u0111\u1ecbnh d\u1ea1ng sau:"),t.qZA(),t.TgZ(3,"div",22),t._uU(4," \u2022\xa0\xa0Ng\u01b0\u1eddi l\u1edbn v\xe0 tr\u1ebb em: <Gi\u1edbi t\xednh> <T\xean \u0111\u1ea7y \u0111\u1ee7> <ng\xe0y sinh> "),t.qZA(),t.TgZ(5,"div",23),t._uU(6,"\u2022\xa0\xa0V\xed d\u1ee5: M Nguy\u1ec5n V\u0103n Trung 15/03/1992"),t.qZA(),t.TgZ(7,"div",22),t._uU(8," \u2022\xa0\xa0Em b\xe9: <Gi\u1edbi t\xednh> <T\xean \u0111\u1ea7y \u0111\u1ee7> <ng\xe0y sinh> <T\xean \u0111\u1ea7y \u0111\u1ee7 c\u1ee7a ng\u01b0\u1eddi l\u1edbn> "),t.qZA(),t.TgZ(9,"div",23),t._uU(10,"\u2022\xa0\xa0V\xed d\u1ee5: F Nguy\u1ec5n Th\u1ecb Lan 11/12/2022 Nguy\u1ec5n V\u0103n Trung"),t.qZA(),t.TgZ(11,"div",23),t._uU(12," \u2022\xa0\xa0Trong tr\u01b0\u1eddng h\u1ee3p kh\xf4ng nh\u1eadp t\xean ng\u01b0\u1eddi l\u1edbn t\u01b0\u01a1ng \u1ee9ng th\xec s\u1ebd l\u1ea5y ng\u01b0\u1eddi l\u1edbn \u0111\u1ea7u ti\xean l\xe0m \u0111\u1ea1i di\u1ec7n. "),t.qZA(),t.YNc(13,Ed,21,0,"div",24),t.TgZ(14,"div",25),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.onShowMore())}),t.YNc(15,Dd,3,0,"div",26),t.YNc(16,Ad,3,0,"div",26),t.qZA()()}if(2&i){const e=t.oxw();t.xp6(13),t.Q6J("ngIf",e.isShowMore),t.xp6(2),t.Q6J("ngIf",!e.isShowMore),t.xp6(1),t.Q6J("ngIf",e.isShowMore)}}let Bd=(()=>{class i{constructor(e,n,o,r,c,l,p,d,g){this._fb=n,this.cfIconRegister=o,this.quickParsePassenger=r,this._bottomSheetService=c,this.ref=l,this.bottomSheetData=p,this.bottomSheetRef=d,this._modal=g,this.passengersRaws=[],this.isShowMore=!1,this.submitted=!1,l&&(this.passengerText=l.data.passengerText,this.departureTime=l.data.departureTime),p&&(this.passengerText=p.passengerText,this.departureTime=p.departureTime,this.isShowMore=!0),this.cfIconRegister.registerIcons([_.UNF,_.gW0,_.fqi,_.n78])}ngAfterViewInit(){const e=document.getElementById("inputTextElement");null==e||e.focus()}close(){this.ref&&this.ref.close(!1),this.bottomSheetData&&this.bottomSheetRef.dismiss(!1)}ok(){this.submitted=!0,this.change(),this.ref&&this.ref.close({passengers:this.passengers,text:this.passengerText,passengerInputRows:this.passengersRaws.length}),this.bottomSheetData&&this.bottomSheetRef.dismiss({passengers:this.passengers,text:this.passengerText,passengerInputRows:this.passengersRaws.length})}onShowRuleMobile(e){const n=this._bottomSheetService.open(e,{containerFullHeigh:!0,headerTitle:"Quy t\u1eafc nh\u1eadp nhanh",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",rightButtonIcon:""});n.containerInstance._leftButtonClick.subscribe(o=>n.dismiss())}change(){this.passengersRaws=this.passengerText.split("\n"),this.passengers=this.passengersRaws.filter(e=>""!=e).map(e=>this.quickParsePassenger.analyzePassengerFromString(e,this.departureTime))}onShowMore(){this.isShowMore=!this.isShowMore}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(m.K0),t.Y36(A.qu),t.Y36(_.KNP),t.Y36(Td.mj),t.Y36(V.a2),t.Y36(st.gb,8),t.Y36(V.Rr,8),t.Y36(V.Zu,8),t.Y36(st.oE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-parse-pas-info"]],viewQuery:function(e,n){if(1&e&&t.Gf(bd,5),2&e){let o;t.iGM(o=t.CRH())&&(n.inputTextElement=o.first)}},standalone:!0,features:[t.jDz],decls:28,vars:2,consts:[[1,"w-[772px]","h-[600px]","overflow-hidden","flex","flex-col","rounded-lg","bg-neutral-white","md:w-screen","md:h-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]","md:max-h-none"],[1,"flex","justify-between","items-center","px-6","py-4","border-b","border-b-neutral-gray-1","md:border-none"],[1,"text-heading-xs","text-neutral-black"],["size","small","icon","close",1,"text-neutral-gray-4","cursor-pointer","md:hidden",3,"click"],[1,"flex-auto","flex","flex-col","py-4","px-6","overflow-auto","md:p-0","md:w-full"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","rounded","flex","gap-x-2.5","md:hidden"],["icon","info","size","medium",1,"text-functional-1-3"],[3,"ngTemplateOutlet"],[1,"mt-4","md:m-0","md:px-4"],[1,"!w-full"],["rows","7","cf-input","","size","medium","placeholder","Nh\u1eadp th\xf4ng tin...","id","inputTextElement",3,"ngModel","ngModelChange","input"],[1,"cursor-pointer","text-body-md","text-secondary-3-4","mt-4","hidden","md:block",3,"click"],[1,"flex","items-center"],["icon","chevron_up","size","small",1,"ml-2","rotate-90"],[1,"flex","justify-end","items-center","gap-x-4","py-4","px-6"],["cf-button","","size","medium","type","secondary",1,"md:w-full","justify-center",3,"click"],["cf-button","","size","medium","type","solid","color","primary-1",1,"md:w-full","justify-center",3,"click"],["mobilerule",""],["rule",""],[1,"p-4"],[1,"py-3","px-4","bg-functional-1-1","text-body-md","flex","gap-x-2.5","h-fit","rounded-lg"],[1,"text-express-md"],[1,"pl-4"],[4,"ngIf"],[1,"cursor-pointer","text-body-md","text-secondary-3-4","mt-2","md:hidden",3,"click"],["class","flex items-center",4,"ngIf"],[1,"pl-6"],[1,"pl-10"],["icon","chevron_down","size","small",1,"ml-2.5"],["icon","chevron_up","size","small",1,"ml-2"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Nh\u1eadp nhanh th\xf4ng tin h\xe0nh kh\xe1ch"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return n.close()}),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6)(8,"div"),t._UZ(9,"cf-icon",7),t.qZA(),t.GkF(10,8),t.qZA(),t.TgZ(11,"div",9)(12,"cf-input-group",10)(13,"textarea",11),t.NdJ("ngModelChange",function(c){return n.passengerText=c})("input",function(){return n.change()}),t._uU(14,"            "),t.qZA()(),t.TgZ(15,"div",12),t.NdJ("click",function(){t.CHM(o);const c=t.MAs(25);return t.KtG(n.onShowRuleMobile(c))}),t.TgZ(16,"div",13),t._uU(17," Xem quy t\u1eafc nh\u1eadp nhanh "),t._UZ(18,"cf-icon",14),t.qZA()()()(),t.TgZ(19,"div",15)(20,"button",16),t.NdJ("click",function(){return n.close()}),t._uU(21," \u0110\xf3ng "),t.qZA(),t.TgZ(22,"button",17),t.NdJ("click",function(){return n.ok()}),t._uU(23," Th\u1ef1c hi\u1ec7n "),t.qZA()()()(),t.YNc(24,kd,3,1,"ng-template",null,18,t.W1O),t.YNc(26,Zd,17,3,"ng-template",null,19,t.W1O)}if(2&e){const o=t.MAs(27);t.xp6(10),t.Q6J("ngTemplateOutlet",o),t.xp6(3),t.Q6J("ngModel",n.passengerText)}},dependencies:[m.ez,m.O5,m.tP,_.AxE,_.Sm8,j.N8,j.Xq,ct.j$,ct.ND,ct.BN,A.u5,A.Fj,A.JJ,A.On,V.DW],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})(),ui=(()=>{class i{constructor(e,n,o){this.ref=e,this.bottomSheetRef=n,this.cfIconRegister=o,o.registerIcons([_.UNF])}onClose(){var e;this.ref&&this.ref.close(),this.bottomSheetRef&&(null===(e=this.bottomSheetRef)||void 0===e||e.dismiss())}ok(){var e;this.ref&&this.ref.close(!0),this.bottomSheetRef&&(null===(e=this.bottomSheetRef)||void 0===e||e.dismiss(!0))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(st.gb,8),t.Y36(V.Zu,8),t.Y36(_.KNP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-agree-term-modal"]],standalone:!0,features:[t.jDz],decls:58,vars:0,consts:[[1,"w-[800px]","h-[600px]","rounded-lg","bg-neutral-white","overflow-hidden","md:w-full"],[1,"w-full","h-full","flex","flex-col","max-h-[600px]"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-sm","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"flex","flex-col","p-6","text-neutral-gray-6","h-full","overflow-auto"],[1,"text-heading-sm","font-bold"],[1,"list-disc","pl-6","text-body-md-short"],[1,"flex","justify-end","items-center","p-6"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[100px]","md:flex-1","justify-center",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._uU(4,"Quy \u0111\u1ecbnh khi mua v\xe9"),t.qZA(),t.TgZ(5,"cf-icon",4),t.NdJ("click",function(){return n.onClose()}),t.qZA()(),t.TgZ(6,"div",5)(7,"div",6),t._uU(8," 1. Quy \u0111\u1ecbnh v\u1ec1 th\xf4ng tin h\xe0nh kh\xe1ch, th\xf4ng tin li\xean h\u1ec7 "),t.qZA(),t.TgZ(9,"ul",7)(10,"li"),t._uU(11," H\xe0nh kh\xe1ch c\xf3 tr\xe1ch nhi\u1ec7m \u0111\u1ea3m b\u1ea3o r\u1eb1ng m\u1ecdi gi\u1ea5y t\u1edd quy \u0111\u1ecbnh cho h\xe0nh tr\xecnh bay \u0111\u1ec1u c\xf2n gi\xe1 tr\u1ecb s\u1eed d\u1ee5ng v\xe0 th\xf4ng tin h\xe0nh kh\xe1ch tr\xf9ng kh\u1edbp v\u1edbi gi\u1ea5y t\u1edd. "),t.qZA(),t.TgZ(12,"li"),t._uU(13," Kh\xe1ch h\xe0ng ph\u1ea3i ch\u1ecbu tr\xe1ch nhi\u1ec7m khi cung c\u1ea5p sai th\xf4ng tin, n\u1ebfu x\u1ea3y ra s\u1ef1 c\u1ed1 do cung c\u1ea5p sai th\xf4ng tin d\u1eabn t\u1edbi kh\xf4ng th\u1ec3 bay ho\u1eb7c kh\xf4ng nh\u1eadn \u0111\u01b0\u1ee3c th\xf4ng b\xe1o thay \u0111\u1ed5i gi\u1edd kh\u1edfi h\xe0nh th\xec GMBR kh\xf4ng ch\u1ecbu tr\xe1ch nhi\u1ec7m "),t.qZA(),t.TgZ(14,"li"),t._uU(15," \u0110\u1ea3m b\u1ea3o cung c\u1ea5p \u0111\xfang th\xf4ng tin li\xean h\u1ec7 c\u1ee7a qu\xfd kh\xe1ch. Ch\xfang t\xf4i s\u1ebd kh\xf4ng th\u1ec3 li\xean h\u1ec7 khi c\xf3 b\u1ea5t k\u1ef3 s\u1ef1 c\u1ed1 n\xe0o x\u1ea3y ra n\u1ebfu s\u1ed1 \u0111i\u1ec7n tho\u1ea1i/email b\u1ecb sai. "),t.qZA(),t.TgZ(16,"li"),t._uU(17," N\u1ebfu h\xe3ng h\xe0ng kh\xf4ng c\xf3 thay \u0111\u1ed5i v\u1ec1 l\u1ecbch tr\xecnh c\u1ee7a chuy\u1ebfn bay, h\xe3ng s\u1ebd th\xf4ng b\xe1o tr\u1ef1c ti\u1ebfp v\u1edbi b\u1ea1n qua th\xf4ng tin li\xean h\u1ec7. "),t.qZA()(),t.TgZ(18,"div",6),t._uU(19," 2. Quy \u0111\u1ecbnh khi ho\xe0n, h\u1ee7y, \u0111\u1ed5i v\xe9 "),t.qZA(),t.TgZ(20,"ul",7)(21,"li"),t._uU(22,"Sau khi \u0111\u1eb7t v\xe9 th\xe0nh c\xf4ng, b\u1ea5t k\u1ef3 thay \u0111\u1ed5i n\xe0o nh\u01b0 \u0111\u1ed5i v\xe9, \u0111\u1ed5i ng\xe0y kh\u1edfi h\xe0nh, h\u1ee7y \u0111\u1eb7t ch\u1ed7... \u0111\u1ec1u ph\u1ea3i tu\xe2n th\u1ee7 theo \u0111i\u1ec1u ki\u1ec7n v\xe0 m\u1ee9c ph\xed ph\xe1t sinh do h\xe3ng h\xe0ng kh\xf4ng quy \u0111\u1ecbnh. T\u1ea5t c\u1ea3 v\xe9 \u0111\u1ec1u kh\xf4ng th\u1ec3 chuy\u1ec3n nh\u01b0\u1ee3ng cho ng\u01b0\u1eddi kh\xe1c."),t.qZA(),t.TgZ(23,"li"),t._uU(24,"B\u1ea5t k\u1ef3 thay \u0111\u1ed5i ho\u1eb7c h\u1ee7y \u0111\u1eb7t ch\u1ed7 n\xe0o c\u1ee7a b\u1ea1n th\xf4ng qua GMBR c\xf3 th\u1ec3 ph\u1ea3i ch\u1ecbu th\xeam ph\xed d\u1ecbch v\u1ee5 c\u1ed9ng th\xeam. L\u01b0u \xfd r\u1eb1ng kho\u1ea3n ph\xed n\xe0y \u0111\u01b0\u1ee3c c\u1ed9ng th\xeam v\xe0o kho\u1ea3n ph\xed do h\xe3ng h\xe0ng kh\xf4ng \xe1p d\u1ee5ng."),t.qZA(),t.TgZ(25,"li"),t._uU(26,"\u0110\u1ed1i v\u1edbi c\xe1c ch\u01b0\u01a1ng tr\xecnh khuy\u1ebfn m\xe3i, ch\xfang t\xf4i c\xf3 th\u1ec3 thu h\u1ed3i khuy\u1ebfn m\xe3i ho\u1eb7c y\xeau c\u1ea7u kh\xe1ch h\xe0ng ph\u1ea3i \u0111\xf3ng b\xf9 ti\u1ec1n n\u1ebfu ph\xe1t hi\u1ec7n kh\xe1ch h\xe0ng c\xf3 h\xe0nh vi gian l\u1eadn."),t.qZA()(),t.TgZ(27,"div",6),t._uU(28," 3. Quy \u0111\u1ecbnh ho\xe0n ti\u1ec1n "),t.qZA(),t._uU(29," C\xe1c tr\u01b0\u1eddng h\u1ee3p sau \u0111\xe2y \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n khi \u0111\u1eb7t v\xe9 tr\xean GMBR: "),t.TgZ(30,"ul",7)(31,"li"),t._uU(32,"H\u1ee7y \u0111\u1eb7t ch\u1ed7: kh\xe1ch h\xe0ng h\u1ee7y \u0111\u1eb7t ch\u1ed7 c\xf3 th\u1ec3 \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n/ho\xe0n b\u1ea3o l\u01b0u theo quy \u0111\u1ecbnh c\u1ee7a h\xe3ng, th\u1eddi gian nh\u1eadn \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n ph\u1ee5 thu\u1ed9c v\xe0o quy tr\xecnh ho\xe0n ti\u1ec1n c\u1ee7a h\xe3ng."),t.qZA(),t.TgZ(33,"li"),t._uU(34,"C\xf3 l\u1ed7i x\u1ea3y tra trong qu\xe1 tr\xecnh h\u1ec7 th\u1ed1ng x\u1eed l\xfd v\xe9: GMBR s\u1ebd ho\xe0n ti\u1ec1n cho kh\xe1ch h\xe0ng khi c\xf3 l\u1ed7i x\u1ea3y ra trong qu\xe1 tr\xecnh xu\u1ea5t v\xe9 v\xe0 kh\xe1ch h\xe0ng kh\xf4ng \u0111\u1ed3ng \xfd \u0111\u1ed5i qua v\xe9 kh\xe1c, t\xf9y v\xe0o h\xecnh th\u1ee9c thanh to\xe1n m\xe0 th\u1eddi gian nh\u1eadn \u0111\u01b0\u1ee3c ho\xe0n ti\u1ec1n kh\xe1c nhau nh\u01b0 sau:"),t.qZA(),t.TgZ(35,"li"),t._uU(36,"Thanh to\xe1n chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng b\u1eb1ng QR code: cam k\u1ebft ho\xe0n ti\u1ec1n trong v\xf2ng 24h l\xe0m vi\u1ec7c"),t.qZA(),t.TgZ(37,"li"),t._uU(38,"Thanh to\xe1n b\u1eb1ng th\u1ebb ATM n\u1ed9i \u0111\u1ecba: ho\xe0n ti\u1ec1n sau 1 \u0111\u1ebfn 3 ng\xe0y l\xe0m vi\u1ec7c"),t.qZA(),t.TgZ(39,"li"),t._uU(40,"Thanh to\xe1n b\u1eb1ng th\u1ebb qu\u1ed1c t\u1ebf: ho\xe0n ti\u1ec1n sau 7 \u0111\u1ebfn 15 ng\xe0y l\xe0m vi\u1ec7c"),t.qZA()(),t.TgZ(41,"div",6),t._uU(42," 4. Quy \u0111\u1ecbnh xu\u1ea5t h\xf3a \u0111\u01a1n: "),t.qZA(),t.TgZ(43,"ul",7)(44,"li"),t._uU(45,"N\u1ebfu kh\xe1ch h\xe0ng c\xf3 nhu c\u1ea7u xu\u1ea5t h\xf3a \u0111\u01a1n, kh\xe1ch h\xe0ng y\xeau c\u1ea7u xu\u1ea5t h\xf3a \u0111\u01a1n trong v\xf2ng 24h k\u1ec3 t\u1eeb khi thanh to\xe1n, kh\xe1ch h\xe0ng g\u1eedi y\xeau c\u1ea7u qua email giacmobayre@gmail.com, GMBR s\u1ebd g\u1eedi h\xf3a \u0111\u01a1n \u0111i\u1ec7n t\u1eed qua email c\u1ee7a kh\xe1ch h\xe0ng trong v\xf2ng 48h l\xe0m vi\u1ec7c"),t.qZA()(),t.TgZ(46,"div",6),t._uU(47," 5. C\xe1c quy \u0111\u1ecbnh kh\xe1c "),t.qZA(),t.TgZ(48,"ul",7)(49,"li"),t._uU(50,"Trong c\xe1c tr\u01b0\u1eddng h\u1ee3p b\u1ea5t kh\u1ea3 kh\xe1ng do \u1ea3nh h\u01b0\u1edfng b\u1edfi thi\xean tai, d\u1ecbch b\u1ec7nh ho\u1eb7c chi\u1ebfn tranh khi\u1ebfn chuy\u1ebfn bay b\u1ecb ho\xe3n h\u1ee7y, GMBR s\u1ebd c\u1ed1 g\u1eafng kh\u1eafc ph\u1ee5c v\xe0 h\u1ed7 tr\u1ee3 kh\xe1ch h\xe0ng t\u1ed1t nh\u1ea5t d\u1ef1a v\xe0o s\u1ef1 h\u1ed7 tr\u1ee3 c\u1ee7a h\xe3ng h\xe0ng kh\xf4ng. "),t.qZA(),t.TgZ(51,"li"),t._uU(52,"Khi kh\xe1ch h\xe0ng thanh to\xe1n qua c\u1ed5ng thanh to\xe1n/ng\xe2n h\xe0ng v\xe0 GMBR ch\u01b0a nh\u1eadn \u0111\u01b0\u1ee3c ti\u1ec1n v\u1ec1 t\xe0i kho\u1ea3n do l\u1ed7i x\u1ea3y ra \u1edf c\u1ed5ng thanh to\xe1n/ng\xe2n h\xe0ng, GMBR kh\xf4ng c\xf3 ngh\u0129a v\u1ee5 ph\u1ea3i xu\u1ea5t v\xe9 cho kh\xe1ch h\xe0ng."),t.qZA(),t.TgZ(53,"li"),t._uU(54,"T\u1ea5t c\u1ea3 h\xe0nh vi c\u1ed1 \xfd gian l\u1eadn nh\u1eb1m l\u1ee3i d\u1ee5ng chi\u1ebfm \u0111o\u1ea1t t\xe0i s\u1ea3n s\u1ebd ph\u1ea3i ch\u1ecbu tr\xe1ch nhi\u1ec7m tr\u01b0\u1edbc ph\xe1p lu\u1eadt."),t.qZA()()(),t.TgZ(55,"div",8)(56,"button",9),t.NdJ("click",function(){return n.ok()}),t._uU(57," T\xf4i \u0111\xe3 hi\u1ec3u "),t.qZA()()()())},dependencies:[m.ez,V.DW,_.AxE,_.Sm8,j.N8,j.Xq],styles:[":host{display:block}\n"],encapsulation:2,changeDetection:0}),i})();var wd=v(3447),Id=v(71884),Sd=v(85522);let Fd=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,L.D)(()=>Nd),(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})(),Nd=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"bookingCodeRandom",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"totalPrice",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"state",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"bookingCode",void 0),i})();const qd={headers:new it.WM({"Content-Type":"application/json"})};let Od=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaService=o}bookFlight(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/booking",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:n})),qd)),(0,at.U)(n=>(0,X.yE)(Fd,n,{excludeExtraneousValues:!0})))}sendErrorDataBook(e,n,o){const r="5855284310:AAH4K4xgJwzCRPJRRqNL7vIVAE01cpzEWIc",c=new FormData;c.append("chat_id","-4083387556"),c.append("document",new Blob([e],{type:"application/json"}),"data.json"),c.append("caption",`C\xf3 l\u1ed7i trong khi mapping d\u1eef li\u1ec7u t\u1eeb ${o}`);const l=[];return l.push(this.http.post(`https://api.telegram.org/bot${r}/sendDocument`,c)),l.push(this.http.post(`https://api.telegram.org/bot${r}/sendMessage`,JSON.stringify({chat_id:"-4083387556",text:`[${o}]\n${n}`}),{headers:new it.WM({"Content-Type":"application/json"})})),(0,ti.D)(l)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Pd=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})();const Md={headers:new it.WM({"Content-Type":"application/json"})};let Ud=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaService=o}addExtraInfoOrder(e){return this._recaptchaService.getRecaptchaToken$().pipe((0,lt.w)(n=>this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/add-extra-info-order",JSON.stringify(Object.assign(Object.assign({},e),{recaptcha:n})),Md)),(0,at.U)(n=>(0,X.yE)(Pd,n,{excludeExtraneousValues:!0})))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Jd=(()=>{class i{}return(0,s.gn)([(0,u.C)()],i.prototype,"traceId",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"status",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"data",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"objectError",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"errorCode",void 0),(0,s.gn)([(0,u.C)()],i.prototype,"success",void 0),i})();const Ld={headers:new it.WM({"Content-Type":"application/json"})};let Rd=(()=>{class i{constructor(e,n,o){this.http=e,this.appConfig=n,this._recaptchaSvc=o}check(e){return this._recaptchaSvc.getRecaptchaToken$().pipe((0,lt.w)(n=>{const o=Object.assign(Object.assign({},e),{recaptcha:n});return this.http.post(this.appConfig.apiB2cUrl+"b2c-ticket/check-valid-promo-code-book",JSON.stringify(o),Ld)}),(0,at.U)(n=>(0,X.yE)(Jd,n,{excludeExtraneousValues:!0})))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(it.eN),t.LFG(J.qB),t.LFG(_t.K))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const jd=["parentSelectInfant"];function Qd(i,a){if(1&i&&(t.TgZ(0,"div",89),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;let n;t.xp6(1),t.AsE(" ","ADT"===(null==(n=e.get("type"))?null:n.value)?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===(null==(n=e.get("type"))?null:n.value)?"Tr\u1ebb em":"Em b\xe9"," ",(null==(n=e.get("indexByType"))?null:n.value)+1," ")}}function Yd(i,a){if(1&i&&(t.TgZ(0,"div",89),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;let n;t.xp6(1),t.hij(" ",(null==(n=e.get("firstName"))||null==n.value?null:n.value.toUpperCase())+" "+(null==(n=e.get("lastName"))||null==n.value?null:n.value.toUpperCase())," ")}}function Hd(i,a){if(1&i&&(t.YNc(0,Qd,2,2,"div",88),t.YNc(1,Yd,2,1,"div",88)),2&i){const e=t.oxw().$implicit;let n,o;t.Q6J("ngIf",!(null!=(n=e.get("firstName"))&&n.valid&&null!=(n=e.get("firstName"))&&n.valid)),t.xp6(1),t.Q6J("ngIf",(null==(o=e.get("firstName"))?null:o.valid)&&(null==(o=e.get("firstName"))?null:o.valid))}}function Vd(i,a){if(1&i&&(t.TgZ(0,"div",105),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;let n;t.xp6(1),t.AsE(" ","ADT"===(null==(n=e.get("type"))?null:n.value)?"Ng\u01b0\u1eddi l\u1edbn":"CHD"===(null==(n=e.get("type"))?null:n.value)?"Tr\u1ebb em":"Em b\xe9"," ",(null==(n=e.get("indexByType"))?null:n.value)+1," ")}}function Gd(i,a){if(1&i&&(t.TgZ(0,"div",105),t._uU(1),t.qZA()),2&i){const e=t.oxw(2).$implicit;let n;t.xp6(1),t.hij(" ",(null==(n=e.get("lastName"))||null==n.value?null:n.value.toUpperCase())+" "+(null==(n=e.get("firstName"))||null==n.value?null:n.value.toUpperCase())," ")}}function Kd(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","H\u1ecd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function $d(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","T\xean \u0111\u1ec7m v\xe0 t\xean kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function zd(i,a){if(1&i&&t._UZ(0,"cf-input-hint",106),2&i){const e=t.oxw(2).$implicit;let n;t.Q6J("hint",null==(n=e.get("birthday"))||null==n.errors||null==n.errors.ageInvalid?null:n.errors.ageInvalid.message)}}function Wd(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Ng\xe0y sinh kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function Xd(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Ng\xe0y sinh ph\u1ea3i theo \u0111\u1ecbnh d\u1ea1ng dd/mm/yyyy. V\xed d\u1ee5: 25/01/1990")}function t_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","M\u1ed7i ng\u01b0\u1eddi l\u1edbn ch\u1ec9 c\xf3 t\u1ed1i \u0111a 1 em b\xe9 ph\u1ee5 thu\u1ed9c")}function e_(i,a){if(1&i&&(t.TgZ(0,"div",55)(1,"cf-select",107,108),t.ALo(3,"mapper"),t.TgZ(4,"label",98),t._uU(5,"Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn"),t.qZA(),t.YNc(6,t_,1,1,"cf-input-hint",23),t.ALo(7,"mapper"),t.qZA()()),2&i){const e=t.oxw(2),n=e.index,o=e.$implicit,r=t.oxw();t.xp6(1),t.Q6J("status",t.gM2(3,5,r.passengers,r.checkErrorDependentPartner,n,o.value)?"error":"default")("data",r.optionsParent)("allowSearch",!1),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",t.gM2(7,10,r.passengers,r.checkErrorDependentPartner,n,o.value))}}function i_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","S\u1ed1 CCCD kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function n_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","S\u1ed1 CCCD t\u1ed1i thi\u1ec3u 9 k\xfd t\u1ef1")}function o_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","S\u1ed1 CCCD t\u1ed1i \u0111a 12 k\xfd t\u1ef1")}function a_(i,a){if(1&i&&(t.TgZ(0,"div")(1,"cf-input-group",28),t._UZ(2,"input",118),t.YNc(3,i_,1,1,"cf-input-hint",23),t.YNc(4,n_,1,1,"cf-input-hint",23),t.YNc(5,o_,1,1,"cf-input-hint",23),t.qZA()()),2&i){const e=t.oxw(3).$implicit;let n,o,r,c;t.xp6(1),t.Q6J("status",null!=(n=e.get("cccdNumber"))&&n.invalid&&(null!=(n=e.get("cccdNumber"))&&n.dirty||null!=(n=e.get("cccdNumber"))&&n.touched)?"error":"default"),t.xp6(2),t.Q6J("ngIf",(null==(o=e.get("cccdNumber"))?null:o.hasError("required"))&&((null==(o=e.get("cccdNumber"))?null:o.touched)||(null==(o=e.get("cccdNumber"))?null:o.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(r=e.get("cccdNumber"))?null:r.hasError("minlength"))&&((null==(r=e.get("cccdNumber"))?null:r.touched)||(null==(r=e.get("cccdNumber"))?null:r.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(c=e.get("cccdNumber"))?null:c.hasError("maxlength"))&&((null==(c=e.get("cccdNumber"))?null:c.touched)||(null==(c=e.get("cccdNumber"))?null:c.dirty)))}}function r_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu t\u1ed1i \u0111a 9 k\xfd t\u1ef1")}function c_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","S\u1ed1 h\u1ed9 chi\u1ebfu kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function l_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Qu\u1ed1c t\u1ecbch kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function s_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Qu\u1ed1c gia kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function u_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Ng\xe0y c\u1ea5p kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function p_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Ng\xe0y c\u1ea5p h\u1ed9 chi\u1ebfu ph\u1ea3i tr\u01b0\u1edbc ng\xe0y h\u1ebft h\u1ea1n")}function d_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Ng\xe0y h\u1ebft h\u1ea1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function __(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",17)(1,"cf-input-group",28)(2,"label",98),t._uU(3," S\u1ed1 h\u1ed9 chi\u1ebfu "),t.qZA(),t._UZ(4,"input",119),t.YNc(5,r_,1,1,"cf-input-hint",23),t.YNc(6,c_,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(7,"cf-select",120)(8,"label",98),t._uU(9," Qu\u1ed1c t\u1ecbch "),t.qZA(),t.YNc(10,l_,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(11,"cf-select",121)(12,"label",98),t._uU(13," Qu\u1ed1c gia c\u1ea5p h\u1ed9 chi\u1ebfu "),t.qZA(),t.YNc(14,s_,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(15,"div")(16,"cf-input-group",28),t._UZ(17,"cf-icon",99),t.TgZ(18,"label",98),t._uU(19," Ng\xe0y c\u1ea5p "),t.qZA(),t.TgZ(20,"input",122,123),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(21);return t.KtG(o.close())})("dateSelect",function(){t.CHM(e);const o=t.MAs(21);return t.KtG(o.close())}),t.qZA(),t.YNc(22,u_,1,1,"cf-input-hint",23),t.YNc(23,p_,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(24,"div")(25,"cf-input-group",28),t._UZ(26,"cf-icon",99),t.TgZ(27,"label",98),t._uU(28," Ng\xe0y h\u1ebft h\u1ea1n "),t.qZA(),t.TgZ(29,"input",124,125),t.NdJ("input",function(){t.CHM(e);const o=t.MAs(30);return t.KtG(o.close())})("dateSelect",function(){t.CHM(e);const o=t.MAs(30);return t.KtG(o.close())}),t.qZA(),t.YNc(31,d_,1,1,"cf-input-hint",23),t.qZA(),t.TgZ(32,"div",126),t._uU(33," C\xf2n h\u1ea1n tr\xean 6 th\xe1ng so v\u1edbi ng\xe0y b\u1eaft \u0111\u1ea7u h\xe0nh tr\xecnh"),t.qZA()()()}if(2&i){const e=t.oxw(3).$implicit,n=t.oxw();let o,r,c,l,p,d,g,y,x,C,f,E;t.xp6(1),t.Q6J("status",null!=(o=e.get("number"))&&o.invalid&&(null!=(o=e.get("number"))&&o.dirty||null!=(o=e.get("number"))&&o.touched)?"error":"default"),t.xp6(1),t.Q6J("CfRequired",n.has1GProvider||n.hasFlyOneProvider),t.xp6(3),t.Q6J("ngIf",(null==(r=e.get("number"))?null:r.hasError("maxlength"))&&((null==(r=e.get("number"))?null:r.touched)||(null==(r=e.get("number"))?null:r.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(c=e.get("number"))?null:c.hasError("required"))&&((null==(c=e.get("number"))?null:c.touched)||(null==(c=e.get("number"))?null:c.dirty))),t.xp6(1),t.Q6J("status",null!=(l=e.get("nationality"))&&l.invalid&&(null!=(l=e.get("nationality"))&&l.dirty||null!=(l=e.get("nationality"))&&l.touched)?"error":"default")("data",n.countryOption)("allowSearch",!0),t.xp6(1),t.Q6J("CfRequired",n.has1GProvider||n.hasFlyOneProvider),t.xp6(2),t.Q6J("ngIf",(null==(p=e.get("nationality"))?null:p.hasError("required"))&&((null==(p=e.get("nationality"))?null:p.touched)||(null==(p=e.get("nationality"))?null:p.dirty))),t.xp6(1),t.Q6J("data",n.countryOption)("status",null!=(d=e.get("issuanceCountry"))&&d.invalid&&(null!=(d=e.get("issuanceCountry"))&&d.dirty||null!=(d=e.get("issuanceCountry"))&&d.touched)?"error":"default")("allowSearch",!0),t.xp6(1),t.Q6J("CfRequired",n.has1GProvider||n.hasFlyOneProvider),t.xp6(2),t.Q6J("ngIf",(null==(g=e.get("issuanceCountry"))?null:g.hasError("required"))&&((null==(g=e.get("issuanceCountry"))?null:g.touched)||(null==(g=e.get("issuanceCountry"))?null:g.dirty))),t.xp6(2),t.Q6J("status",null!=(y=e.get("issuanceDate"))&&y.invalid&&(null!=(y=e.get("issuanceDate"))&&y.dirty||null!=(y=e.get("issuanceDate"))&&y.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",n.has1GProvider||n.hasFlyOneProvider),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("maxDate",n.currentDate),t.xp6(2),t.Q6J("ngIf",(null==(x=e.get("issuanceDate"))?null:x.hasError("required"))&&((null==(x=e.get("issuanceDate"))?null:x.touched)||(null==(x=e.get("issuanceDate"))?null:x.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(C=e.get("issuanceDate"))?null:C.hasError("issuanceDateInvalid"))&&((null==(C=e.get("issuanceDate"))?null:C.touched)||(null==(C=e.get("issuanceDate"))?null:C.dirty))),t.xp6(2),t.Q6J("status",null!=(f=e.get("expiryDate"))&&f.invalid&&(null!=(f=e.get("expiryDate"))&&f.dirty||null!=(f=e.get("expiryDate"))&&f.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",n.has1GProvider||n.hasFlyOneProvider),t.xp6(2),t.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",n.currentDate),t.xp6(2),t.Q6J("ngIf",(null==(E=e.get("expiryDate"))?null:E.hasError("required"))&&((null==(E=e.get("expiryDate"))?null:E.touched)||(null==(E=e.get("expiryDate"))?null:E.dirty)))}}function g_(i,a){1&i&&(t.TgZ(0,"div",127),t._uU(1," Khuy\u1ebfn ngh\u1ecb nh\u1eadp CCCD/H\u1ed9 chi\u1ebfu kh\xe1ch h\xe0ng, n\u1ebfu kh\xf4ng h\xe3ng s\u1ebd kh\xf4ng h\u1ed7 tr\u1ee3 khi g\u1eb7p s\u1ef1 c\u1ed1 "),t.qZA())}function m_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",109)(1,"div",110)(2,"label",111),t._uU(3," Gi\u1ea5y t\u1edd t\xf9y th\xe2n "),t.qZA(),t.TgZ(4,"div")(5,"div",112)(6,"cf-radio-group",113),t.NdJ("checkChange",function(o){t.CHM(e);const r=t.oxw(2).$implicit,c=t.oxw();return t.KtG(c.onIdentityChange(o,r))}),t.TgZ(7,"cf-radio",114),t._uU(8," CCCD "),t.qZA(),t.TgZ(9,"cf-radio",115),t._uU(10," H\u1ed9 chi\u1ebfu "),t.qZA()(),t.YNc(11,a_,6,4,"div",56),t.YNc(12,__,34,27,"div",116),t.YNc(13,g_,2,0,"div",117),t.qZA()()()()}if(2&i){const e=t.oxw(2).$implicit,n=t.oxw();t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(5),t.Q6J("disabled",n.hasAirportInternational)("value",n.IDENTIFY_TYPE.CCCD),t.xp6(2),t.Q6J("value",n.IDENTIFY_TYPE.PASSPORT),t.xp6(2),t.Q6J("ngIf",e.value.documentType===n.IDENTIFY_TYPE.CCCD),t.xp6(1),t.Q6J("ngIf",e.value.documentType===n.IDENTIFY_TYPE.PASSPORT),t.xp6(1),t.Q6J("ngIf",e.value.documentType===n.IDENTIFY_TYPE.NON_IDENTIFY)}}function f_(i,a){1&i&&(t.TgZ(0,"div",136),t._UZ(1,"cf-icon",137),t.TgZ(2,"span"),t._uU(3,"Th\xf4ng tin b\u1ed5 sung"),t.qZA()())}function h_(i,a){if(1&i&&(t.TgZ(0,"cf-collapse",128)(1,"cf-collapse-panel",84),t.YNc(2,f_,4,0,"ng-template",null,32,t.W1O),t.TgZ(4,"div",129)(5,"cf-input-group",130)(6,"label",131),t._UZ(7,"img",132),t._uU(8," Bamboo Airways (QH) "),t.qZA(),t._UZ(9,"input",133),t.qZA(),t.TgZ(10,"cf-input-group",130)(11,"label",131),t._UZ(12,"img",134),t._uU(13," Vietnam Airlines (VNA) "),t.qZA(),t._UZ(14,"input",135),t.qZA()()()()),2&i){const e=t.MAs(3);t.xp6(1),t.Q6J("title",e)("active",!1)}}const v_=function(){return["VN","QH"]};function x_(i,a){if(1&i){const e=t.EpF();t.YNc(0,Vd,2,2,"div",90),t.YNc(1,Gd,2,1,"div",90),t.TgZ(2,"div",91)(3,"div",92)(4,"div",55)(5,"cf-input-group",93)(6,"label",21)(7,"span",22),t._uU(8,"H\u1ecd"),t.qZA()(),t.TgZ(9,"input",94),t.NdJ("blur",function(o){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onBlurInput(o,r,"lastName"))}),t.qZA(),t.YNc(10,Kd,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(11,"div",95)(12,"cf-input-group",28)(13,"label",21)(14,"span",22),t._uU(15,"T\xean \u0111\u1ec7m v\xe0 T\xean"),t.qZA()(),t.TgZ(16,"input",96),t.NdJ("blur",function(o){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onBlurInput(o,r,"firstName"))}),t.qZA(),t.YNc(17,$d,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(18,"div",95)(19,"cf-select",97)(20,"label",98),t._uU(21,"Gi\u1edbi t\xednh"),t.qZA()()(),t.TgZ(22,"div",55)(23,"cf-input-group",28),t._UZ(24,"cf-icon",99),t.TgZ(25,"label",21)(26,"span",22),t._uU(27,"Ng\xe0y sinh"),t.qZA(),t._uU(28,"\xa0 "),t.TgZ(29,"span",100),t._uU(30),t.qZA()(),t.TgZ(31,"input",101),t.NdJ("blur",function(){t.CHM(e);const o=t.oxw().$implicit;let r;return t.KtG(null==(r=o.get("birthday"))?null:r.markAsTouched())})("input",function(o){t.CHM(e);const r=t.oxw().$implicit,c=t.oxw();return t.KtG(c.onInputBirthdayChange(o,r,"birthday"))}),t.qZA(),t.YNc(32,zd,1,1,"cf-input-hint",23),t.YNc(33,Wd,1,1,"cf-input-hint",23),t.YNc(34,Xd,1,1,"cf-input-hint",23),t.qZA()(),t.YNc(35,e_,8,15,"div",102),t.qZA(),t.YNc(36,m_,14,7,"div",103),t.YNc(37,h_,15,2,"cf-collapse",104),t.ALo(38,"mapper"),t.qZA()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();let o,r,c,l,p,d,g,y,x,C,f,E,T,N,w;t.Q6J("ngIf",!(null!=(o=e.get("firstName"))&&o.valid&&null!=(o=e.get("lastName"))&&o.valid)),t.xp6(1),t.Q6J("ngIf",(null==(r=e.get("firstName"))?null:r.valid)&&(null==(r=e.get("lastName"))?null:r.valid)),t.xp6(2),t.Q6J("ngClass","INF"===(null==(c=e.get("type"))?null:c.value)?"grid-cols-3":"grid-cols-2"),t.xp6(2),t.Q6J("status",null!=(l=e.get("lastName"))&&l.invalid&&(null!=(l=e.get("lastName"))&&l.dirty||null!=(l=e.get("lastName"))&&l.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(p=e.get("lastName"))?null:p.errors)&&(null==(p=e.get("lastName"))?null:p.touched)),t.xp6(2),t.Q6J("status",null!=(d=e.get("firstName"))&&d.invalid&&(null!=(d=e.get("firstName"))&&d.dirty||null!=(d=e.get("firstName"))&&d.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(g=e.get("firstName"))?null:g.errors)&&(null==(g=e.get("firstName"))?null:g.touched)),t.xp6(1),t.Q6J("ngClass","INF"===(null==(y=e.get("type"))?null:y.value)?"-order-1":""),t.xp6(1),t.Q6J("status",null!=(x=e.get("gender"))&&x.invalid&&(null!=(x=e.get("gender"))&&x.dirty||null!=(x=e.get("gender"))&&x.touched)?"error":"default")("data",n.optionsGender)("allowSearch",!1),t.xp6(1),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("status",null!=e.controls.birthday&&e.controls.birthday.invalid&&(null!=e.controls.birthday&&e.controls.birthday.dirty||null!=e.controls.birthday&&e.controls.birthday.touched)?"error":"default"),t.xp6(3),t.Q6J("CfRequired","ADT"!==(null==(C=e.get("type"))?null:C.value)),t.xp6(4),t.hij(" ","ADT"===(null==(f=e.get("type"))?null:f.value)?"(L\u1edbn h\u01a1n 12 tu\u1ed5i)":"CHD"===(null==(f=e.get("type"))?null:f.value)?"(T\u1eeb 2 \u0111\u1ebfn 12 tu\u1ed5i)":"(D\u01b0\u1edbi 2 tu\u1ed5i)"," "),t.xp6(2),t.Q6J("ngIf",(null==(E=e.get("birthday"))||null==E.errors?null:E.errors.ageInvalid)&&((null==(E=e.get("birthday"))?null:E.touched)||(null==(E=e.get("birthday"))?null:E.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(T=e.get("birthday"))||null==T.errors?null:T.errors.required)&&((null==(T=e.get("birthday"))?null:T.touched)||(null==(T=e.get("birthday"))?null:T.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(N=e.get("birthday"))||null==N.errors?null:N.errors.invalidDate)&&((null==(N=e.get("birthday"))?null:N.touched)||(null==(N=e.get("birthday"))?null:N.dirty))),t.xp6(1),t.Q6J("ngIf","INF"===(null==(w=e.get("type"))?null:w.value)),t.xp6(1),t.Q6J("ngIf",n.hasAirportInternational),t.xp6(1),t.Q6J("ngIf",t.Dn7(38,23,n.ticketCur,n.checkAirline,t.DdM(27,v_)))}}function y_(i,a){if(1&i&&(t.TgZ(0,"div",81)(1,"div",82)(2,"cf-collapse",83)(3,"cf-collapse-panel",84),t.YNc(4,Hd,2,2,"ng-template",null,32,t.W1O),t.GkF(6,85),t.qZA()(),t.TgZ(7,"div",86),t.GkF(8,85),t.YNc(9,x_,39,28,"ng-template",null,87,t.W1O),t.qZA()()()),2&i){const e=a.index,n=t.MAs(5),o=t.MAs(10);t.xp6(1),t.Q6J("formGroupName",e)("ngClass","passenger-"+e),t.xp6(2),t.Q6J("title",n)("active",!0),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(2),t.Q6J("ngTemplateOutlet",o)}}function C_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","M\xe3 v\xf9ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function T_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Sdt kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function b_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i thi\u1ec3u 7 s\u1ed1")}function k_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","\u0110i\u1ec7n tho\u1ea1i di \u0111\u1ed9ng t\u1ed1i \u0111a 11 s\u1ed1")}function E_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","Email kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function D_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","\u0110\u1ecbnh d\u1ea1ng kh\xf4ng h\u1ee3p l\u1ec7")}function A_(i,a){1&i&&(t.TgZ(0,"div",138),t._UZ(1,"cf-icon",137),t._uU(2," Y\xeau c\u1ea7u xu\u1ea5t ho\xe1 \u0111\u01a1n \u0111i\u1ec7n t\u1eed "),t.qZA())}function Z_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","M\xe3 s\u1ed1 thu\u1ebf kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function B_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","T\xean c\xf4ng ty kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function w_(i,a){1&i&&t._UZ(0,"cf-input-hint",106),2&i&&t.Q6J("hint","\u0110\u1ecba ch\u1ec9 c\xf4ng ty kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}const pi=function(i){return{animationShake:i}},di=function(i){return{"[&>*]:text-secondary-6-3":i}},_i=function(i){return{"!text-secondary-6-3  ":i}};function I_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",139),t._UZ(1,"cf-checkbox",73),t.TgZ(2,"div",74),t._uU(3," T\xf4i \u0111\u1ed3ng \xfd v\u1edbi c\xe1c "),t.TgZ(4,"span",75),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.openTerm())}),t._uU(5," quy \u0111\u1ecbnh \u0111\u1eb7t v\xe9 "),t.qZA(),t._uU(6," c\u1ee7a GMBR "),t.qZA()()}if(2&i){const e=t.oxw();let n,o,r;t.Q6J("ngClass",t.VKq(4,pi,((null==(n=e.form.get("isAgreeTerm"))?null:n.touched)||(null==(n=e.form.get("isAgreeTerm"))?null:n.dirty))&&!(null!=e.form.value&&e.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("checked",e.form.value.isAgreeTerm)("ngClass",t.VKq(6,di,((null==(o=e.form.get("isAgreeTerm"))?null:o.touched)||(null==(o=e.form.get("isAgreeTerm"))?null:o.dirty))&&!(null!=e.form.value&&e.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("ngClass",t.VKq(8,_i,((null==(r=e.form.get("isAgreeTerm"))?null:r.touched)||(null==(r=e.form.get("isAgreeTerm"))?null:r.dirty))&&!(null!=e.form.value&&e.form.value.isAgreeTerm)))}}function S_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",140),t.NdJ("showDetail",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.showDetail(o))})("reselectClick",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.navigateToPaxInfo())}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)}}function F_(i,a){if(1&i&&(t.TgZ(0,"div",149)(1,"div",150),t._uU(2),t.qZA(),t.TgZ(3,"div",151),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function N_(i,a){if(1&i&&(t.TgZ(0,"div",149)(1,"div",150),t._uU(2),t.qZA(),t.TgZ(3,"div",151),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function q_(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",144)(2,"div",145)(3,"div",146),t._uU(4," Chi\u1ec1u \u0111i "),t.qZA(),t.YNc(5,F_,7,9,"div",147),t.qZA(),t.TgZ(6,"div",148)(7,"div",146),t._uU(8," Chi\u1ec1u v\u1ec1 "),t.qZA(),t.YNc(9,N_,7,9,"div",147),t.qZA()(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(5),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList),t.xp6(4),t.Q6J("ngForOf",e.ticketCur.ticketSelected[1].ticketPriceList)}}function O_(i,a){if(1&i&&(t.TgZ(0,"div",149)(1,"div",150),t._uU(2),t.qZA(),t.TgZ(3,"div",151),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.$implicit;t.xp6(2),t.hij(" ","ADT"===e.code?"V\xe9 ng\u01b0\u1eddi l\u1edbn":"CHD"===e.code?"V\xe9 tr\u1ebb em":"V\xe9 em b\xe9"," "),t.xp6(2),t.AsE(" ",t.Dn7(5,3,t.lcZ(6,7,e.surCharge+e.baseFare),",",".")," \u0111 X ",e.quantity," ")}}function P_(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",152),t.YNc(2,O_,7,9,"div",147),t.qZA(),t.BQk()),2&i){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.ticketCur.ticketSelected[0].ticketPriceList)}}function M_(i,a){if(1&i&&(t.ynx(0)(1,141),t.YNc(2,q_,10,2,"ng-container",142),t.YNc(3,P_,3,1,"ng-container",143),t.BQk()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngSwitch",null==e.ticketCur.ticketSelected?null:e.ticketCur.ticketSelected.length),t.xp6(1),t.Q6J("ngSwitchCase",2)}}function U_(i,a){if(1&i&&(t.TgZ(0,"div",153)(1,"div",150),t._uU(2," Gi\u1ea3m gi\xe1 v\xe9 "),t.qZA(),t.TgZ(3,"div",151),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=a.ngIf;t.xp6(4),t.hij(" - ",t.Dn7(5,1,t.lcZ(6,5,e),",",".")," \u0111 ")}}function J_(i,a){if(1&i&&(t.TgZ(0,"div",153)(1,"div",150),t._uU(2),t.qZA(),t.TgZ(3,"div",151),t._uU(4),t.ALo(5,"replace"),t.ALo(6,"number"),t.qZA()()),2&i){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",e.code," "),t.xp6(2),t.hij(" - ",t.Dn7(5,2,t.lcZ(6,6,e.discountByCondition),",",".")," \u0111 ")}}function L_(i,a){if(1&i&&(t.ynx(0),t.YNc(1,J_,7,8,"div",59),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.active)}}function R_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",155)(1,"span"),t._uU(2),t.qZA(),t.TgZ(3,"cf-icon",156),t.NdJ("click",function(){const r=t.CHM(e).$implicit,c=t.oxw(2);return t.KtG(c.removePromoActive(r))}),t.qZA()()}if(2&i){const e=a.$implicit;t.xp6(2),t.hij(" ",e.code," ")}}function j_(i,a){if(1&i&&(t.ynx(0),t.YNc(1,R_,4,1,"div",154),t.BQk()),2&i){const e=a.ngIf;t.xp6(1),t.Q6J("ngForOf",e)}}const Q_=function(){return{standalone:!0}},Y_=function(i){return{"!text-red-4":i}};function H_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"input",157),t.NdJ("ngModelChange",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.promoCodeBooking=o)})("ngModelChange",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.isErrorPromoCodeBook=!1)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("ngModel",e.promoCodeBooking)("ngModelOptions",t.DdM(3,Q_))("ngClass",t.VKq(4,Y_,e.isErrorPromoCodeBook))}}function V_(i,a){1&i&&(t.TgZ(0,"div",158),t._uU(1," \u0110\xe3 \xe1p d\u1ee5ng "),t.qZA())}function G_(i,a){1&i&&t._UZ(0,"cf-input-hint",159),2&i&&t.Q6J("hint","M\xe3 kh\xf4ng h\u1ee3p l\u1ec7")}function K_(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",161),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,r=t.oxw();return r.promoCodeBooking=o.code,t.KtG(r.applyPromocode())}),t.TgZ(1,"div",162)(2,"div",163),t.O4$(),t.TgZ(3,"svg",164),t._UZ(4,"path",165),t.qZA(),t.kcU(),t.TgZ(5,"div",166),t._uU(6),t.ALo(7,"replace"),t.ALo(8,"number"),t.qZA()(),t.TgZ(9,"div",167)(10,"div",168),t._UZ(11,"span",169),t.ALo(12,"mapper"),t.qZA(),t.TgZ(13,"span")(14,"b",170),t._uU(15),t.qZA(),t._uU(16," | "),t.TgZ(17,"span",171),t._uU(18," \xc1p m\xe3 ngay "),t.qZA()()()(),t.TgZ(19,"div",172),t._UZ(20,"cf-icon",173),t.qZA()()}if(2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(6),t.hij(" ",t.Dn7(7,4,t.lcZ(8,8,e.discountByCondition/1e3),",","."),"K "),t.xp6(5),t.Q6J("innerHTML",t.xi3(12,10,e.header,n.bypassSecurityTrustHtml),t.oJD),t.xp6(4),t.Oqu(e.code),t.xp6(5),t.Q6J("icon",e.active?"check":"plus")}}function $_(i,a){if(1&i&&(t.ynx(0),t.YNc(1,K_,21,13,"div",160),t.BQk()),2&i){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.public)}}function z_(i,a){1&i&&t._UZ(0,"cf-spinner")}const W_=function(){return["VJ"]},_e=function(i){return{"[&>*>*:nth-child(2)]:!bg-neutral-gray-1":i}};let X_=(()=>{class i{constructor(e,n,o,r,c,l,p,d,g,y,x,C,f,E,T,N,w,O,G,h,F,P){this._fb=e,this._modal=n,this._cfIconRegister=o,this._phoneDataSvc=r,this._bottomSheetSvc=c,this._detectMobileSvc=l,this._BtcBookingSvc=p,this._locationDataSvc=d,this._helperSvc=g,this._calendar=y,this._helperStorageSvc=x,this._router=C,this._location=f,this._bookingPaymentSvc=E,this._toastService=T,this._addExtraInfoOrderSvc=N,this._clientKeyBtcSvc=w,this._eventLogService=O,this._checkValidPromoCodeBookSvc=G,this.appConfig=h,this.sanitizer=F,this._cdr=P,this.promoCodeBooking="",this.optionsGender=Lo,this.optionsParent=[],this.optionsAreaCode=this._phoneDataSvc.optionsAreaCode,this.hasAirportInternational=!1,this.promoCodeBook="",this.hasBaggageSelected=!1,this.passengerText="",this.isLoading=!1,this.has1GProvider=!1,this.hasFlyOneProvider=!1,this.has1AProvider=!1,this.hasInternationalFlight=!1,this.hasVJAirline=!1,this.countryOption=this._locationDataSvc.getAllCountryOption(),this.currentDate=this._calendar.getToday(),this.promoCodeBookingList=[],this.amountDiscount=0,this.isMobile=!1,this.isErrorPromoCodeBook=!1,this.IDENTIFY_TYPE=J.FV,this.checkAirline=(Z,I)=>null==Z?void 0:Z.ticketSelected.some(M=>M.ticketData&&I.includes(M.ticketData.airline)),this.checkErrorDependentPartner=(Z,I,M)=>Z.value.filter((U,b)=>b!==I).some(U=>U.parentIndex===Z.value[I].parentIndex),this.amountDiscountTotal=Z=>Z.reduce((I,M)=>I+(M.ticketPriceList&&M.ticketPriceList.length?M.ticketPriceList.reduce((S,U)=>S+U.discountAmount*U.quantity,0):0),0),this.listPromoActives=Z=>{const I=Z.filter(M=>M.active);return I.length?I:null},this.amountDiscountPromoBooking=Z=>Z.reduce((I,M)=>I+(M.active?M.discountByCondition:0),0),this.bypassSecurityTrustHtml=Z=>this.sanitizer.bypassSecurityTrustHtml(Z),this.progressFitConditionByDiscount=(Z,I)=>Z.total<I.minimum?`Voucher ch\u1ec9 \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng t\u1ed1i thi\u1ec3u ${I.minimum}\u0111`:Z.oneWay&&!I.oneWay?"Voucher kh\xf4ng \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng m\u1ed9t chi\u1ec1u":Z.roundTrip&&!I.roundTrip?"Voucher kh\xf4ng \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng kh\u1ee9 h\u1ed3i":Z.isInternational&&"DOMESTIC"===I.journeyType?"Voucher ch\u1ec9 \xe1p d\u1ee5ng cho \u0111\u01a1n h\xe0ng n\u1ed9i \u0111\u1ecba":"",this._cfIconRegister.registerIcons([_.ILM,_._7G,_.rks,_._tC,_.D7,_.wvd,_.UNF,_.TM4,_.NNX]),this.isMobile=this._detectMobileSvc.isMobile()}ngOnInit(){var e;this.searchData=this._helperStorageSvc.btcResultData.search,this.ticketCur=Object.assign(Object.assign({},this._helperStorageSvc.btcResultData.ticketCur),{ticketSelected:null===(e=this._helperStorageSvc.btcResultData.ticketCur)||void 0===e?void 0:e.ticketSelected.map(n=>Object.assign(Object.assign({},n),{ticketData:(0,X.yE)(Tt,n.ticketData,{excludeExtraneousValues:!0})}))}),this.initDataByTicketCur(),!this.form&&this.initForm(),this.progressAmountDiscount(),this.initPromoCodeBookingList()}initPromoCodeBookingList(){const e=1===this.ticketCur.ticketSelected.length,n={total:this.ticketCur.ticketSelected.map(o=>o&&o.ticketPriceList?o.ticketPriceList.map(r=>r.totalFare):[]).flat().reduce((o,r)=>o+r,0),oneWay:e,roundTrip:!e,isInternational:this.hasAirportInternational};this.promoCodeBookingList=this._helperStorageSvc.promoBookData.map(o=>(0,X.yE)(Fa,Object.assign(Object.assign({},o),{errorStr:this.progressFitConditionByDiscount(n,o),discountByCondition:o.conditionDetail[0].totalPrice}),{excludeExtraneousValues:!0}))}initDataByTicketCur(){var e,n,o,r,c;this.ticketCur&&(this.progressInternational(),this.hasInternationalFlight=null===(e=this.ticketCur)||void 0===e?void 0:e.ticketSelected.some(l=>{var p;return["GDS","BSP","AIR_1G","FLY_ONE"].includes(((null===(p=l.ticketData)||void 0===p?void 0:p.provider)||"").toUpperCase())}),this.has1GProvider=null===(n=this.ticketCur)||void 0===n?void 0:n.ticketSelected.some(l=>{var p;return(null===(p=l.ticketData)||void 0===p?void 0:p.provider.toUpperCase())===J.QK.AIR_1G}),this.hasFlyOneProvider=null===(o=this.ticketCur)||void 0===o?void 0:o.ticketSelected.some(l=>{var p;return(null===(p=l.ticketData)||void 0===p?void 0:p.provider.toUpperCase())===J.QK.FLY_ONE}),this.has1AProvider=null===(r=this.ticketCur)||void 0===r?void 0:r.ticketSelected.some(l=>{var p;return(null===(p=l.ticketData)||void 0===p?void 0:p.provider.toUpperCase())===J.QK.BSP}),this.hasVJAirline=null===(c=this.ticketCur)||void 0===c?void 0:c.ticketSelected.some(l=>{var p,d;return"VJ"===(null===(p=l.ticketData)||void 0===p?void 0:p.provider.toUpperCase())||"VJ"===(null===(d=l.ticketData)||void 0===d?void 0:d.airline.toUpperCase())}))}initForm(){this.form=this._fb.group({email:["",[A.kI.required,A.kI.email]],name:[""],phone:["",[A.kI.required,A.kI.minLength(7),A.kI.maxLength(11)]],phonePrefix:["+84",A.kI.required],passengers:this._fb.array([]),companyAddress:[""],companyName:[""],taxNumber:[""],isAgreeTerm:[!0,[md]],isElectronicInvoiceIssuance:[!1]}),this.initPassengersForm(this.searchData),this.progressFormByIsElectronicInvoiceIssuance(),console.log(this.ticketCur),console.log(this.searchData)}progressFormByIsElectronicInvoiceIssuance(){var e,n,o,r;null===(e=this.form.get("companyAddress"))||void 0===e||e.disable(),null===(n=this.form.get("companyName"))||void 0===n||n.disable(),null===(o=this.form.get("taxNumber"))||void 0===o||o.disable(),null===(r=this.form.get("isElectronicInvoiceIssuance"))||void 0===r||r.valueChanges.subscribe(c=>{var l,p,d,g,y,x,C,f,E,T,N,w,O,G,h,F,P,Z;c?(null===(l=this.form.get("companyAddress"))||void 0===l||l.enable(),null===(p=this.form.get("companyName"))||void 0===p||p.enable(),null===(d=this.form.get("taxNumber"))||void 0===d||d.enable(),null===(g=this.form.get("companyAddress"))||void 0===g||g.setValidators([A.kI.required]),null===(y=this.form.get("companyName"))||void 0===y||y.setValidators([A.kI.required]),null===(x=this.form.get("taxNumber"))||void 0===x||x.setValidators([A.kI.required]),null===(C=this.form.get("companyAddress"))||void 0===C||C.updateValueAndValidity(),null===(f=this.form.get("companyName"))||void 0===f||f.updateValueAndValidity(),null===(E=this.form.get("taxNumber"))||void 0===E||E.updateValueAndValidity()):(null===(T=this.form.get("companyAddress"))||void 0===T||T.disable(),null===(N=this.form.get("companyName"))||void 0===N||N.disable(),null===(w=this.form.get("taxNumber"))||void 0===w||w.disable(),null===(O=this.form.get("companyAddress"))||void 0===O||O.setValidators(null),null===(G=this.form.get("companyName"))||void 0===G||G.setValidators(null),null===(h=this.form.get("taxNumber"))||void 0===h||h.setValidators(null),null===(F=this.form.get("companyAddress"))||void 0===F||F.updateValueAndValidity(),null===(P=this.form.get("companyName"))||void 0===P||P.updateValueAndValidity(),null===(Z=this.form.get("taxNumber"))||void 0===Z||Z.updateValueAndValidity())})}get passengers(){return this.form.get("passengers")}initPassengersForm(e){const{adultCount:n,childCount:o,infantCount:r}=e,c={adult:n,child:o,infant:r};let l;Object.keys(c).forEach(p=>{const d=c[p];for(let g=0;g<d;g++)"infant"!==p&&(l=(0,gt.isNil)(l)?0:++l),this.addPassenger(p,l,g)}),this.optionsParent=[...this.initOptionsParent(this.passengers.value)],this.updateOptionsParent()}addPassenger(e,n,o){var r,c;const l=this.getDocumentTypeDefault(e),p=this._fb.group({type:"adult"===e?"ADT":"child"===e?"CHD":"INF",indexByType:o,index:"infant"!==e?n:0,birthday:[null,A.kI.compose("adult"!==e?[A.kI.required,si(e,null!==(r=this.searchData.journey)&&void 0!==r&&r.length?new Date(this.searchData.journey[0].departDate):new Date)]:[si(e,null!==(c=this.searchData.journey)&&void 0!==c&&c.length?new Date(this.searchData.journey[0].departDate):new Date)])],firstName:[null,A.kI.required],lastName:[null,A.kI.required],parentIndex:["infant"===e?o:null],gender:["male"],membershipQH:[null],membershipVN:[null],issuanceDate:[null],expiryDate:[null],issuanceCountry:[null],nationality:[null],number:[null],cccdNumber:[null],documentType:[l]});this.passengers.push(p),l&&this.onIdentityChange(l,p)}getDocumentTypeDefault(e){return this.hasAirportInternational?J.FV.PASSPORT:null}initOptionsParent(e){return e.filter(n=>"ADT"===n.type).map((n,o)=>({name:n.firstName&&n.lastName?`${n.lastName} ${n.firstName}`:`Ng\u01b0\u1eddi l\u1edbn ${o+1}`,code:n.indexByType}))}updateOptionsParent(){this.passengers.valueChanges.pipe((0,at.U)(e=>e),(0,Id.x)((e,n)=>e.every((o,r)=>{const c=n[r];return o.firstName===c.firstName&&o.lastName===c.lastName}))).subscribe(e=>{this.optionsParent=[...this.initOptionsParent(e)],this.updateUISelectSelectInfant()})}updateUISelectSelectInfant(){var e;this.parentSelectInfants&&(null===(e=this.parentSelectInfants)||void 0===e||e.forEach(n=>{n.data=this.optionsParent,this.optionsParent.forEach(o=>{n.selectedText&&o.code===n.selectedText.code&&n.writeValue(n.selectedText.code)})}))}progressInternational(){var e;null===(e=this.ticketCur)||void 0===e||e.ticketSelected.forEach(n=>{n.ticketData&&(this._locationDataSvc.checkAirportInternational(n.ticketData.startPoint)||this._locationDataSvc.checkAirportInternational(n.ticketData.endPoint))&&(this.hasAirportInternational=!0)})}onIdentityChange(e,n){e===J.FV.PASSPORT?(["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var r,c,l,p;"number"===o?(null===(r=n.get(o))||void 0===r||r.setValidators([A.kI.required,A.kI.maxLength(9)]),null===(c=n.get(o))||void 0===c||c.updateValueAndValidity()):(null===(l=n.get(o))||void 0===l||l.setValidators([A.kI.required]),null===(p=n.get(o))||void 0===p||p.updateValueAndValidity())}),["cccdNumber"].forEach(o=>{var r,c;null===(r=n.get(o))||void 0===r||r.setValidators(null),null===(c=n.get(o))||void 0===c||c.updateValueAndValidity()}),console.log(n)):e===J.FV.CCCD?(["cccdNumber"].forEach(o=>{var r,c;null===(r=n.get(o))||void 0===r||r.setValidators([A.kI.required,A.kI.minLength(9),A.kI.maxLength(12)]),null===(c=n.get(o))||void 0===c||c.updateValueAndValidity()}),["issuanceDate","expiryDate","issuanceCountry","nationality","number"].forEach(o=>{var r,c;null===(r=n.get(o))||void 0===r||r.setValidators(null),null===(c=n.get(o))||void 0===c||c.updateValueAndValidity()})):["issuanceDate","expiryDate","issuanceCountry","nationality","number","cccdNumber"].forEach(o=>{var r,c;null===(r=n.get(o))||void 0===r||r.setValidators(null),null===(c=n.get(o))||void 0===c||c.updateValueAndValidity()})}onKeydown(e){e.preventDefault(),e.stopPropagation()}quickParseInfo(){this._modal.open(Bd,{passengerText:this.passengerText,departureTime:q(this.searchData.journey[0].departDate).toDate().getTime()}).afterClosed$.subscribe({next:n=>{n.data&&this.processQuickParse(n.data.text,n.data.passengers,n.data.passengerInputRows)}})}processQuickParse(e,n,o){this.passengerText=e;const r=n.map(d=>Object.assign(Object.assign({},d),{type:"ADULT"===d.type?"ADT":"CHILD"===d.type?"CHD":"INF"}));r.forEach(d=>{d.firstName&&(d.firstName=this.unicodeAndUppercase(d.firstName)),d.lastName&&(d.lastName=this.unicodeAndUppercase(d.lastName)),d.parentName&&(d.parentName=this.unicodeAndUppercase(d.parentName))});const c=r.filter(d=>"ADT"===d.type),l=r.filter(d=>"CHD"===d.type),p=r.filter(d=>"INF"===d.type);this.passengers.value.forEach(({type:d,indexByType:g,parentIndex:y},x)=>{var C;if("ADT"===d){const f=c[g];null!=f&&f.birthday&&(f.birthday=q(new Date(f.birthday)).format("DD/MM/YYYY")),f&&this.passengers.at(x).patchValue(f)}else if("CHD"===d){const f=l[g];null!=f&&f.birthday&&(f.birthday=q(new Date(f.birthday)).format("DD/MM/YYYY")),f&&this.passengers.at(x).patchValue(f)}else{const f=p[g];null!=f&&f.birthday&&(f.birthday=q(new Date(f.birthday)).format("DD/MM/YYYY"));const E=null===(C=this.optionsParent.find(T=>T.name===(null==f?void 0:f.parentName)))||void 0===C?void 0:C.code;f&&this.passengers.at(x).patchValue(Object.assign(Object.assign({},f),{parentIndex:E||y}))}})}showDetail(e){this.isMobile?this._bottomSheetSvc.open(At,{headerTitle:"Th\xf4ng tin chuy\u1ebfn bay",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e}}).containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()):this._modal.open(At,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}onBlurInput(e,n,o){var r;const c=this.unicodeAndUppercase(e.target.value);null===(r=n.get(o))||void 0===r||r.setValue(c)}onInputBirthdayChange(e,n,o){var r;let l=e.target.value;l=l.replace(/[^0-9/]/g,""),l=l.replace(/\/+/g,"/"),l.length>2&&"/"!==l[2]&&(l=l.slice(0,2)+"/"+l.slice(2)),l.length>5&&"/"!==l[5]&&(l=l.slice(0,5)+"/"+l.slice(5)),l.length>10&&(l=l.slice(0,10)),null===(r=n.get(o))||void 0===r||r.setValue(l)}unicodeAndUppercase(e){return e=e.replace(/ +(?= )/g,""),(0,wd.E)(e.trim()).toUpperCase()}onAddBaggage(){}scrollToFieldErr(){const e=document.querySelectorAll(".ng-invalid");if(e.length){const n=e[1];n.scrollIntoView({behavior:"smooth",block:"center"}),n.focus()}}bookTicket(){var e,n,o,r,c,l;if(console.log(null===(e=this.ticketCur)||void 0===e?void 0:e.ticketSelected),this.form.markAllAsTouched(),this.form.updateValueAndValidity(),this.scrollToFieldErr(),this.form.invalid||!this.form.value.isAgreeTerm||this.checkDuplicates(this.passengers.value.filter(h=>"INF"===h.type)))return;const p=null===(n=this.ticketCur)||void 0===n?void 0:n.ticketSelected.map(h=>h.ticketData),d=null!=p&&p.length?this._helperSvc.progressPriceList(this.searchData,p):[],{email:g,phone:y,phonePrefix:x,companyAddress:C,companyName:f,taxNumber:E,name:T,isElectronicInvoiceIssuance:N}=this.form.value,w=this.promoCodeBookingList.filter(h=>h.active),O={promoCodeBook:w.map(h=>h.code).join(","),totalPromoBook:w.reduce((h,F)=>h+F.discountByCondition,0)},G={sendEmailInfo:{bookingContact:{email:g,phone:y,phonePrefix:x,name:T},bookingFlights:{bookingOptions:null===(o=this.ticketCur)||void 0===o?void 0:o.ticketSelected.map((h,F)=>{var P,Z,I,M,S,U,b,D,R,k,H,Y,et,ut,ot,dt,B,z,W;return console.log(h),{airlineLogo:"https://flychills.com/assets/airline-logo/"+(null===(P=h.ticketData)||void 0===P?void 0:P.airline)+".png",endPoint:null!==(Z=h.ticketData)&&void 0!==Z&&Z.endPoint?`${this._locationDataSvc.getCityNameByCode(null===(I=h.ticketData)||void 0===I?void 0:I.endPoint)} (${null===(M=h.ticketData)||void 0===M?void 0:M.endPoint})`:"",endTime:null!==(S=h.ticketData)&&void 0!==S&&S.arrival.localTime?(0,Q.Z)(new Date(null===(U=h.ticketData)||void 0===U?void 0:U.arrival.localTime),"dd/MM/yyyy HH:mm"):"",flightNumber:null!==(b=h.ticketData)&&void 0!==b&&b.flightNumber?`Chuy\u1ebfn bay ${null===(D=h.ticketData)||void 0===D?void 0:D.flightNumber}`:"",startPoint:null!==(R=h.ticketData)&&void 0!==R&&R.startPoint?`${this._locationDataSvc.getCityNameByCode(null===(k=h.ticketData)||void 0===k?void 0:k.startPoint)} (${null===(H=h.ticketData)||void 0===H?void 0:H.startPoint})`:"",startTime:null!==(Y=h.ticketData)&&void 0!==Y&&Y.departure.localTime?(0,Q.Z)(new Date(null===(et=h.ticketData)||void 0===et?void 0:et.departure.localTime),"dd/MM/yyyy HH:mm"):"",fareClass:`H\u1ea1ng ch\u1ed7 ${null===(ot=null===(ut=h.ticketData)||void 0===ut?void 0:ut.fareCur)||void 0===ot?void 0:ot.fareClass}`||"",airline:(null===(dt=h.ticketData)||void 0===dt?void 0:dt.airline)||"",startPointCode:(null===(B=h.ticketData)||void 0===B?void 0:B.startPoint)||"",endPointCode:(null===(z=h.ticketData)||void 0===z?void 0:z.endPoint)||"",flightNumberCode:(null===(W=h.ticketData)||void 0===W?void 0:W.flightNumber)||""}}),totalPrice:((null===(r=this.ticketCur)||void 0===r?void 0:r.totalPrice)||0)-this.amountDiscount},bookingPassengers:this.passengers.value.map(h=>{var F,P,Z;let I=0;if(null!=d&&d.length){const U=d.find(b=>b.code===h.type);I=((null==U?void 0:U.totalFare)||0)/((null==U?void 0:U.quantity)||1)}const M=null===(F=h.birthday)||void 0===F?void 0:F.split("/"),S=M?`${M[2]}-${M[1]}-${M[0]}`:"1990-01-01";return{gender:"male"===h.gender?"\xd4ng":"B\xe0",name:`${h.lastName} ${h.firstName}`,price:I,type:h.type,service:"Gi\xe1 v\xe9",route:null!=p&&p.length?`${this._locationDataSvc.getCityNameByCode(null===(P=p[0])||void 0===P?void 0:P.startPoint)} - ${this._locationDataSvc.getCityNameByCode(null===(Z=p[0])||void 0===Z?void 0:Z.endPoint)}`:"",genderCode:h.gender.toUpperCase(),documentInfo:[{documentType:h.documentType,number:"PASSPORT"===h.documentType?h.number:h.cccdNumber,expiryDate:h.expiryDate?(0,Q.Z)(new Date(h.expiryDate),"yyyy-MM-dd"):"",issuanceCountry:h.issuanceCountry,issuanceDate:h.issuanceDate?(0,Q.Z)(new Date(h.issuanceDate),"yyyy-MM-dd"):"",nationality:h.nationality}],birthday:S}})},ip:"",bookingInfo:{bookingContact:{email:g,phone:y,phonePrefix:x,name:"thuong"},bookingFlights:{bookingOptions:p.map((h,F)=>{const{airline:P,airlineName:Z,fareCur:I,segments:M,endPoint:S,startPoint:U,key:b,provider:D,departure:R,totalPrice:H}=h,Y=this._helperSvc.progressPriceList(this.searchData,[h])||0,et=Y.find(W=>"ADT"===W.code),ut=((null==et?void 0:et.totalFare)||0)/((null==et?void 0:et.quantity)||1)||0,ot=Y.find(W=>"CHD"===W.code),dt=((null==ot?void 0:ot.totalFare)||0)/((null==ot?void 0:ot.quantity)||1)||0,B=Y.find(W=>"INF"===W.code),z=((null==B?void 0:B.totalFare)||0)/((null==B?void 0:B.quantity)||1)||0;return{airline:P,airlineName:Z,bookingFlightInfo:{optionSelect:{fareOptionKey:(null==I?void 0:I.key)||"",segmentSelect:M.map(({bookedInfo:W,key:mt,flightNumber:kt,startPoint:o0,endPoint:a0,departure:r0,arrival:c0})=>({fareClass:null==W?void 0:W.fareClass,segmentKey:mt,flightNumber:kt,startPoint:o0,endPoint:a0,departureTime:r0.scheduleTime,arrivalTime:c0.scheduleTime}))},ivsBookingFlightInfo:"IVS"===D?{departureDate:(0,Q.Z)(new Date(R.localTime),"yyyy-MM-dd"),endPoint:S,startPoint:U,fareClass:null==I?void 0:I.journeyFareClass,flightNumber:M[0].flightNumber,totalPrice:((null==et?void 0:et.totalFare)||0)+((null==ot?void 0:ot.totalFare)||0)+((null==B?void 0:B.totalFare)||0)}:null,type:this.searchData.typeOfList===$.YI.Single?"b2c":"combo"},endPoint:S,startPoint:U,provider:D,fareClass:null==I?void 0:I.journeyFareClass,price:H||0,flightNumber:M[0].flightNumber,id:P.toUpperCase()+"_"+F,journeyKey:b,leg:F,route:`${U}${S}`,startTime:R.localTime?(0,Q.Z)(new Date(R.localTime),"yyyy-MM-dd HH:mm"):"",sessionId:"",adtPrice:ut,chdPrice:dt,infPrice:z}}),mode:"options"},bookingPassengers:this.passengers.value.map(h=>{var F;const P=null===(F=h.birthday)||void 0===F?void 0:F.split("/");return{bookingBaggages:[],bookingSeats:[],bookingServices:[],info:{birthday:P?`${P[2]}-${P[1]}-${P[0]}`:"1990-01-01",defaultDocumentType:(0,gt.isEmpty)(h.documentType)||h.documentType===J.FV.NON_IDENTIFY?J.FV.CCCD:h.documentType,documentInfo:[{documentType:h.documentType,expiryDate:h.expiryDate?(0,Q.Z)(new Date(h.expiryDate),"yyyy-MM-dd"):"",issuanceCountry:h.issuanceCountry,issuanceDate:h.issuanceDate?(0,Q.Z)(new Date(h.issuanceDate),"yyyy-MM-dd"):"",number:"PASSPORT"===h.documentType?h.number:h.cccdNumber,nationality:h.nationality}],email:"",firstName:h.firstName,lastName:h.lastName,gender:h.gender,index:h.index,parentIndex:h.parentIndex||0,loyalInfo:[h.membershipQH,h.membershipVN].map(I=>({airline:h.membershipQH?"QH":"VN",membershipID:I})),setDefaultDocument:(0,gt.isEmpty)(h.documentType)||h.documentType===J.FV.NON_IDENTIFY,type:h.type}}}),invoiceInfo:{companyAddress:N?C:"",companyName:N?f:"",taxNumber:N?E:""}},totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(c=this.ticketCur)||void 0===c?void 0:c.totalPrice)||0,totalPrice:((null===(l=this.ticketCur)||void 0===l?void 0:l.totalPrice)||0)-this.amountDiscount-O.totalPromoBook,totalPromoBook:O.totalPromoBook},promoCodeBook:O.promoCodeBook,sessionSearchKey:this._helperStorageSvc.btcResultData.sessionSearchKey,clientKey:this._clientKeyBtcSvc.getClientKey()};this.isLoading=!0,this._bookingPaymentSvc.bookingPayment(G).pipe((0,lt.w)(h=>{var F,P;return h.data?this._addExtraInfoOrderSvc.addExtraInfoOrder({orderId:h.data.orderId,extraInfoText:JSON.stringify({ticketCur:(0,X.ZE)(this.ticketCur),search:this.searchData,dataBooking:{booking:h.data,bookingContact:G.bookingInfo.bookingContact,bookingPassengers:G.sendEmailInfo.bookingPassengers,invoiceInfo:G.bookingInfo.invoiceInfo},promoCodeBookingList:this.promoCodeBookingList.filter(Z=>Z.active)})}).pipe((0,at.U)(()=>h)):(this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:null===(P=null===(F=null==h?void 0:h.objectError)||void 0===F?void 0:F.errorDescription)||void 0===P?void 0:P.vi,sticky:!0}),(0,de.of)(h))})).subscribe({next:h=>{var F,P,Z,I,M;if(console.log(h),h&&h.data){const S=this.ticketCur.ticketSelected.map(b=>{var D,R,k;return{airline:null===(D=b.ticketData)||void 0===D?void 0:D.airline,priceTotal:b.priceTotalByPassenger-(b.ticketPriceList?null===(R=b.ticketPriceList)||void 0===R?void 0:R.reduce((H,Y)=>H+((null==Y?void 0:Y.discountAmount)*(null==Y?void 0:Y.quantity)||0),0):0),priceList:null===(k=b.ticketPriceList)||void 0===k?void 0:k.map(H=>({code:H.code,type:H.type,net_price:H.baseFare+H.surCharge-H.beService,services_fee:H.beService,discount_amount:H.discountAmount,total_price:H.totalFare-H.discountAmount*H.quantity,quantity:H.quantity}))}});this._eventLogService.captureCreateBookingPayment(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(F=this.searchData.journey[0])||void 0===F?void 0:F.startPoint,end_point:null===(P=this.searchData.journey[0])||void 0===P?void 0:P.endPoint,departure_date:this.searchData.journey&&this.searchData.journey[0].departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(b=>b.ticketData&&"IVS"===b.ticketData.provider)?1:0,priceLog:S,promotions:[...this.promoCodeBookingList.filter(b=>b.active),this.searchData.promotionCode?{type:"SEARCH",code:this.searchData.promotionCode,total:this.amountDiscount}:[]],price:this.ticketCur.ticketSelected.map(b=>{var D;const R=null===(D=b.ticketPriceList)||void 0===D?void 0:D.find(k=>"ADT"===k.code);return R?R.totalFare-R.discountAmount:0}),totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(Z=this.ticketCur)||void 0===Z?void 0:Z.totalPrice)||0,totalPrice:((null===(I=this.ticketCur)||void 0===I?void 0:I.totalPrice)||0)-this.amountDiscount-O.totalPromoBook,totalPromoBook:O.totalPromoBook}},null===(M=this._helperStorageSvc.btcCampaignData)||void 0===M?void 0:M.utmParams)),window.parent.postMessage({action:"redirect",url:"DEV"===this.appConfig.env?`/order-dev.html?id=${h.data.orderId}`:`/order.html?id=${h.data.orderId}`},"*")}},error:h=>{console.log(h),this._toastService.add({severity:"error",summary:"Th\u1ea5t b\u1ea1i",detail:h.objectError.errorDescription.vi,sticky:!0}),this.isLoading=!1},complete:()=>{this.isLoading=!1}}),this._helperStorageSvc.listPromoBookActived=this.promoCodeBookingList.filter(h=>h.active)}checkDuplicates(e){const n=new Set;return e.some(o=>!!n.has(o.parentIndex)||(n.add(o.parentIndex),!1))}getFormControlInArray(e,n){return e.controls[n]}navigateToPaxInfo(){window.parent.postMessage({action:"removeQuery",query:"pax-info"},"*")}progressAmountDiscount(){const e=this.ticketCur.ticketSelected.filter(n=>n.ticketData).map(n=>n.ticketData);this.amountDiscount=this._helperSvc.progressPriceList(this.searchData,e).filter(n=>n.discountAmount).reduce((n,o)=>n+o.discountAmount*o.quantity,0)}isElectronicInvoiceIssuanceChange(e,n){var o;n.preventDefault(),n.stopPropagation(),null===(o=this.form.get("isElectronicInvoiceIssuance"))||void 0===o||o.setValue(e)}openTerm(){if(this.isMobile){const e=this._bottomSheetSvc.open(ui,{headerTitle:"Quy \u0111\u1ecbnh khi mua v\xe9",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4"});e.containerInstance._rightButtonClick.subscribe(()=>this._bottomSheetSvc.dismiss()),e.afterDismissed().subscribe(n=>{var o;n&&(null===(o=this.form.get("isAgreeTerm"))||void 0===o||o.setValue(!0))})}else this._modal.open(ui,{}).afterClosed$.subscribe(n=>{var o;n.data&&(null===(o=this.form.get("isAgreeTerm"))||void 0===o||o.setValue(!0))})}handleBeforeUnload(e){var n,o,r,c,l,p,d;let g=this.passengers.value.some(f=>f.firstName||f.lastName||f.birthday);const y=this.ticketCur.ticketSelected.map(f=>{var E,T,N;return{airline:null===(E=f.ticketData)||void 0===E?void 0:E.airline,priceTotal:f.priceTotalByPassenger-(f.ticketPriceList?null===(T=f.ticketPriceList)||void 0===T?void 0:T.reduce((w,O)=>w+((null==O?void 0:O.discountAmount)*(null==O?void 0:O.quantity)||0),0):0),priceList:null===(N=f.ticketPriceList)||void 0===N?void 0:N.map(w=>({code:w.code,type:w.type,net_price:w.baseFare+w.surCharge-w.beService,services_fee:w.beService,discount_amount:w.discountAmount,total_price:w.totalFare-w.discountAmount*w.quantity,quantity:w.quantity}))}}),x=this.promoCodeBookingList.filter(f=>f.active),C={promoCodeBook:x.map(f=>f.code).join(","),totalPromoBook:x.reduce((f,E)=>f+E.discountByCondition,0)};this._eventLogService.inputPassengerInfoChurn(Object.assign({device_type:this.isMobile?"MOBILE":"DESKTOP",search_type:this.searchData.typeOfList===$.YI.Single?"OW":"RT",start_point:null===(n=this.searchData.journey[0])||void 0===n?void 0:n.startPoint,end_point:null===(o=this.searchData.journey[0])||void 0===o?void 0:o.endPoint,departure_date:null!==(r=this.searchData.journey)&&void 0!==r&&r.length&&null!==(c=this.searchData.journey[0])&&void 0!==c&&c.departDate?(0,Q.Z)(new Date(this.searchData.journey[0].departDate),"yyyy-MM-dd"):"",return_date:this.searchData.journey[1]&&this.searchData.journey[1].departDate?(0,Q.Z)(new Date(this.searchData.journey[1].departDate),"yyyy-MM-dd"):"",has_inventory_ticket:this.ticketCur.ticketSelected.find(f=>f.ticketData&&"IVS"===f.ticketData.provider)?1:0,is_null:g?1:0,priceLog:y,price:this.ticketCur.ticketSelected.map(f=>{var E;const T=null===(E=f.ticketPriceList)||void 0===E?void 0:E.find(N=>"ADT"===N.code);return T?T.totalFare-T.discountAmount:0}),totalCharge:{totalDiscount:this.amountDiscount,totalFare:(null===(l=this.ticketCur)||void 0===l?void 0:l.totalPrice)||0,totalPrice:((null===(p=this.ticketCur)||void 0===p?void 0:p.totalPrice)||0)-this.amountDiscount-C.totalPromoBook,totalPromoBook:C.totalPromoBook},promotions:[...this.promoCodeBookingList.filter(f=>f.active),this.searchData.promotionCode?{type:"SEARCH",code:this.searchData.promotionCode,total:this.amountDiscount}:[]]},null===(d=this._helperStorageSvc.btcCampaignData)||void 0===d?void 0:d.utmParams))}applyPromocode(){if(this.isErrorPromoCodeBook=!1,this.promoCodeBooking){if(!this.promoCodeBookingList.filter(n=>n.code===this.promoCodeBooking).length)return void(this.isErrorPromoCodeBook=!0);if(this.promoCodeBookingList.find(n=>n.active))return this._toastService.add({severity:"error",summary:"\xc1p d\u1ee5ng m\xe3 khuy\u1ebfn m\xe3i th\u1ea5t b\u1ea1i",detail:"M\xe3 khuy\u1ebfn m\xe3i \u0111\xe3 \xe1p d\u1ee5ng ho\u1eb7c kh\xf4ng \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng \u0111\u1ed3ng th\u1eddi",sticky:!1,contentStyleClass:"!p-3"}),void(this.promoCodeBooking="");this.promoCodeBookingList=this.promoCodeBookingList.map(n=>(n.code===this.promoCodeBooking&&(n.errorStr?(this._toastService.add({severity:"error",summary:"\xc1p d\u1ee5ng m\xe3 khuy\u1ebfn m\xe3i th\u1ea5t b\u1ea1i",detail:n.errorStr,sticky:!1,contentStyleClass:"!p-3"}),this.promoCodeBooking=""):(this._toastService.add({severity:"success",summary:"\xc1p d\u1ee5ng M\xe3 KM th\xe0nh c\xf4ng",detail:`m\xe3 khuy\u1ebfn m\xe3i ${this.promoCodeBooking} \u0111\u01b0\u1ee3c \xe1p d\u1ee5ng th\xe0nh c\xf4ng!`,sticky:!1,contentStyleClass:"!p-3"}),this.promoCodeBooking="",n.active=!n.active)),n))}}removePromoActive(e){this.promoCodeBookingList=this.promoCodeBookingList.map(n=>(n.code===e.code&&(n.active=!1),n))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(A.qu),t.Y36(st.oE),t.Y36(_.KNP),t.Y36(Sd.l),t.Y36(V.a2),t.Y36(yt.L),t.Y36(Od),t.Y36(rt._),t.Y36(Ct),t.Y36(ft.jH),t.Y36(Qt.x),t.Y36(vt.F0),t.Y36(m.Ye),t.Y36(xe),t.Y36(Rt.BX),t.Y36(Ud),t.Y36(Be),t.Y36(re.x),t.Y36(Rd),t.Y36(J.qB),t.Y36(pe.H7),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-pax"]],viewQuery:function(e,n){if(1&e&&t.Gf(jd,5),2&e){let o;t.iGM(o=t.CRH())&&(n.parentSelectInfants=o)}},hostBindings:function(e,n){1&e&&t.NdJ("beforeunload",function(r){return n.handleBeforeUnload(r)},!1,t.Jf7)},standalone:!0,features:[t.jDz],decls:167,vars:91,consts:[[1,"w-full","pb-20","h-screen","!h-[100svh]","relative",3,"formGroup"],[1,"px-4","pt-6","w-full","max-w-[1366px]","mx-auto","relative","flex","md:flex-col","gap-6","md:gap-4"],[1,"flex-1","flex","flex-col","gap-8","md:gap-0","md:shadow-lg"],[1,"flex","flex-col","gap-4","md:gap-0","md:shadow-lg"],[1,"flex","justify-between","items-center","md:bg-neutral-white","md:py-4","md:pr-3","md:mb-0","md:shadow-lg"],[1,"flex","gap-x-[10px]","md:gap-[6px]","pl-2"],["src","/assets/images/b2c/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4","md:text-espressive-lg","md:normal-case"],["cf-button","","size","medium","type","secondary",1,"bg-white","flex","gap-x-2","md:hidden",3,"click","keydown"],["icon","grouping","size","small"],[1,"items-center","gap-x-0.5","hidden","md:flex",3,"click"],[1,"text-body-md"],[1,"flex","flex-col","gap-2"],["formArrayName","passengers"],["class","bg-white shadow-lg rounded",4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","md:bg-neutral-white","md:py-4","md:pr-3","md:mb-0"],[1,"p-6","bg-white","rounded","shadow-cf-md"],[1,"grid","grid-cols-2","gap-4","md:grid-cols-1"],["data-id","phonePrefix",1,"md:start"],["controlElement",""],["textField","name","valueField","code","placeholder","M\xe3 v\xf9ng","formControlName","phonePrefix",1,"grow-[400]","!w-full","!max-w-full",3,"status","data","allowSearch"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],[3,"CfRequired"],["cfHint","",3,"hint",4,"ngIf"],["data-id","phone",1,""],[1,"grow-[400]","!w-full",3,"tooltipContent","status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111i\u1ec7n tho\u1ea1i","formControlName","phone","CfNumberic",""],["data-id","email",1,"md:col-span-2"],[1,"grow-[400]","!w-full",3,"status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp email","formControlName","email"],[1,"w-full","bg-white","border","border-neutral-gray-3","border-dashed","rounded","mt-4","shadow-lg"],[3,"title","active","contentClass","panelClass"],["titleTemplate",""],[1,"flex","flex-col","gap-4","p-4"],[1,"flex","items-center","cursor-pointer",3,"click"],["size","medium",3,"checked"],[1,"text-body-md-short","text-neutral-black"],[1,"mt-3","rounded-lg","bg-neutral-white","gap-y-2","grid","grid-cols-2","gap-4"],["data-id","taxNumber",1,"md:col-span-2"],[1,"grow-[400]","!w-full",3,"ngClass","status"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp m\xe3 s\u1ed1 thu\u1ebf c\xf4ng ty","formControlName","taxNumber"],["data-id","companyName",1,"md:col-span-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp t\xean c\xf4ng ty","formControlName","companyName"],["data-id","companyAddress",1,"md:col-span-2","col-span-2"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp \u0111\u1ecba ch\u1ec9 c\xf4ng ty","formControlName","companyAddress"],[1,"text-body-md-short","from-neutral-gray-6"],[1,"list-disc","pl-6","text-body-md-short","from-neutral-gray-6"],["class","flex items-center md:my-4 md:hidden",3,"ngClass",4,"ngIf"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","md:max-w-full","rounded-xl","md:rounded-none"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","md:rounded-none","rounded-xl","flex","flex-col","gap-6","h-fit","md:static","md:max-w-full","sticky","top-0"],[1,"bg-neutral-white","rounded-xl","md:rounded-none","shadow-lg"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail","reselectClick",4,"ngIf"],[1,"p-4","flex","flex-col","divide-y","divide-neutral-gray-4"],[1,""],[4,"ngIf"],[1,"flex","flex-col","gap-2","pt-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs","mb-1"],["class","flex justify-between",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"flex","justify-between","items-center","py-3","px-4","md:rounded-none","rounded-b-xl","border-t","border-neutral-gray-1"],[1,"text-heading-md","text-neutral-black"],[1,"flex","flex-col","gap-3"],[1,"text-espressive-md","font-medium","text-neutral-black"],[1,"flex","flex-col","gap-1"],[1,"flex","w-full","bg-white","rounded-lg","border","border-neutral-gray-3","p-1","justify-between","items-center","gap-2"],[4,"ngIf","ngIfElse"],["nonPromoDataTpl",""],["cf-button","","type","solid","size","small",1,"min-w-[100px]","justify-center",3,"disabled","click"],["class","pl-2 text-neutral-gray-5 font-normal text-espressive-md",4,"ngIf"],["cfHint","","class","text-red-4 text-body-sm font-normal",3,"hint",4,"ngIf"],[1,"md:flex","items-center","md:my-4","hidden",3,"ngClass"],["formControlName","isAgreeTerm","size","medium",3,"checked","ngClass"],[1,"text-body-md-short","text-neutral-black",3,"ngClass"],[1,"text-primary-400","cursor-pointer",3,"click"],[1,"fixed","w-full","bg-white","flex","justify-between","bottom-0","left-0","right-0","py-[14px]","px-[30px]","md:gap-4"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap","md:flex-1","justify-center",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[200px]","md:flex-1","justify-center",3,"click"],["icon","switch","size","small",1,"mr-2.5"],[1,"bg-white","shadow-lg","rounded"],[3,"formGroupName","ngClass"],[1,"w-full","hidden","md:block"],[3,"title","active"],[3,"ngTemplateOutlet"],[1,"p-6","bg-white","rounded","shadow-cf-md","md:hidden"],["adultPax",""],["class","text-heading-xs text-neutral-gray-6",4,"ngIf"],[1,"text-heading-xs","text-neutral-gray-6"],["class","mb-4 text-heading-xs text-black md:hidden",4,"ngIf"],[1,"flex","gap-y-4","flex-col"],[1,"grid","gap-4","md:grid-cols-1",3,"ngClass"],[1,"!w-full",3,"status"],["cf-input","","size","medium","autocomplete","off","formControlName","lastName","placeholder","Nh\u1eadp h\u1ecd","type","text",3,"blur"],[1,"",3,"ngClass"],["cf-input","","size","medium","autocomplete","off","formControlName","firstName","placeholder","Nh\u1eadp t\xean \u0111\u1ec7m v\xe0 t\xean",3,"blur"],["textField","name","valueField","code","formControlName","gender","placeholder","Ch\u1ecdn gi\u1edbi t\xednh",1,"md:w-full","max-w-full","!w-full","md:max-w-none",3,"status","data","allowSearch"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5",3,"CfRequired"],["cfHeadIcon","","icon","calendar","size","small"],[1,"text-neutral-gray-4","text-espressive-sm"],["autocomplete","off","type","text","size","medium","cf-input","","formControlName","birthday","inputmode","numeric","placeholder","dd/mm/yyyy",1,"py-[8px]",3,"blur","input"],["class","",4,"ngIf"],["class","border-t border-neutral-gray-1 mt-4",4,"ngIf"],["class","w-full border border-neutral-gray-3 border-dashed rounded",4,"ngIf"],[1,"mb-4","text-heading-xs","text-black","md:hidden"],["cfHint","",3,"hint"],["textField","name","valueField","code","formControlName","parentIndex","placeholder","Thu\u1ed9c h\xe0nh kh\xe1ch ng\u01b0\u1eddi l\u1edbn",1,"md:w-full","max-w-full","!w-full","md:max-w-none",3,"status","data","allowSearch"],["parentSelectInfant",""],[1,"border-t","border-neutral-gray-1","mt-4"],[1,"flex","flex-col","gap-y-1.5","pt-4"],["cfLabel","",1,"text-espressive-sm","text-black",3,"CfRequired"],[1,"flex","flex-col","gap-y-4"],["formControlName","documentType",1,"flex","items-center","gap-x-8",3,"checkChange"],["size","medium",3,"disabled","value"],["size","medium",3,"value"],["class","grid grid-cols-2 gap-4 md:grid-cols-1",4,"ngIf"],["class","text-body-sm",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","CfNumberic","","formControlName","cccdNumber","placeholder","Nh\u1eadp s\u1ed1 c\u0103n c\u01b0\u1edbc c\xf4ng d\xe2n"],["cf-input","","size","medium","autocomplete","off","formControlName","number","CfRemoveAccents","","placeholder","Nh\u1eadp s\u1ed1 h\u1ed9 chi\u1ebfu","type","text"],["textField","name","valueField","code","placeholder","Ch\u1ecdn qu\u1ed1c t\u1ecbch","formControlName","nationality",1,"md:w-full","md:max-w-none","!max-w-full",3,"status","data","allowSearch"],["textField","name","valueField","code","placeholder","Ch\u1ecdn n\u01a1i c\u1ea5p","formControlName","issuanceCountry",1,"md:w-full","md:max-w-none","!max-w-full",3,"data","status","allowSearch"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y c\u1ea5p","formControlName","issuanceDate",1,"py-[7px]",3,"secondaryCalendar","displayMonths","maxDate","input","dateSelect"],["issuanceDatepicker","cfDatepicker"],["autocomplete","off","cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Nh\u1eadp ng\xe0y h\u1ebft h\u1ea1n","formControlName","expiryDate",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","input","dateSelect"],["expiryDatepicker","cfDatepicker"],[1,"text-body-sm","mt-1.5"],[1,"text-body-sm"],[1,"w-full","border","border-neutral-gray-3","border-dashed","rounded"],[1,"flex","gap-x-4"],[1,"grow-[400]","!w-full"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5","flex","gap-1","items-center"],["src","/assets/airline-logo/QH_small.png","alt","logo qh ",1,"w-[32px]","h-[20px]"],["cf-input","","size","medium","autocomplete","off","formControlName","membershipQH","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean"],["src","/assets/airline-logo/VN_small.png","alt","logo vna ",1,"w-[32px]","h-[20px]"],["cf-input","","size","medium","autocomplete","off","formControlName","membershipVN","placeholder","Nh\u1eadp th\u1ebb h\xe0nh kh\xe1ch th\u01b0\u1eddng xuy\xean"],[1,"text-body-md","flex","gap-x-2","items-center"],["icon","document","size","small"],[1,"text-espressive-md-short","text-neutral-gray-6","flex","gap-2","items-center"],[1,"flex","items-center","md:my-4","md:hidden",3,"ngClass"],[3,"searchInput","ticketCur","showDetail","reselectClick"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"flex","flex-col","divide-y","divide-neutral-gray-4"],[1,"flex","flex-col","gap-3","pb-3"],[1,"text-neutral-gray-6","font-medium","text-heading-xs"],["class","flex justify-between gap-2 items-center",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-3","py-3"],[1,"flex","justify-between","gap-2","items-center"],[1,"text-neutral-gray-5","text-body-md-short"],[1,"text-neutral-gray-6","font-medium","text-body-md","whitespace-normal"],[1,"flex","flex-col","gap-2","py-3"],[1,"flex","justify-between"],["class","flex gap-[6px] py-[2px] px-1 items-center text-body-md bg-[#d9d9d9] rounded-md",4,"ngFor","ngForOf"],[1,"flex","gap-[6px]","py-[2px]","px-1","items-center","text-body-md","bg-[#d9d9d9]","rounded-md"],["icon","close","size","small",1,"cursor-pointer",3,"click"],["placeholder","Nh\u1eadp m\xe3 khuy\u1ebfn m\xe3i",1,"w-full","border-none","outline-none","text-body-md","pl-2",3,"ngModel","ngModelOptions","ngClass","ngModelChange"],[1,"pl-2","text-neutral-gray-5","font-normal","text-espressive-md"],["cfHint","",1,"text-red-4","text-body-sm","font-normal",3,"hint"],["class","border border-yellow-3 cursor-pointer bg-white flex justify-between items-center gap-3 rounded-xl p-[10px]",3,"click",4,"ngIf"],[1,"border","border-yellow-3","cursor-pointer","bg-white","flex","justify-between","items-center","gap-3","rounded-xl","p-[10px]",3,"click"],[1,"flex","gap-2","items-center"],[1,"relative","-rotate-45"],["width","53","height","53","viewBox","0 0 53 53","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M26.5 0L32.3299 4.74252L39.75 3.55033L42.4276 10.5724L49.4497 13.25L48.2575 20.6701L53 26.5L48.2575 32.3299L49.4497 39.75L42.4276 42.4276L39.75 49.4497L32.3299 48.2575L26.5 53L20.6701 48.2575L13.25 49.4497L10.5724 42.4276L3.55033 39.75L4.74252 32.3299L0 26.5L4.74252 20.6701L3.55033 13.25L10.5724 10.5724L13.25 3.55033L20.6701 4.74252L26.5 0Z","fill","#FFD255"],[1,"absolute","top-1/2","left-1/2","transform","-translate-x-1/2","-translate-y-1/2","text-express-md","font-semibold","text-[#0B2888]"],[1,"flex","flex-col","justify-between"],[1,"text-body-sm","font-medium","overflow-hidden","whitespace-nowrap","w-40","flex"],[1,"inline-block","truncate","w-full","!font-[roboto]",3,"innerHTML"],[1,"text-heading-sm"],[1,"text-neutral-gray-5","text-body-sm"],[1,"flex","items-center","justify-center","p-2","rounded-full","bg-green-1"],["size","small",1,"text-green-3",3,"icon"]],template:function(e,n){if(1&e&&(t.TgZ(0,"form",0),t._UZ(1,"header-btc"),t.TgZ(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),t._UZ(7,"img",6),t.TgZ(8,"div",7),t._uU(9,"Th\xf4ng tin h\xe0nh kh\xe1ch"),t.qZA()(),t.TgZ(10,"div")(11,"button",8),t.NdJ("click",function(){return n.quickParseInfo()})("keydown",function(r){return n.onKeydown(r)}),t._UZ(12,"cf-icon",9),t.TgZ(13,"span"),t._uU(14,"Nh\u1eadp nhanh th\xf4ng tin"),t.qZA()(),t.TgZ(15,"div",10),t.NdJ("click",function(){return n.quickParseInfo()}),t._UZ(16,"cf-icon",9),t.TgZ(17,"div",11),t._uU(18,"Nh\u1eadp nhanh"),t.qZA()()()(),t.TgZ(19,"div",12),t.ynx(20,13),t.YNc(21,y_,11,6,"div",14),t.BQk(),t.qZA()(),t.TgZ(22,"div",3)(23,"div",15)(24,"div",5),t._UZ(25,"img",6),t.TgZ(26,"div",7),t._uU(27,"Th\xf4ng tin li\xean h\u1ec7"),t.qZA()()(),t.TgZ(28,"div",16)(29,"div",17)(30,"div",18,19)(32,"cf-select",20)(33,"label",21)(34,"span",22),t._uU(35,"M\xe3 v\xf9ng"),t.qZA()(),t.YNc(36,C_,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(37,"div",24,19)(39,"cf-input-group",25),t.ALo(40,"mapper"),t.TgZ(41,"label",21)(42,"span",22),t._uU(43,"\u0110i\u1ec7n tho\u1ea1i"),t.qZA()(),t._UZ(44,"input",26),t.YNc(45,T_,1,1,"cf-input-hint",23),t.YNc(46,b_,1,1,"cf-input-hint",23),t.YNc(47,k_,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(48,"div",27,19)(50,"cf-input-group",28)(51,"label",21)(52,"span",22),t._uU(53,"Email"),t.qZA()(),t._UZ(54,"input",29),t.YNc(55,E_,1,1,"cf-input-hint",23),t.YNc(56,D_,1,1,"cf-input-hint",23),t.qZA()()()()(),t.TgZ(57,"cf-collapse",30)(58,"cf-collapse-panel",31),t.YNc(59,A_,3,0,"ng-template",null,32,t.W1O),t.TgZ(61,"div",33)(62,"div",34),t.NdJ("click",function(r){return n.isElectronicInvoiceIssuanceChange(!n.form.value.isElectronicInvoiceIssuance,r)}),t._UZ(63,"cf-checkbox",35),t.TgZ(64,"div",36),t._uU(65," C\xf3 xu\u1ea5t h\xf3a \u0111\u01a1n VAT "),t.qZA()(),t.TgZ(66,"div",37)(67,"div",38,19)(69,"cf-input-group",39)(70,"label",21)(71,"span",22),t._uU(72,"M\xe3 s\u1ed1 thu\u1ebf"),t.qZA()(),t._UZ(73,"input",40),t.YNc(74,Z_,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(75,"div",41,19)(77,"cf-input-group",39)(78,"label",21)(79,"span",22),t._uU(80,"T\xean c\xf4ng ty"),t.qZA()(),t._UZ(81,"input",42),t.YNc(82,B_,1,1,"cf-input-hint",23),t.qZA()(),t.TgZ(83,"div",43,19)(85,"cf-input-group",39)(86,"label",21)(87,"span",22),t._uU(88,"\u0110\u1ecba ch\u1ec9 c\xf4ng ty"),t.qZA()(),t._UZ(89,"input",44),t.YNc(90,w_,1,1,"cf-input-hint",23),t.qZA()()(),t.TgZ(91,"div",45)(92,"div",45),t._uU(93," * Ch\xfa \xfd "),t.qZA(),t.TgZ(94,"ul",46)(95,"li"),t._uU(96," Qu\xfd kh\xe1ch vui l\xf2ng nh\u1eadp ti\u1ebfng Vi\u1ec7t c\xf3 d\u1ea5u \u0111\u1ec3 tr\xe1nh vi\u1ec7c xu\u1ea5t h\xf3a \u0111\u01a1n b\u1ecb sai s\xf3t "),t.qZA(),t.TgZ(97,"li"),t._uU(98," Qu\xfd kh\xe1ch c\xf3 nhu c\u1ea7u l\u1ea5y h\xf3a \u0111\u01a1n gi\xe1 tr\u1ecb gia t\u0103ng ph\u1ea3i y\xeau c\u1ea7u v\u1edbi GMBR trong v\xf2ng 24h sau khi thanh to\xe1n "),t.qZA(),t.TgZ(99,"li"),t._uU(100," N\u1ebfu qu\xe1 h\u1ea1n GMBR s\u1ebd kh\xf4ng xu\u1ea5t l\u1ea1i h\xf3a \u0111\u01a1n. Do \u0111\xf3, n\u1ebfu c\xf3 nhu c\u1ea7u xu\u1ea5t h\xf3a \u0111\u01a1n, qu\xfd kh\xe1ch vui l\xf2ng cung c\u1ea5p \u0111\u1ea7y \u0111\u1ee7 v\xe0 ch\xednh x\xe1c th\xf4ng tin t\u1ea1i \u0111\xe2y ho\u1eb7c g\u1eedi email v\u1ec1 giacmobayre@gmail.com "),t.qZA(),t.TgZ(101,"li"),t._uU(102," H\xf3a \u0111\u01a1n \u0111i\u1ec7n t\u1eed s\u1ebd \u0111\u01b0\u1ee3c g\u1eedi v\u1ec1 email \u1edf ph\u1ea7n th\xf4ng tin li\xean h\u1ec7 "),t.qZA()()()()()(),t.YNc(103,I_,7,10,"div",47),t.qZA(),t.TgZ(104,"div",48)(105,"div",49)(106,"div",50)(107,"div",51)(108,"div",52),t._uU(109,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(110,"div"),t.YNc(111,S_,1,2,"btc-ticket-sticky-selected",53),t.qZA()(),t.TgZ(112,"div",50)(113,"div",51)(114,"div",52),t._uU(115,"Chi ti\u1ebft thanh to\xe1n"),t.qZA()(),t.TgZ(116,"div",54)(117,"div",55),t.YNc(118,M_,4,2,"ng-container",56),t.qZA(),t.TgZ(119,"div",57)(120,"div",58),t._uU(121," Gi\u1ea3m gi\xe1 "),t.qZA(),t.YNc(122,U_,7,7,"div",59),t.ALo(123,"mapper"),t.YNc(124,L_,2,1,"ng-container",60),t.qZA()(),t.TgZ(125,"div",61)(126,"div",52),t._uU(127,"T\u1ed5ng thanh to\xe1n:"),t.qZA(),t.TgZ(128,"div",62),t._uU(129),t.ALo(130,"replace"),t.ALo(131,"number"),t.ALo(132,"mapper"),t.qZA()()(),t.TgZ(133,"div",63)(134,"div",12)(135,"div",64),t._uU(136," M\xe3 khuy\u1ebfn m\xe3i "),t.qZA(),t.TgZ(137,"div",65)(138,"div",66),t.YNc(139,j_,2,1,"ng-container",67),t.ALo(140,"mapper"),t.YNc(141,H_,1,6,"ng-template",null,68,t.W1O),t.TgZ(143,"button",69),t.NdJ("click",function(){return n.applyPromocode()}),t.ALo(144,"mapper"),t._uU(145," \xc1p d\u1ee5ng "),t.qZA()(),t.YNc(146,V_,2,0,"div",70),t.ALo(147,"mapper"),t.YNc(148,G_,1,1,"cf-input-hint",71),t.qZA(),t.YNc(149,$_,2,1,"ng-container",60),t.qZA()()()(),t.TgZ(150,"div",72),t._UZ(151,"cf-checkbox",73),t.TgZ(152,"div",74),t._uU(153," T\xf4i \u0111\u1ed3ng \xfd v\u1edbi c\xe1c "),t.TgZ(154,"span",75),t.NdJ("click",function(){return n.openTerm()}),t._uU(155," quy \u0111\u1ecbnh \u0111\u1eb7t v\xe9 "),t.qZA(),t._uU(156," c\u1ee7a GMBR "),t.qZA()()(),t._UZ(157,"footer-btc"),t.TgZ(158,"div",76,19)(160,"button",77),t.NdJ("click",function(){return n.navigateToPaxInfo()}),t._UZ(161,"cf-icon",78),t._uU(162," Ch\u1ecdn l\u1ea1i "),t.qZA(),t.TgZ(163,"button",79),t.NdJ("click",function(){return n.bookTicket()}),t._UZ(164,"cf-icon",80),t._uU(165," \u0110\u1eb7t v\xe9 "),t.qZA()()(),t.YNc(166,z_,1,0,"cf-spinner",56)),2&e){const o=t.MAs(31),r=t.MAs(60),c=t.MAs(142);let l,p,d,g,y,x,C,f,E,T,N,w,O,G,h;t.Q6J("formGroup",n.form),t.xp6(2),t.Udp("padding-bottom",(null==o?null:o.offsetHeight)||66,"px"),t.xp6(19),t.Q6J("ngForOf",n.passengers.controls),t.xp6(11),t.Q6J("status",null!=(l=n.form.get("phonePrefix"))&&l.invalid&&(null!=(l=n.form.get("phonePrefix"))&&l.dirty||null!=(l=n.form.get("phonePrefix"))&&l.touched)?"error":"default")("data",n.optionsAreaCode)("allowSearch",!0),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(2),t.Q6J("ngIf",n.form.controls.phonePrefix.hasError("required")&&(n.form.controls.phonePrefix.touched||n.form.controls.phonePrefix.dirty)),t.xp6(3),t.Q6J("tooltipContent",t.Dn7(40,53,n.ticketCur,n.checkAirline,t.DdM(78,W_))?"Theo quy ch\u1ebf ban h\xe0nh b\u1edfi VietJet Air, sdt khi \u0111\u1eb7t v\xe9 b\u1eaft bu\u1ed9c ph\u1ea3i c\u1ee7a kh\xe1ch h\xe0ng":"")("status",n.form.controls.phone.invalid&&(n.form.controls.phone.dirty||n.form.controls.phone.touched)?"error":"default"),t.xp6(3),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",n.form.controls.phone.hasError("required")&&(n.form.controls.phone.touched||n.form.controls.phone.dirty)),t.xp6(1),t.Q6J("ngIf",n.form.controls.phone.hasError("minlength")&&(n.form.controls.phone.touched||n.form.controls.phone.dirty)),t.xp6(1),t.Q6J("ngIf",n.form.controls.phone.hasError("maxlength")&&(n.form.controls.phone.touched||n.form.controls.phone.dirty)),t.xp6(3),t.Q6J("status",n.form.controls.email.invalid&&(n.form.controls.email.dirty||n.form.controls.email.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(p=n.form.get("email"))?null:p.hasError("required"))&&((null==(p=n.form.get("email"))?null:p.touched)||(null==(p=n.form.get("email"))?null:p.dirty))),t.xp6(1),t.Q6J("ngIf",(null==(d=n.form.get("email"))?null:d.hasError("email"))&&((null==(d=n.form.get("email"))?null:d.touched)||(null==(d=n.form.get("email"))?null:d.dirty))),t.xp6(2),t.Q6J("title",r)("active",!1)("contentClass","!p-0 bg-transparent")("panelClass","!p-3 bg-neutral-white rounded-lg"),t.xp6(5),t.Q6J("checked",n.form.value.isElectronicInvoiceIssuance),t.xp6(6),t.Q6J("ngClass",t.VKq(79,_e,null==(g=n.form.get("taxNumber"))?null:g.disabled))("status",null!=(y=n.form.get("taxNumber"))&&y.invalid&&(null!=(y=n.form.get("taxNumber"))&&y.dirty||null!=(y=n.form.get("taxNumber"))&&y.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(x=n.form.get("taxNumber"))?null:x.errors)&&((null==(x=n.form.get("taxNumber"))?null:x.dirty)||(null==(x=n.form.get("taxNumber"))?null:x.touched))),t.xp6(3),t.Q6J("ngClass",t.VKq(81,_e,null==(C=n.form.get("companyName"))?null:C.disabled))("status",null!=(f=n.form.get("companyName"))&&f.invalid&&(null!=(f=n.form.get("companyName"))&&f.dirty||null!=(f=n.form.get("companyName"))&&f.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(E=n.form.get("companyName"))?null:E.errors)&&((null==(E=n.form.get("companyName"))?null:E.dirty)||(null==(E=n.form.get("companyName"))?null:E.touched))),t.xp6(3),t.Q6J("ngClass",t.VKq(83,_e,null==(T=n.form.get("companyAddress"))?null:T.disabled))("status",null!=(N=n.form.get("companyAddress"))&&N.invalid&&(null!=(N=n.form.get("companyAddress"))&&N.dirty||null!=(N=n.form.get("companyAddress"))&&N.touched)?"error":"default"),t.xp6(2),t.Q6J("CfRequired",!0),t.xp6(3),t.Q6J("ngIf",(null==(w=n.form.get("companyAddress"))?null:w.errors)&&((null==(w=n.form.get("companyAddress"))?null:w.dirty)||(null==(w=n.form.get("companyAddress"))?null:w.touched))),t.xp6(13),t.Q6J("ngIf",!n.isMobile),t.xp6(8),t.Q6J("ngIf",n.ticketCur),t.xp6(7),t.Q6J("ngIf",null==n.ticketCur.ticketSelected?null:n.ticketCur.ticketSelected.length),t.xp6(4),t.Q6J("ngIf",t.xi3(123,57,n.ticketCur.ticketSelected,n.amountDiscountTotal)),t.xp6(2),t.Q6J("ngForOf",n.promoCodeBookingList),t.xp6(5),t.hij(" ",t.Dn7(130,60,t.lcZ(131,64,((null==n.ticketCur?null:n.ticketCur.totalPrice)||0)-n.amountDiscount-t.xi3(132,66,n.promoCodeBookingList,n.amountDiscountPromoBooking)),",",".")," \u0111 "),t.xp6(10),t.Q6J("ngIf",t.xi3(140,69,n.promoCodeBookingList,n.listPromoActives))("ngIfElse",c),t.xp6(4),t.Q6J("disabled",!!t.xi3(144,72,n.promoCodeBookingList,n.listPromoActives)),t.xp6(3),t.Q6J("ngIf",t.xi3(147,75,n.promoCodeBookingList,n.listPromoActives)),t.xp6(2),t.Q6J("ngIf",n.isErrorPromoCodeBook),t.xp6(1),t.Q6J("ngForOf",n.promoCodeBookingList),t.xp6(1),t.Q6J("ngClass",t.VKq(85,pi,((null==(O=n.form.get("isAgreeTerm"))?null:O.touched)||(null==(O=n.form.get("isAgreeTerm"))?null:O.dirty))&&!(null!=n.form.value&&n.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("checked",null==n.form.value?null:n.form.value.isAgreeTerm)("ngClass",t.VKq(87,di,((null==(G=n.form.get("isAgreeTerm"))?null:G.touched)||(null==(G=n.form.get("isAgreeTerm"))?null:G.dirty))&&!(null!=n.form.value&&n.form.value.isAgreeTerm))),t.xp6(1),t.Q6J("ngClass",t.VKq(89,_i,((null==(h=n.form.get("isAgreeTerm"))?null:h.touched)||(null==(h=n.form.get("isAgreeTerm"))?null:h.dirty))&&!(null!=n.form.value&&n.form.value.isAgreeTerm))),t.xp6(14),t.Q6J("ngIf",n.isLoading)}},dependencies:[m.ez,m.mk,m.sg,m.O5,m.tP,m.RF,m.n9,m.ED,m.JJ,j.N8,j.Xq,_.AxE,_.Sm8,jt,nt.AS,A.UX,A._Y,A.Fj,A.JJ,A.JL,A.sg,A.u,A.x0,A.CE,Zt.B,Zt.K,ct.j$,ct.ND,ct.BN,ct.v2,gd.q,he.C,ft.Cs,tt.q,fe.OR,It.T,It.o,V.DW,Ge.u,A.u5,A.On,ee.s,te.Q],styles:[".animationShake[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-1px,-1px)}50%{transform:translate(1px,1px)}75%{transform:translate(-1px,-1px)}}"]}),i})();var Lt=(()=>{return(i=Lt||(Lt={})).TRANSFER="TRANSFER",i.ATM="ATM",i.VISA="VISA",Lt;var i})();function t0(i,a){if(1&i&&(t.TgZ(0,"div",43),t._UZ(1,"cf-icon",44),t.TgZ(2,"span",45),t._uU(3),t.qZA()()),2&i){const e=a.ngIf;t.Q6J("ngClass",e.bgColor),t.xp6(1),t.Q6J("icon",e.icon),t.xp6(2),t.hij(" ",e.name," ")}}function e0(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"btc-ticket-sticky-selected",46),t.NdJ("showDetail",function(o){t.CHM(e);const r=t.oxw();return t.KtG(r.showDetail(o))}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("searchInput",e.searchData)("ticketCur",e.ticketCur)}}let i0=(()=>{class i{constructor(e,n){this._modal=e,this.cfIconRegister=n,this.changeStep=new t.vpe,this.configStatus={wait:{name:"Ch\u1edd thanh to\xe1n",icon:"clock",bgColor:"bg-yellow-4"},processing:{name:"\u0110\xe3 thanh to\xe1n (\u0111ang x\u1eed l\xfd v\xe9)",icon:"money",bgColor:"bg-blue-3"},cancel:{name:"\u0110\xe3 h\u1ee7y",icon:"clicle-error",bgColor:"bg-gray-4"},success:{name:"\u0110\u1eb7t v\xe9 th\xe0nh c\xf4ng",icon:"circle-check",bgColor:"bg-green-3"},fail:{name:"\u0110\u1eb7t v\xe9 th\u1ea5t b\u1ea1i",icon:"circle-warning",bgColor:"bg-red-3"},refund:{name:"\u0110\xe3 ho\xe0n ti\u1ec1n",icon:"profit",bgColor:"bg-purple-3"}},this.paymentMethod=Lt.TRANSFER,this.PAYMENT_METHOD_OPTION=Lt,this.cfIconRegister.registerIcons([_.gW0,_.qDv,_.o1t,_.P5K,_.PcQ,_.PcQ,_.Gey,_.B2I,_.UNF,_.glu])}showDetail(e){this._modal.open(At,{ticketCur:this.ticketCur,dataSearch:this.searchData,index:e})}payTicket(){this.changeStep.emit(!0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(st.oE),t.Y36(_.KNP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-payment"]],inputs:{searchData:"searchData",ticketCur:"ticketCur"},outputs:{changeStep:"changeStep"},standalone:!0,features:[t.jDz],decls:105,vars:20,consts:[[1,"w-full","h-screen","pb-20","pt-6","overflow-auto"],[1,"px-4","w-full","max-w-[1366px]","mx-auto","relative","flex","gap-6"],[1,"flex-1","flex","flex-col","gap-8"],[1,"flex","gap-x-[10px]"],["src","/assets/images/b2c/flight-minimum.svg"],[1,"text-heading-md","uppercase","font-bold","text-red-4"],[1,"flex","flex-col","gap-2","w-full"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","flex-col","gap-4"],[1,"flex","gap-2","items-center","text-neutral-gray-6","text-heading-sm","font-medium"],["icon","circle_information","size","small"],[1,"flex"],[1,"flex","flex-col","justify-between","pr-[30px]","border-r","border-dashed","border-neutral-gray-3"],[1,"text-body-md"],[1,"font-semibold","text-heading-lg"],[1,"flex","flex-col","justify-between","px-[30px]","border-r","border-dashed","border-neutral-gray-3"],[1,"flex-1","flex","flex-col","justify-between","pl-[30px]"],["class","py-1 px-2 rounded-full w-fit gap-1 h-fit flex items-center justify-center",3,"ngClass",4,"ngIf"],[1,"w-full","rounded","bg-purple-1","py-[6px]","px-3","text-neutral-gray-6"],[1,"bg-white","shadow-lg","rounded","py-4","px-6","flex","flex-col","gap-6"],[1,"flex","flex-col","gap-x-8","justify-start","gap-y-6",3,"ngModel","ngModelChange"],["size","medium",1,"config-radio",3,"value"],[1,"flex","gap-3"],["src","/assets/bank-logo/qr.svg",1,"w-10","h-10"],[1,"flex","flex-col","gap-2"],[1,"flex","gap-3","items-center","py-3"],[1,"text-white","bg-neutral-gray-4","py-[2px]","px-1","rounded","text-body-sm"],[1,"bg-neutral-gray-2","rounded","py-[6px]","px-3"],["src","/assets/bank-logo/atm.svg",1,"w-10","h-10"],[1,"text-white","bg-blue-3","py-[2px]","px-1","rounded","text-body-sm"],["src","/assets/bank-logo/visa.svg",1,"w-10","h-10"],[1,"min-w-[248px]","max-w-[302px]","w-full","mr-auto","rounded-xl"],[1,"min-w-[248px]","w-full","max-w-[302px]","flex-shrink-0","rounded-xl","shadow-lg","h-fit","md:hidden","sticky","top-0"],[1,"bg-neutral-white","rounded-xl"],[1,"flex","justify-between","items-center","py-3","px-4","border-b","border-neutral-gray-2"],[1,"text-espressive-sm","text-neutral-black"],[3,"searchInput","ticketCur","showDetail",4,"ngIf"],[1,"flex","justify-between","items-center","py-3","px-4","rounded-b-xl"],[1,"text-heading-md","text-neutral-black"],[1,"fixed","w-full","bg-white","flex","justify-between","bottom-0","left-0","right-0","py-[14px]","px-[30px]"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap",3,"click"],["icon","close","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"whitespace-nowrap","w-[200px]","md:w-full","justify-center",3,"click"],["icon","shopping_cart","size","small",1,"mr-2.5"],[1,"py-1","px-2","rounded-full","w-fit","gap-1","h-fit","flex","items-center","justify-center",3,"ngClass"],["size","small",1,"text-white",3,"icon"],[1,"text-neutral-white","text-body-sm"],[3,"searchInput","ticketCur","showDetail"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"img",4),t.TgZ(5,"div",5),t._uU(6,"Chi ti\u1ebft \u0111\u01a1n h\xe0ng"),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"div",8),t._UZ(10,"cf-icon",9),t._uU(11," T\u1ed5ng quan \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(12,"div",10)(13,"div",11)(14,"div",12),t._uU(15," M\xe3 \u0111\u01a1n h\xe0ng "),t.qZA(),t.TgZ(16,"div",13),t._uU(17," HNZFGK "),t.qZA()(),t.TgZ(18,"div",14)(19,"div",12),t._uU(20," T\u1ed5ng ti\u1ec1n (\u0111\xe3 g\u1ed3m VAT) "),t.qZA(),t.TgZ(21,"div",13),t._uU(22),t.ALo(23,"replace"),t.ALo(24,"number"),t.qZA()(),t.TgZ(25,"div",15)(26,"div",12),t._uU(27," T\xecnh tr\u1ea1ng "),t.qZA(),t.TgZ(28,"div",13),t.YNc(29,t0,4,3,"div",16),t.qZA()()(),t.TgZ(30,"div",17)(31,"div"),t._uU(32," 1. Qu\xfd kh\xe1ch vui l\xf2ng ti\u1ebfn h\xe0nh thanh to\xe1n, \u0111\u01a1n h\xe0ng s\u1ebd h\u1ebft h\u1ea1n n\u1ebfu kh\xf4ng thanh to\xe1n tr\u01b0\u1edbc th\u1eddi gian 30/08/2024. "),t.qZA(),t.TgZ(33,"div"),t._uU(34," 2. Vui l\xf2ng ki\u1ec3m tra email b\xf9i ng\u1ecdc l\xe2m \u0111\u1ec3 bi\u1ebft chi ti\u1ebft \u0111\u01a1n h\xe0ng v\xe0 h\u01b0\u1edbng d\u1eabn thanh to\xe1n "),t.qZA(),t.TgZ(35,"div"),t._uU(36," 3. Li\xean h\u1ec7 xxxxx \u0111\u1ec3 \u0111\u01b0\u1ee3c h\u1ed7 tr\u1ee3 khi c\u1ea7n thi\u1ebft "),t.qZA(),t.TgZ(37,"div"),t._uU(38," 4. Ki\u1ec3m tra t\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng t\u1ea1i BMDK "),t.qZA()()()(),t.TgZ(39,"div",6)(40,"div",18)(41,"div",8),t._UZ(42,"cf-icon",9),t._uU(43," Ch\u1ecdn ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n "),t.qZA(),t.TgZ(44,"cf-radio-group",19),t.NdJ("ngModelChange",function(r){return n.paymentMethod=r}),t.TgZ(45,"cf-radio",20)(46,"div",21),t._UZ(47,"img",22),t.TgZ(48,"div",23)(49,"div",24)(50,"div"),t._uU(51," Chuy\u1ec3n kho\u1ea3n ng\xe2n h\xe0ng (QR Code) "),t.qZA(),t.TgZ(52,"div",25),t._uU(53," Kh\xf4ng m\u1ea5t ph\xed "),t.qZA(),t.TgZ(54,"div",25),t._uU(55," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng "),t.qZA()(),t.TgZ(56,"ul",26)(57,"li"),t._uU(58," H\u1ed7 tr\u1ee3 t\u1ea5t c\u1ea3 ng\xe2n h\xe0ng, v\xed \u0111i\u1ec7n t\u1eed (Momo, Zalopay, ...) "),t.qZA(),t.TgZ(59,"li"),t._uU(60," Kh\xf4ng m\u1ea5t ph\xed chuy\u1ec3n ti\u1ec1n "),t.qZA(),t.TgZ(61,"li"),t._uU(62," Ho\xe0n ti\u1ec1n nhanh ch\xf3ng (trong ng\xe0y) khi c\xf3 s\u1ef1 c\u1ed1 "),t.qZA()()()()(),t.TgZ(63,"cf-radio",20)(64,"div",21),t._UZ(65,"img",27),t.TgZ(66,"div",24)(67,"div"),t._uU(68," Th\u1ebb ATM n\u1ed9i \u0111\u1ecba "),t.qZA(),t.TgZ(69,"div",25),t._uU(70," T\u1ea5t c\u1ea3 th\u1ebb n\u1ed9i \u0111\u1ecba "),t.qZA(),t.TgZ(71,"div",28),t._uU(72," Powered by OnePay "),t.qZA()()()(),t.TgZ(73,"cf-radio",20)(74,"div",21),t._UZ(75,"img",29),t.TgZ(76,"div",24)(77,"div"),t._uU(78," Th\u1ebb Qu\u1ed1c t\u1ebf (VISA, MASTER CARD, JCB, AMEX) "),t.qZA(),t.TgZ(79,"div",25),t._uU(80," H\u1ed7 tr\u1ee3 th\u1ebb t\xedn d\u1ee5ng "),t.qZA(),t.TgZ(81,"div",28),t._uU(82," Powered by OnePay "),t.qZA()()()()()()()(),t.TgZ(83,"div",30)(84,"div",31)(85,"div",32)(86,"div",33)(87,"div",34),t._uU(88,"Chuy\u1ebfn bay c\u1ee7a b\u1ea1n"),t.qZA()(),t.TgZ(89,"div"),t.YNc(90,e0,1,2,"btc-ticket-sticky-selected",35),t.qZA(),t.TgZ(91,"div",36)(92,"div",34),t._uU(93,"T\u1ed5ng chi ph\xed:"),t.qZA(),t.TgZ(94,"div",37),t._uU(95),t.ALo(96,"replace"),t.ALo(97,"number"),t.qZA()()()()()(),t.TgZ(98,"div",38)(99,"button",39),t.NdJ("click",function(){return n.changeStep.emit(!1)}),t._UZ(100,"cf-icon",40),t._uU(101," Hu\u1ef7 "),t.qZA(),t.TgZ(102,"button",41),t.NdJ("click",function(){return n.payTicket()}),t._UZ(103,"cf-icon",42),t._uU(104," Thanh to\xe1n "),t.qZA()()()),2&e&&(t.xp6(22),t.hij(" ",t.Dn7(23,8,t.lcZ(24,12,18e5),",",".")," \u0111 "),t.xp6(7),t.Q6J("ngIf",n.configStatus.wait),t.xp6(15),t.Q6J("ngModel",n.paymentMethod),t.xp6(1),t.Q6J("value",n.PAYMENT_METHOD_OPTION.TRANSFER),t.xp6(18),t.Q6J("value",n.PAYMENT_METHOD_OPTION.ATM),t.xp6(10),t.Q6J("value",n.PAYMENT_METHOD_OPTION.VISA),t.xp6(17),t.Q6J("ngIf",n.ticketCur),t.xp6(5),t.hij(" ",t.Dn7(96,14,t.lcZ(97,18,(null==n.ticketCur?null:n.ticketCur.totalPrice)||0),",",".")," \u0111 "))},dependencies:[m.ez,m.mk,m.O5,m.JJ,jt,nt.AS,j.N8,j.Xq,_.AxE,_.Sm8,It.T,It.o,A.u5,A.JJ,A.On],styles:[":host{display:block}.config-radio>div{display:flex;align-items:start}.config-radio>div>svg{margin-top:10px}\n"],encapsulation:2,changeDetection:0}),i})(),n0=(()=>{class i{constructor(e,n,o,r){this.route=e,this._helperSearchSvc=n,this._helperSvc=o,this._sessionStorageSvc=r,this.step=Mt.LIST,this.BTC_SEARCH_RESULT_STEP=Mt}ngOnInit(){this.route.queryParams.subscribe(e=>{this._sessionStorageSvc.btcResultData=Object.assign(Object.assign({},this._sessionStorageSvc.btcResultData),{search:this._helperSearchSvc.progressQueryToRawData(e),sessionSearchKey:"",ticketCur:this._helperSvc.initTicketCur(+e.t),dataBooking:null})})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(vt.gz),t.Y36(Nt.J),t.Y36(Ct),t.Y36(Qt.x))},i.\u0275cmp=t.Xpm({type:i,selectors:[["btc-result-search"]],standalone:!0,features:[t.jDz],decls:2,vars:1,consts:[[1,"w-screen","h-screen","overflow-hidden","bg-neutral-gray-1","flex","flex-col"],[1,"grow","h-0","overflow-auto",3,"ngSwitch"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngSwitch",n.step))},dependencies:[m.ez,m.RF],styles:["[_nghost-%COMP%]{display:block}"]}),i})()},35650:(ge,Et,v)=>{v.d(Et,{Z:()=>_});var m=v(91998),V=v(80953),j=v(40833);function _(Dt,nt){(0,j.Z)(2,arguments);var tt=(0,V.Z)(Dt),t=(0,m.Z)(nt);return isNaN(t)?new Date(NaN):(t&&tt.setDate(tt.getDate()+t),tt)}},43201:(ge,Et,v)=>{v.d(Et,{Z:()=>Dt});var m=v(91998),V=v(80953),j=v(40833);function Dt(nt,tt){return(0,j.Z)(2,arguments),function _(nt,tt){(0,j.Z)(2,arguments);var t=(0,V.Z)(nt),ht=(0,m.Z)(tt);if(isNaN(ht))return new Date(NaN);if(!ht)return t;var st=t.getDate(),rt=new Date(t.getTime());return rt.setMonth(t.getMonth()+ht+1,0),st>=rt.getDate()?rt:(t.setFullYear(rt.getFullYear(),rt.getMonth(),st),t)}(nt,12*(0,m.Z)(tt))}}}]);