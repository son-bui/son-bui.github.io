"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[9345],{29345:(I,f,r)=>{r.r(f),r.d(f,{LoginComponent:()=>U});var p=r(36895),s=r(24006),v=r(76188),m=r(94700),h=r(83700),c=r(72506),u=r(44143),x=r(28746),C=r(21816),e=r(94650),d=r(82761),w=r(46779);function y(n,l){if(1&n&&(e.TgZ(0,"div",26)(1,"div",27)(2,"div"),e.O4$(),e.TgZ(3,"svg",28),e._UZ(4,"path",29)(5,"path",30)(6,"path",31),e.qZA()(),e.kcU(),e.TgZ(7,"div",32),e._uU(8),e.qZA()()()),2&n){const i=e.oxw();e.xp6(8),e.hij(" ",i.error," ")}}function E(n,l){1&n&&e._UZ(0,"cf-input-hint",33),2&n&&e.Q6J("hint","T\xean \u0111\u0103ng kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function F(n,l){1&n&&e._UZ(0,"cf-input-hint",33),2&n&&e.Q6J("hint","T\xean \u0111\u0103ng nh\u1eadp kh\xf4ng \u0111\xfang")}function Z(n,l){if(1&n){const i=e.EpF();e.TgZ(0,"cf-icon",34),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.showPassword=!o.showPassword)}),e.qZA()}}function A(n,l){if(1&n){const i=e.EpF();e.TgZ(0,"cf-icon",35),e.NdJ("click",function(){e.CHM(i);const o=e.oxw();return e.KtG(o.showPassword=!o.showPassword)}),e.qZA()}}function T(n,l){1&n&&e._UZ(0,"cf-input-hint",33),2&n&&e.Q6J("hint","M\u1eadt kh\u1ea9u kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng")}function _(n,l){1&n&&e._UZ(0,"cf-icon",36)}const L=function(n){return{"opacity-50 pointer-events-none cursor-default":n}};let U=(()=>{class n{constructor(i,t,o,a,g,b){this.formBuilder=t,this.route=o,this.router=a,this.authenticationService=g,this.recaptchaV3Service=b,this.isLoading=!1,this.submitted=!1,this.showPassword=!1,this.patten="^[A-Za-z0-9-]+$",i.registerIcons([c.bLw,c.MwJ,c.$S]),this.authenticationService.currentUserValue&&this.router.navigate(["/admin"])}ngOnInit(){const i=localStorage.getItem("reminiscentUser");i&&JSON.parse(i),this.loginForm=this.formBuilder.group({username:["partner",[s.kI.required,s.kI.pattern(this.patten)]],password:["P@ssword123",s.kI.required]}),this.authenticationService.getCurrentIp().subscribe({next:o=>{this.ipAddress=o.ip},error:o=>{console.log(o)}}),this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/admin"}get f(){return this.loginForm.controls}onSubmit(){if(this.loginForm.markAllAsTouched(),this.loginForm.invalid||this.isLoading)return;const i=this.loginForm.value;this.isLoading=!0,this.authenticationService.authen({password:i.password,username:i.username}).pipe((0,x.x)(()=>this.isLoading=!1)).subscribe({next:o=>{if(o){this.error="";const a=(0,C.Z)(o.accessToken);localStorage.setItem("currentUser",JSON.stringify({userId:a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"],username:a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"],displayName:a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/name"],email:a["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/emailaddress"],phone:"0123456789",roleName:a["http://schemas.microsoft.com/ws/2008/06/identity/claims/role"],accessToken:o.accessToken,refreshToken:o.refreshToken})),this.authenticationService.currentUserSubject.next(o),this.router.navigate([this.returnUrl])}else this.error=o.objectError.errorDescription.vi},error:o=>{this.error=o.error.objectError.errorDescription.vi}})}checkedChange(i){var t;null===(t=this.loginForm.get("rememberMe"))||void 0===t||t.setValue(i)}resetPassword(){this.router.navigate(["reset-password"])}}return n.\u0275fac=function(i){return new(i||n)(e.Y36(c.KNP),e.Y36(s.qu),e.Y36(d.gz),e.Y36(d.F0),e.Y36(w.r),e.Y36(m.YC))},n.\u0275cmp=e.Xpm({type:n,selectors:[["cf-login"]],standalone:!0,features:[e._Bn([]),e.jDz],decls:36,vars:16,consts:[[1,"notranslate","w-screen","h-screen","!h-[100svh]","relative"],["src","assets/images/login_background.svg","alt","",1,"h-1/2","md:h-[34%]","w-full","object-cover","absolute","bottom-0","left-0","-z-9999"],[1,"absolute","w-full","h-full","top-0","left-0"],[1,"overflow-auto","w-full","h-full","flex","flex-col","justify-between","gap-y-6"],[1,"px-32","flex-1","md:flex-none","flex","justify-center","items-center"],[1,"bg-neutral-white","md:bg-transparent","rounded-xl","shadow-lg","md:shadow-none","py-16","md:py-8","px-8"],[1,"ml-[-15px]","md:ml-0"],["src","assets/logo/flychill_logo.png","alt","",1,"w-[192px]","h-auto"],[1,"md:w-[300px]","w-[360px]","flex","flex-col","gap-y-8"],[1,"flex","flex-col","gap-y-3"],[1,"text-heading-xl","text-neutral-gray-6"],[1,"text-body-md-long","text-neutral-gray-4"],["class","bg-[#FFF8E7] rounded px-4 py-3 flex flex-col gap-y-4",4,"ngIf"],["autocomplete","off",1,"flex","flex-col","gap-y-6",3,"formGroup","ngSubmit"],[1,"flex","flex-col","gap-y-4"],[1,"grow-[400]","!w-full",3,"disabled","status"],["cfLabel",""],["cf-input","","size","medium","autocomplete","off","placeholder","T\xean \u0111\u0103ng nh\u1eadp","type","text","formControlName","username"],["cfHint","",3,"hint",4,"ngIf"],["cf-input","","size","medium","autocomplete","off","placeholder","Nh\u1eadp m\u1eadt kh\u1ea9u","formControlName","password",3,"type"],["cfTailIcon","","class","cursor-pointer text-neutral-gray-4","icon","eye","size","small",3,"click",4,"ngIf"],["cfTailIcon","","class","cursor-pointer text-neutral-gray-4","icon","eye_off","size","small",3,"click",4,"ngIf"],["cf-button","","size","medium",1,"flex","justify-center","items-center",3,"ngClass"],["class","text-neutral-white mr-2.5 animate-spin","icon","refresh","size","small",4,"ngIf"],[1,"flex","justify-center","items-center"],[1,"p-2.5","text-body-sm","text-neutral-gray-5"],[1,"bg-[#FFF8E7]","rounded","px-4","py-3","flex","flex-col","gap-y-4"],[1,"flex","items-center","gap-x-2"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1.23916 18.3887L10.1497 3.95489C10.3277 3.66664 10.594 3.42543 10.92 3.25719C11.246 3.08895 11.6194 3.00005 12 3.00005C12.3806 3.00005 12.754 3.08895 13.08 3.25719C13.406 3.42543 13.6723 3.66664 13.8503 3.95489L22.7608 18.3887C22.9281 18.6611 23.0101 18.9659 22.999 19.2736C22.9879 19.5812 22.8839 19.8811 22.6973 20.1441C22.5106 20.4071 22.2477 20.6241 21.934 20.7741C21.6204 20.9241 21.2667 21.002 20.9075 21H3.08847C2.72962 21.0014 2.37647 20.9231 2.06336 20.7729C1.75026 20.6226 1.48787 20.4055 1.3017 20.1426C1.11553 19.8797 1.01193 19.5801 1.00097 19.2727C0.99001 18.9654 1.07207 18.6608 1.23916 18.3887Z","fill","#FCB40A"],["d","M12 18.75C11.5858 18.75 11.25 18.4143 11.25 18L11.25 17.9901C11.25 17.5758 11.5858 17.2401 12 17.2401C12.4142 17.2401 12.75 17.5758 12.75 17.9901L12.75 18C12.75 18.4143 12.4142 18.75 12 18.75Z","fill","#2C2C2C"],["d","M12 15.75C11.5858 15.75 11.25 15.4142 11.25 15L11.25 8.00002C11.25 7.5858 11.5858 7.25002 12 7.25002C12.4142 7.25002 12.75 7.5858 12.75 8.00002L12.75 15C12.75 15.4142 12.4142 15.75 12 15.75Z","fill","#2C2C2C"],[1,"text-body-md-short"],["cfHint","",3,"hint"],["cfTailIcon","","icon","eye","size","small",1,"cursor-pointer","text-neutral-gray-4",3,"click"],["cfTailIcon","","icon","eye_off","size","small",1,"cursor-pointer","text-neutral-gray-4",3,"click"],["icon","refresh","size","small",1,"text-neutral-white","mr-2.5","animate-spin"]],template:function(i,t){1&i&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"div",10),e._uU(11,"Ch\xe0o m\u1eebng tr\u1edf l\u1ea1i"),e.qZA(),e.TgZ(12,"div",11),e._uU(13,"Ch\xe0o b\u1ea1n! Vui l\xf2ng nh\u1eadp th\xf4ng tin \u0111\u0103ng nh\u1eadp"),e.qZA()(),e.YNc(14,y,9,1,"div",12),e.TgZ(15,"form",13),e.NdJ("ngSubmit",function(){return t.onSubmit()}),e.TgZ(16,"div",14)(17,"cf-input-group",15)(18,"label",16),e._uU(19,"T\xean \u0111\u0103ng nh\u1eadp"),e.qZA(),e._UZ(20,"input",17),e.YNc(21,E,1,1,"cf-input-hint",18),e.YNc(22,F,1,1,"cf-input-hint",18),e.qZA(),e.TgZ(23,"cf-input-group",15)(24,"label",16),e._uU(25,"M\u1eadt kh\u1ea9u"),e.qZA(),e._UZ(26,"input",19),e.YNc(27,Z,1,0,"cf-icon",20),e.YNc(28,A,1,0,"cf-icon",21),e.YNc(29,T,1,1,"cf-input-hint",18),e.qZA()(),e.TgZ(30,"button",22),e.YNc(31,_,1,0,"cf-icon",23),e._uU(32," \u0110\u0103ng Nh\u1eadp "),e.qZA()()()()(),e.TgZ(33,"div",24)(34,"div",25),e._uU(35,"Version: 25.04.03.e1"),e.qZA()()()()()),2&i&&(e.xp6(14),e.Q6J("ngIf",t.error),e.xp6(1),e.Q6J("formGroup",t.loginForm),e.xp6(2),e.Q6J("disabled",t.isLoading)("status",t.loginForm.controls.username.invalid&&(t.loginForm.controls.username.dirty||t.loginForm.controls.username.touched)?"error":"default"),e.xp6(4),e.Q6J("ngIf",t.loginForm.controls.username.hasError("required")&&(t.loginForm.controls.username.touched||t.loginForm.controls.username.dirty)),e.xp6(1),e.Q6J("ngIf",t.loginForm.controls.username.hasError("pattern")&&(t.loginForm.controls.username.touched||t.loginForm.controls.username.dirty)),e.xp6(1),e.Q6J("disabled",t.isLoading)("status",t.loginForm.controls.password.invalid&&(t.loginForm.controls.password.dirty||t.loginForm.controls.password.touched)?"error":"default"),e.xp6(3),e.Q6J("type",t.showPassword?"text":"password"),e.xp6(1),e.Q6J("ngIf",!t.showPassword),e.xp6(1),e.Q6J("ngIf",t.showPassword),e.xp6(1),e.Q6J("ngIf",t.loginForm.controls.password.hasError("required")&&(t.loginForm.controls.password.touched||t.loginForm.controls.password.dirty)),e.xp6(1),e.Q6J("ngClass",e.VKq(14,L,t.isLoading)),e.xp6(1),e.Q6J("ngIf",t.isLoading))},dependencies:[v.aw,s.u5,s._Y,s.Fj,s.JJ,s.JL,s.UX,s.sg,s.u,p.O5,p.mk,m.a,m.lQ,h.N8,h.Xq,u.j$,u.ND,u.BN,u.v2,c.AxE,c.Sm8],encapsulation:2}),n})()}}]);