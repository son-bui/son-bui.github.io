"use strict";(self.webpackChunkcheapflightclient=self.webpackChunkcheapflightclient||[]).push([[3778],{49195:(re,N,f)=>{f.d(N,{t:()=>l});var s=f(53820);const l={[s.b.CREATE]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[s.b.IN_PROCESS]:{name:"\u0110ang canh v\xe9",description:"Canh v\xe9 r\u1ebb \u0111ang ho\u1ea1t \u0111\u1ed9ng t\u1ef1 \u0111\u1ed9ng",icon:"search",backgroundColor:"bg-[#FFEAB9]",textColor:"text-secondary-7-5"},[s.b.COMPLETED]:{name:"\u0110\xe3 canh th\xe0nh c\xf4ng",description:"\u0110\xe3 canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 r\u1ebb",icon:"check",backgroundColor:"bg-[#07A35D]",textColor:"text-neutral-white"},[s.b.IN_PROCESS_PRICE_UP]:{name:"\u0110ang canh gi\xe1 t\u0103ng",description:"Gi\xe1 v\xe9 \u0111\xe3 t\u0103ng, vui l\xf2ng c\xe2n nh\u1eafc xu\u1ea5t v\xe9",icon:"arrow_right_up",backgroundColor:"bg-[#ffd1bc]",textColor:"text-primary-1-4"},[s.b.CANCEL]:{name:"\u0110\xe3 h\u1ee7y",description:"\u0110\xe3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9",icon:"delete",backgroundColor:"bg-[#999999]",textColor:"text-neutral-white"},[s.b.EXPIRED]:{name:"\u0110\xe3 h\u1ebft h\u1ea1n",description:"H\u1ebft h\u1ea1n canh v\xe9",icon:"clock",backgroundColor:"bg-[#CCCCCC]",textColor:"text-neutral-gray-6"}}},53820:(re,N,f)=>{f.d(N,{b:()=>s});var s=(()=>{return(l=s||(s={})).CREATE="CREATE",l.IN_PROCESS="IN_PROCESS",l.IN_PROCESS_PRICE_UP="IN_PROCESS_PRICE_UP",l.COMPLETED="COMPLETED",l.EXPIRED="EXPIRED",l.CANCEL="CANCEL",s;var l})()},97380:(re,N,f)=>{f.d(N,{D5:()=>C,VP:()=>v,_r:()=>F,v_:()=>P,xj:()=>$,yI:()=>D});var s=f(97582),l=f(87067),y=f(43429),p=f(49195),Z=f(53820);let $=(()=>{class c{}return(0,s.gn)([(0,l.C)()],c.prototype,"status",void 0),(0,s.gn)([(0,y.D)(()=>O),(0,l.C)()],c.prototype,"data",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"objectError",void 0),c})(),O=(()=>{class c{}return(0,s.gn)([(0,y.D)(()=>v),(0,l.C)()],c.prototype,"listOrder",void 0),(0,s.gn)([(0,y.D)(()=>R),(0,l.C)()],c.prototype,"orderTaskStatus",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"pageOffset",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"pageSize",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"total",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"empty",void 0),c})(),R=(()=>{class c{}return(0,s.gn)([(0,l.C)()],c.prototype,"canCreateOrder",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"completeTask",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"inProcessTask",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"maxTask",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"numMaxFree",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"numOrderFree",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"ownerId",void 0),c})(),v=(()=>{class c{get stateDisplay(){switch(this.state){case Z.b.CREATE:return p.t[Z.b.CREATE].name;case Z.b.IN_PROCESS:return p.t[Z.b.IN_PROCESS].name;case Z.b.COMPLETED:return p.t[Z.b.COMPLETED].name;case Z.b.CANCEL:return p.t[Z.b.CANCEL].name;case Z.b.EXPIRED:return p.t[Z.b.EXPIRED].name;case Z.b.IN_PROCESS_PRICE_UP:return p.t[Z.b.IN_PROCESS_PRICE_UP].name;default:return""}}}return(0,s.gn)([(0,l.C)()],c.prototype,"orderId",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"canUpdate",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"code",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"state",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"monitorType",void 0),(0,s.gn)([(0,y.D)(()=>F),(0,l.C)()],c.prototype,"ticketInfo",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"distributionChannel",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"orderInfo",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"fareInfo",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"ownerInfo",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"userActionInfo",void 0),(0,s.gn)([(0,y.D)(()=>P),(0,l.C)()],c.prototype,"availableSlotInfo",void 0),c})(),F=(()=>{class c{}return(0,s.gn)([(0,l.C)()],c.prototype,"leg",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"airline",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"flightType",void 0),(0,s.gn)([(0,y.D)(()=>C),(0,l.C)()],c.prototype,"journeys",void 0),(0,s.gn)([(0,y.D)(()=>D),(0,l.C)()],c.prototype,"passengers",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"totalFare",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"originalPrice",void 0),c})(),C=(()=>{class c{}return(0,s.gn)([(0,l.C)()],c.prototype,"leg",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"startPoint",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"endPoint",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"departTime",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"arrivalTime",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"duration",void 0),(0,s.gn)([(0,y.D)(()=>fe),(0,l.C)()],c.prototype,"segments",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"rangeTime",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"rangeDateTime",void 0),c})(),fe=(()=>{class c{}return(0,s.gn)([(0,l.C)()],c.prototype,"startPoint",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"endPoint",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"flightNumber",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"fareBasic",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"fareClass",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"departTime",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"departZone",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"arriveTime",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"arriveZone",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"index",void 0),c})(),D=(()=>{class c{}return(0,s.gn)([(0,l.C)()],c.prototype,"birthday",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"firstName",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"lastName",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"type",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"index",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"parentIndex",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"key",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"parentKey",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"namePrefix",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"gender",void 0),c})(),P=(()=>{class c{}return(0,s.gn)([(0,l.C)()],c.prototype,"amountPerPax",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"currency",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"free",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"percent",void 0),(0,s.gn)([(0,l.C)()],c.prototype,"type",void 0),c})()},64696:(re,N,f)=>{f.r(N),f.d(N,{EditPnrOrderComponent:()=>W,ManagePnrOrdersComponent:()=>Dr,PnrOrderDetailComponent:()=>Oi,RegisterOrderGdsComponent:()=>yr.C,RegisterPnrOrderComponent:()=>s.g});var s=f(44586),l=f(36895),y=f(83700),p=f(72506),Z=f(74891),$=f(24513),O=f(67460),R=f(76978),v=f(53820),F=f(49195),C=f(62163),I=f(38514),fe=f(80751),D=f(15439),P=f(28746),c=f(24006),A=f(44143),Se=f(76331),ye=f(4688),ae=f(88516),Fe=f(72853),be=f(74713),Ze=f(97218),Y=f(37094),G=f(89701),oe=f(77296),le=f(61545),e=f(94650),X=f(97579),ge=f(70800),me=f(62331),he=f(77492),ce=f(9381),ve=f(62733);function Ue(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"tooltip-available-slot",46),e.qZA()),2&n){const t=e.oxw(2),i=e.MAs(12);e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i)}}function we(n,a){1&n&&e._UZ(0,"cf-hint",47),2&n&&e.Q6J("hint","Ng\xe0y kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function ke(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",48)(1,"div",49),e._UZ(2,"cf-datepicker-inline",50),e.qZA(),e.TgZ(3,"div",51)(4,"div",52)(5,"button",53),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onCloseDatePicker())}),e._uU(6,"H\u1ee7y"),e.qZA(),e.TgZ(7,"button",54),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onMobileDatePickerOK())}),e._uU(8,"X\xe1c nh\u1eadn"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("infiniteScrollDistance",2)("infiniteScrollThrottle",300)("infiniteScrollUpDistance",2)("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0)("infiniteScrollContainer",".ngb-dp-content"),e.xp6(1),e.Q6J("minDate",t.minDate)("displayMonths",t.numOfMonth)("rangeSelection",!0)("secondaryCalendar","lunar")("formControl",t.configOrderform.controls.dayExpire)("maxDate",t.maxDate)("fromDate",t.configOrderform.controls.dayExpire.value)("displayMonthsOffset",0),e.xp6(5),e.Q6J("disabled",null==t.configOrderform?null:t.configOrderform.controls.dayExpire.invalid)}}function Ne(n,a){1&n&&e._UZ(0,"cf-hint",47),2&n&&e.Q6J("hint","Gi\u1edd kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function qe(n,a){1&n&&e._UZ(0,"cf-hint",47),2&n&&e.Q6J("hint","Gi\u1edd k\u1ebft th\xfac kh\xf4ng h\u1ee3p l\u1ec7.")}function Me(n,a){1&n&&(e.TgZ(0,"div",61),e._uU(1," Ch\u1ecdn h\xe3ng bay mong mu\u1ed1n "),e.qZA())}function Re(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"cf-icon",67),e.NdJ("click",function(r){e.CHM(t);const o=e.oxw().$implicit,d=e.oxw(4);return e.KtG(d.onRemoveFareTypeOption(r,o))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function Ye(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.qZA(),e.TgZ(3,"cf-icon",67),e.NdJ("click",function(r){e.CHM(t);const o=e.oxw().$implicit,d=e.oxw(5);return e.KtG(d.onRemoveFareClassOption(r,o))}),e.qZA()()}if(2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(2),e.AsE(" ",i.name," - ",t.name," ")}}function Je(n,a){if(1&n&&(e.ynx(0),e.YNc(1,Ye,4,2,"div",64),e.BQk()),2&n){const t=a.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!i.isAllFareClass&&t.isActive)}}function Be(n,a){if(1&n&&(e.ynx(0,13),e.YNc(1,Re,4,1,"div",64),e.YNc(2,Je,2,1,"ng-container",65),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.isAllFareClass),e.xp6(1),e.Q6J("ngForOf",t.fareClass)}}function Qe(n,a){if(1&n&&(e.TgZ(0,"div",62),e.YNc(1,Be,3,2,"ng-container",63),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.listFareTypeOptions)}}function Le(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",55)(1,"div",56),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.openFareOptions())}),e.TgZ(2,"div",57),e.YNc(3,Me,2,0,"div",58),e.YNc(4,Qe,2,1,"div",59),e.qZA(),e._UZ(5,"cf-icon",60),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngIf",!t.configOrderform.value.specifyFareClass),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.specifyFareClass)}}function je(n,a){1&n&&e._UZ(0,"cf-hint",47),2&n&&e.Q6J("hint","M\u1ee9c gi\xe1 mong mu\u1ed1n kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng.")}function He(n,a){1&n&&e._UZ(0,"cf-hint",47),2&n&&e.Q6J("hint","Gi\xe1 tr\u1ecb t\u1ed1i thi\u1ec3u l\xe0 1\u0111")}function Ke(n,a){if(1&n&&(e._UZ(0,"cf-hint",47),e.ALo(1,"number")),2&n){const t=e.oxw(3);e.Q6J("hint","Gi\xe1 tr\u1ecb t\u1ed1i \u0111a l\xe0 "+e.lcZ(1,1,t.configOrderData.targetPrice)+" \u0111"||0)}}function ze(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"cf-input-group",68)(2,"label",69),e._uU(3,"Ch\u1ec9 canh gi\xe1 v\xe9 (c\u1ee7a 1 ng\u01b0\u1eddi l\u1edbn \u0111\u1ea1i di\u1ec7n) gi\u1ea3m th\u1ea5p h\u01a1n ho\u1eb7c b\u1eb1ng m\u1ee9c d\u01b0\u1edbi \u0111\xe2y"),e.qZA(),e.TgZ(4,"cf-input-number",70),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.checkDirtyNumber("targetPrice",r))}),e.qZA(),e.YNc(5,je,1,1,"cf-hint",25),e.YNc(6,He,1,1,"cf-hint",25),e.YNc(7,Ke,2,3,"cf-hint",25),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("status",t.configOrderform.controls.targetPrice.invalid&&(t.configOrderform.controls.targetPrice.dirty||t.configOrderform.controls.targetPrice.touched)?"error":"default"),e.xp6(3),e.Q6J("placeholder","Nh\u1eadp s\u1ed1 ti\u1ec1n mu\u1ed1n canh")("formControl",t.configOrderform.controls.targetPrice),e.xp6(1),e.Q6J("ngIf",(null==t.configOrderform.controls.targetPrice.errors?null:t.configOrderform.controls.targetPrice.errors.required)&&(t.configOrderform.controls.targetPrice.dirty||t.configOrderform.controls.targetPrice.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.configOrderform.controls.targetPrice.errors?null:t.configOrderform.controls.targetPrice.errors.minAmount)&&(t.configOrderform.controls.targetPrice.dirty||t.configOrderform.controls.targetPrice.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.configOrderform.controls.targetPrice.errors?null:t.configOrderform.controls.targetPrice.errors.maxAmount)&&(t.configOrderform.controls.targetPrice.dirty||t.configOrderform.controls.targetPrice.touched))}}function $e(n,a){1&n&&e._UZ(0,"cf-icon",71)}function Ge(n,a){1&n&&e._UZ(0,"cf-icon",72)}function Ve(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",73)(1,"div",74)(2,"div",13),e._UZ(3,"cf-icon",75),e.TgZ(4,"span",15),e._uU(5,"Th\xf4ng b\xe1o"),e.qZA()(),e.TgZ(6,"cf-switch",76),e.NdJ("checkedChange",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onCheckNotify(r))}),e.qZA()(),e.TgZ(7,"div",77),e._uU(8,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n canh v\xe9 tr\u01b0\u1edbc 15 ph\xfat"),e.qZA()()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("checked",null==t.configOrderform.value?null:t.configOrderform.value.notifyBeforeExpired)("disabled",t.isDisableNotify)}}const xe=function(){return[]};function Xe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"div",12)(3,"div",13),e._UZ(4,"cf-icon",14),e.TgZ(5,"span",15),e._uU(6,"M\xe3 \u0111\u1eb7t ch\u1ed7 mu\u1ed1n canh v\xe9"),e.qZA()(),e.YNc(7,Ue,2,2,"div",9),e.qZA(),e.TgZ(8,"div",16),e._uU(9),e.qZA()(),e._UZ(10,"div",17),e.TgZ(11,"div",10)(12,"div",11)(13,"div")(14,"div",13),e._UZ(15,"cf-icon",18),e.TgZ(16,"span",15),e._uU(17,"Th\u1eddi h\u1ea1n canh v\xe9"),e.qZA()(),e.TgZ(18,"div")(19,"cf-label",19),e._uU(20),e.ALo(21,"date"),e.qZA()()(),e.TgZ(22,"div",20)(23,"cf-input-group",21),e._UZ(24,"cf-icon",22),e.TgZ(25,"input",23,24),e.NdJ("input",function(){e.CHM(t);const r=e.MAs(26);return e.KtG(r.close())})("dateSelect",function(r){e.CHM(t);const o=e.MAs(26);return e.oxw().onDateSelected(r),e.KtG(o.close())})("click",function(){e.CHM(t);const r=e.MAs(29),o=e.oxw();return e.KtG(o.expireDatePickerClick(r))})("mousedown",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.expireDateFocus(r))}),e.qZA(),e.YNc(27,we,1,1,"cf-hint",25),e.qZA(),e.YNc(28,ke,9,16,"ng-template",null,26,e.W1O),e.TgZ(30,"div",27)(31,"cf-select",28),e._UZ(32,"cf-icon",29),e.YNc(33,Ne,1,1,"cf-hint",25),e.YNc(34,qe,1,1,"cf-hint",25),e.qZA()()()()(),e._UZ(35,"div",17),e.TgZ(36,"div",11)(37,"div",30)(38,"div")(39,"div",13),e._UZ(40,"cf-icon",31),e.TgZ(41,"span",15),e._uU(42,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n"),e.qZA()(),e.TgZ(43,"div",32)(44,"div",33),e._uU(45,"Canh h\u1ea1ng gh\u1ebf r\u1ebb nh\u1ea5t v\xe0 kh\xf4ng ph\xe2n bi\u1ec7t khoang h\u1ea1ng"),e.qZA()()(),e.TgZ(46,"div",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onChangeLowFare())}),e._UZ(47,"cf-switch",35),e.qZA()(),e.YNc(48,Le,6,2,"div",36),e.qZA(),e._UZ(49,"div",17),e.TgZ(50,"div",37)(51,"div",30)(52,"div",13),e._UZ(53,"cf-icon",38),e.TgZ(54,"span",15),e._uU(55,"Canh theo gi\xe1"),e.qZA()(),e.TgZ(56,"div",34),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onChangePrice())}),e._UZ(57,"cf-switch",35),e.qZA()(),e.YNc(58,ze,8,6,"div",9),e.qZA(),e.TgZ(59,"div",39)(60,"div",40),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onExpandConfig())}),e.TgZ(61,"div"),e._UZ(62,"cf-icon",41),e.qZA(),e.TgZ(63,"div",42),e._uU(64,"C\xe0i \u0111\u1eb7t n\xe2ng cao"),e.qZA(),e.TgZ(65,"div"),e.YNc(66,$e,1,0,"cf-icon",43),e.YNc(67,Ge,1,0,"cf-icon",44),e.qZA()(),e.YNc(68,Ve,9,2,"div",45),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("ngIf",t.configOrderData&&t.configOrderData.avaliableSlotInfo),e.xp6(2),e.Oqu(null==t.configOrderData?null:t.configOrderData.pnr),e.xp6(10),e.Q6J("color","gray-1"),e.xp6(1),e.hij(" Ch\u1ec9 \u0111\u01b0\u1ee3c ch\u1ecdn th\u1eddi h\u1ea1n \u0111\u1ebfn ",t.timeExpire?e.xi3(21,25,t.timeExpire,"dd/MM/yyyy HH:mm"):""," "),e.xp6(3),e.Q6J("status",t.configOrderform.controls.dayExpire.invalid&&(t.configOrderform.controls.dayExpire.dirty||t.configOrderform.controls.dayExpire.touched)?"error":"default"),e.xp6(2),e.Q6J("secondaryCalendar","lunar")("displayMonths",1)("minDate",t.minDate)("maxDate",t.maxDate)("formControl",t.configOrderform.controls.dayExpire),e.xp6(2),e.Q6J("ngIf",(null==t.configOrderform.controls.dayExpire.errors?null:t.configOrderform.controls.dayExpire.errors.required)&&(t.configOrderform.controls.dayExpire.dirty||t.configOrderform.controls.dayExpire.touched)),e.xp6(4),e.Q6J("status",t.configOrderform.controls.hoursExpire.invalid&&(t.configOrderform.controls.hoursExpire.dirty||t.configOrderform.controls.hoursExpire.touched)?"error":"default")("data",t.timeOption||e.DdM(28,xe))("placeholder","Ch\u1ecdn gi\u1edd k\u1ebft th\xfac")("allowSearch",!0)("formControl",t.configOrderform.controls.hoursExpire),e.xp6(2),e.Q6J("ngIf",(null==t.configOrderform.controls.hoursExpire.errors?null:t.configOrderform.controls.hoursExpire.errors.required)&&(t.configOrderform.controls.hoursExpire.dirty||t.configOrderform.controls.hoursExpire.touched)),e.xp6(1),e.Q6J("ngIf",(null==t.configOrderform.controls.hoursExpire.errors?null:t.configOrderform.controls.hoursExpire.errors.illegal)&&(t.configOrderform.controls.hoursExpire.dirty||t.configOrderform.controls.hoursExpire.touched)),e.xp6(13),e.Q6J("checked",t.configOrderform.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(9),e.Q6J("checked",t.configOrderform.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(8),e.Q6J("ngIf",!t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand),e.xp6(1),e.Q6J("ngIf",t.isExpand)}}function We(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",96)(2,"div",97)(3,"div",98),e._uU(4),e.qZA()(),e.TgZ(5,"div",99),e._UZ(6,"img",100),e.qZA(),e.TgZ(7,"div",101)(8,"div",102),e._uU(9),e.qZA(),e.TgZ(10,"div",103),e._uU(11),e.qZA()(),e.TgZ(12,"div",101)(13,"div",102),e._uU(14),e.qZA(),e.TgZ(15,"div",103),e._uU(16),e.qZA()(),e.TgZ(17,"div",101)(18,"div",102),e._uU(19),e.qZA(),e.TgZ(20,"div",103),e._uU(21),e.qZA()(),e.TgZ(22,"div",104)(23,"div",105)(24,"div"),e._uU(25),e.qZA(),e.TgZ(26,"div",106),e._UZ(27,"div",107)(28,"div",108),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"div"),e._UZ(32,"cf-icon",109),e.qZA()(),e.TgZ(33,"div",101)(34,"div",102),e._uU(35),e.qZA(),e.TgZ(36,"div",103),e._uU(37),e.qZA()()(),e.BQk()),2&n){const t=a.$implicit,i=a.index;e.xp6(4),e.hij(" ",i+1," "),e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(3),e.Oqu(t.flightNumber),e.xp6(2),e.Oqu(t.airlineName),e.xp6(3),e.Oqu(t.departure),e.xp6(2),e.Oqu(t.fareClass),e.xp6(3),e.Oqu(t.startTime),e.xp6(2),e.Oqu(t.startPoint),e.xp6(4),e.Oqu(t.durationStr),e.xp6(5),e.Oqu(t.departure),e.xp6(5),e.Oqu(t.endTime),e.xp6(2),e.Oqu(t.endPoint)}}function et(n,a){if(1&n&&(e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function tt(n,a){if(1&n&&(e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(2),e.AsE(" ",i.name," - ",t.name," ")}}function nt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,tt,3,2,"div",64),e.BQk()),2&n){const t=a.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!i.isAllFareClass&&t.isActive)}}function it(n,a){if(1&n&&(e.ynx(0,13),e.YNc(1,et,3,1,"div",64),e.YNc(2,nt,2,1,"ng-container",65),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.isAllFareClass),e.xp6(1),e.Q6J("ngForOf",t.fareClass)}}function rt(n,a){if(1&n&&(e.TgZ(0,"div",62),e.YNc(1,it,3,2,"ng-container",63),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listFareTypeOptions)}}function at(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function ot(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.configOrderform.value.targetPrice)," \u0111 ")}}function lt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function ct(n,a){1&n&&(e.TgZ(0,"div",110)(1,"div",84),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n: "),e.qZA(),e.TgZ(3,"div",85),e._uU(4,"Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n canh v\xe9 "),e.qZA()())}function st(n,a){1&n&&e._UZ(0,"div",17)}function dt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,st,1,0,"div",111),e.TgZ(2,"div",112)(3,"div",92),e._uU(4),e.qZA(),e.TgZ(5,"div",113)(6,"div",92),e._uU(7),e.qZA()()(),e.BQk()),2&n){const t=a.$implicit,i=a.index,r=a.first;e.xp6(1),e.Q6J("ngIf",!r),e.xp6(3),e.hij("",i+1,"."),e.xp6(3),e.Oqu(t.displayName)}}function ut(n,a){1&n&&(e.TgZ(0,"div",118),e._uU(1,"B\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u n\xe0y"),e.qZA())}function pt(n,a){if(1&n&&(e.TgZ(0,"div",118),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("N\u1ebfu canh \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ph\xed b\u1eb1ng ",e.lcZ(2,2,t.configOrderData.avaliableSlotInfo.percent),"",t.configOrderData.avaliableSlotInfo.currency," ch\xeanh l\u1ec7ch gi\xe1 ")}}function _t(n,a){if(1&n&&(e.TgZ(0,"div",119)(1,"span",120),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",121),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,2,t.configOrderData.avaliableSlotInfo.percent),"",t.configOrderData.avaliableSlotInfo.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function ft(n,a){if(1&n&&(e.TgZ(0,"div",119)(1,"span"),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",121),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,2,t.configOrderData.avaliableSlotInfo.percent),"",t.configOrderData.avaliableSlotInfo.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function gt(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",114)(2,"div")(3,"div",13),e._UZ(4,"cf-icon",115),e.TgZ(5,"span",15),e._uU(6,"Ph\xed y\xeau c\u1ea7u"),e.qZA()(),e.YNc(7,ut,2,0,"div",116),e.YNc(8,pt,3,4,"div",116),e.qZA(),e.YNc(9,_t,5,4,"div",117),e.YNc(10,ft,5,4,"div",117),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.configOrderData.avaliableSlotInfo.free),e.xp6(1),e.Q6J("ngIf",!t.configOrderData.avaliableSlotInfo.free),e.xp6(1),e.Q6J("ngIf",t.configOrderData.avaliableSlotInfo.free),e.xp6(1),e.Q6J("ngIf",!t.configOrderData.avaliableSlotInfo.free)}}function mt(n,a){if(1&n&&(e.ynx(0),e.TgZ(1,"div",122)(2,"div",123)(3,"div",106)(4,"div",98),e._uU(5),e.qZA()(),e.TgZ(6,"div",99),e._UZ(7,"img",100),e.qZA(),e.TgZ(8,"div",124)(9,"div",102),e._uU(10),e.qZA(),e.TgZ(11,"div",103),e._uU(12),e.qZA()(),e.TgZ(13,"div",101)(14,"div",102),e._uU(15),e.qZA(),e.TgZ(16,"div",103),e._uU(17),e.qZA()()(),e.TgZ(18,"div",125)(19,"div",101)(20,"div",102),e._uU(21),e.qZA(),e.TgZ(22,"div",103),e._uU(23),e.qZA()(),e.TgZ(24,"div",104)(25,"div",105)(26,"div"),e._uU(27),e.qZA(),e.TgZ(28,"div",106),e._UZ(29,"div",107)(30,"div",126),e.qZA(),e.TgZ(31,"div"),e._uU(32,"Bay th\u1eb3ng"),e.qZA()(),e.TgZ(33,"div"),e._UZ(34,"cf-icon",109),e.qZA()(),e.TgZ(35,"div",101)(36,"div",102),e._uU(37),e.qZA(),e.TgZ(38,"div",103),e._uU(39),e.qZA()()()(),e.BQk()),2&n){const t=a.$implicit,i=a.index;e.xp6(5),e.hij(" ",i+1," "),e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(3),e.Oqu(t.flightNumber),e.xp6(2),e.Oqu(t.airlineName),e.xp6(3),e.Oqu(t.departure),e.xp6(2),e.Oqu(t.fareClass),e.xp6(4),e.Oqu(t.startTime),e.xp6(2),e.Oqu(t.startPoint),e.xp6(4),e.Oqu(t.durationStr),e.xp6(10),e.Oqu(t.endTime),e.xp6(2),e.Oqu(t.endPoint)}}function ht(n,a){if(1&n&&(e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.name," ")}}function vt(n,a){if(1&n&&(e.TgZ(0,"div",66)(1,"span"),e._uU(2),e.qZA()()),2&n){const t=e.oxw().$implicit,i=e.oxw().$implicit;e.xp6(2),e.AsE(" ",i.name," - ",t.name," ")}}function xt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,vt,3,2,"div",64),e.BQk()),2&n){const t=a.$implicit,i=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",!i.isAllFareClass&&t.isActive)}}function Et(n,a){if(1&n&&(e.ynx(0,13),e.YNc(1,ht,3,1,"div",64),e.YNc(2,xt,2,1,"ng-container",65),e.BQk()),2&n){const t=a.$implicit;e.xp6(1),e.Q6J("ngIf",t.isAllFareClass),e.xp6(1),e.Q6J("ngForOf",t.fareClass)}}function Tt(n,a){if(1&n&&(e.TgZ(0,"div",62),e.YNc(1,Et,3,2,"ng-container",63),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.listFareTypeOptions)}}function Ct(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Ot(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.configOrderform.value.targetPrice)," \u0111 ")}}function Dt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function yt(n,a){1&n&&(e.TgZ(0,"div",110)(1,"div",84),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n: "),e.qZA(),e.TgZ(3,"div",85),e._uU(4,"Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n canh v\xe9 "),e.qZA()())}function bt(n,a){1&n&&e._UZ(0,"div",17)}function Zt(n,a){if(1&n&&(e.ynx(0),e.YNc(1,bt,1,0,"div",111),e.TgZ(2,"div",112)(3,"div",92),e._uU(4),e.qZA(),e.TgZ(5,"div",113)(6,"div",92),e._uU(7),e.qZA()()(),e.BQk()),2&n){const t=a.$implicit,i=a.index,r=a.first;e.xp6(1),e.Q6J("ngIf",!r),e.xp6(3),e.hij("",i+1,"."),e.xp6(3),e.Oqu(t.displayName)}}function At(n,a){1&n&&(e.TgZ(0,"div",118),e._uU(1,"B\u1ea1n \u0111\u01b0\u1ee3c mi\u1ec5n ph\xed y\xeau c\u1ea7u n\xe0y"),e.qZA())}function It(n,a){if(1&n&&(e.TgZ(0,"div",118),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("N\u1ebfu canh \u0111\u01b0\u1ee3c v\xe9, b\u1ea1n s\u1ebd tr\u1ea3 ph\xed b\u1eb1ng ",e.lcZ(2,2,t.configOrderData.avaliableSlotInfo.percent),"",t.configOrderData.avaliableSlotInfo.currency," ch\xeanh l\u1ec7ch gi\xe1 ")}}function Pt(n,a){if(1&n&&(e.TgZ(0,"div",119)(1,"span",120),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",121),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,2,t.configOrderData.avaliableSlotInfo.percent),"",t.configOrderData.avaliableSlotInfo.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function St(n,a){if(1&n&&(e.TgZ(0,"div",119)(1,"span"),e._uU(2),e.ALo(3,"number"),e.qZA(),e._UZ(4,"cf-icon",121),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.AsE("",e.lcZ(3,2,t.configOrderData.avaliableSlotInfo.percent),"",t.configOrderData.avaliableSlotInfo.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function Ft(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",114)(2,"div")(3,"div",13),e._UZ(4,"cf-icon",115),e.TgZ(5,"span",15),e._uU(6,"Ph\xed y\xeau c\u1ea7u"),e.qZA()(),e.YNc(7,At,2,0,"div",116),e.YNc(8,It,3,4,"div",116),e.qZA(),e.YNc(9,Pt,5,4,"div",117),e.YNc(10,St,5,4,"div",117),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(7),e.Q6J("ngIf",t.configOrderData.avaliableSlotInfo.free),e.xp6(1),e.Q6J("ngIf",!t.configOrderData.avaliableSlotInfo.free),e.xp6(1),e.Q6J("ngIf",t.configOrderData.avaliableSlotInfo.free),e.xp6(1),e.Q6J("ngIf",!t.configOrderData.avaliableSlotInfo.free)}}function Ut(n,a){if(1&n&&(e.TgZ(0,"div",10)(1,"div",78)(2,"div",37)(3,"div",13),e._UZ(4,"cf-icon",79),e.TgZ(5,"span",15),e._uU(6,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(7,"div",80),e.YNc(8,We,38,12,"ng-container",65),e.qZA()(),e.TgZ(9,"div",37)(10,"div",13),e._UZ(11,"cf-icon",81),e.TgZ(12,"span",15),e._uU(13,"Th\xf4ng tin y\xeau c\u1ea7u"),e.qZA()(),e.TgZ(14,"div",82)(15,"div",83)(16,"div",84),e._uU(17,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n: "),e.qZA(),e.TgZ(18,"div",85),e.YNc(19,rt,2,1,"div",59),e.YNc(20,at,2,0,"span",9),e.qZA()(),e.TgZ(21,"div",83)(22,"div",84),e._uU(23,"M\u1ee9c gi\xe1 mong mu\u1ed1n: "),e.qZA(),e.TgZ(24,"div",85),e.YNc(25,ot,3,3,"span",9),e.YNc(26,lt,2,0,"span",9),e.qZA()(),e.YNc(27,ct,5,0,"div",86),e.qZA()(),e.TgZ(28,"div",37)(29,"div",13),e._UZ(30,"cf-icon",87),e.TgZ(31,"span",15),e._uU(32,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(33,"div",82),e.YNc(34,dt,8,3,"ng-container",65),e.qZA()(),e.YNc(35,gt,11,4,"div",9),e.TgZ(36,"div",37)(37,"div",13),e._UZ(38,"cf-icon",88),e.TgZ(39,"span",15),e._uU(40,"M\u1ed9t s\u1ed1 l\u01b0u \xfd"),e.qZA()(),e.TgZ(41,"div",89)(42,"div",90)(43,"div"),e._UZ(44,"cf-icon",91),e.qZA(),e.TgZ(45,"div")(46,"span",92),e._uU(47,"N\u1ebfu gi\xe1 v\xe9 t\u0103ng,"),e.qZA(),e._uU(48," th\xf4ng b\xe1o \u0111\u1ebfn b\u1ea1n v\u1ec1 thay \u0111\u1ed5i gi\xe1 mi\u1ec5n ph\xed v\xe0 ti\u1ebfp t\u1ee5c canh \u0111\u1ebfn khi h\u1ebft h\u1ea1n canh v\xe9. "),e.qZA()(),e.TgZ(49,"div",90)(50,"div"),e._UZ(51,"cf-icon",18),e.qZA(),e.TgZ(52,"div")(53,"span",92),e._uU(54,"B\u1ea1n kh\xf4ng m\u1ea5t b\u1ea5t c\u1ee9 kho\u1ea3n ph\xed n\u1ebfu kh\xf4ng canh \u0111\u01b0\u1ee3c v\xe9 r\u1ebb."),e.qZA(),e._uU(55," C\xf3 th\u1ec3 h\u1ee7y canh v\xe9 b\u1ea5t k\xec l\xfac n\xe0o!"),e.qZA()(),e.TgZ(56,"div",90)(57,"div"),e._UZ(58,"cf-icon",93),e.qZA(),e.TgZ(59,"div",92),e._uU(60,"B\u1ea1n \u0111\u1ed3ng \xfd v\u1edbi "),e.TgZ(61,"span",94),e._uU(62,"\u0111i\u1ec1u kho\u1ea3n s\u1eed d\u1ee5ng"),e.qZA(),e._uU(63," khi s\u1eed d\u1ee5ng t\xednh n\u0103ng n\xe0y. "),e.qZA()()()()(),e.TgZ(64,"div",95)(65,"div",37)(66,"div",13),e._UZ(67,"cf-icon",87),e.TgZ(68,"span",15),e._uU(69,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(70,"div",80),e.YNc(71,mt,40,11,"ng-container",65),e.qZA()(),e.TgZ(72,"div",37)(73,"div",13),e._UZ(74,"cf-icon",87),e.TgZ(75,"span",15),e._uU(76,"Th\xf4ng tin y\xeau c\u1ea7u"),e.qZA()(),e.TgZ(77,"div",82)(78,"div",83)(79,"div",84),e._uU(80,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n: "),e.qZA(),e.TgZ(81,"div",85),e.YNc(82,Tt,2,1,"div",59),e.YNc(83,Ct,2,0,"span",9),e.qZA()(),e.TgZ(84,"div",83)(85,"div",84),e._uU(86,"M\u1ee9c gi\xe1 mong mu\u1ed1n: "),e.qZA(),e.TgZ(87,"div",85),e.YNc(88,Ot,3,3,"span",9),e.YNc(89,Dt,2,0,"span",9),e.qZA()(),e.YNc(90,yt,5,0,"div",86),e.qZA()(),e.TgZ(91,"div",37)(92,"div",13),e._UZ(93,"cf-icon",87),e.TgZ(94,"span",15),e._uU(95,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(96,"div",82),e.YNc(97,Zt,8,3,"ng-container",65),e.qZA()(),e.YNc(98,Ft,11,4,"div",9),e.qZA()()),2&n){const t=e.oxw();e.xp6(8),e.Q6J("ngForOf",(null==t.configOrderData?null:t.configOrderData.journeys)||e.DdM(16,xe)),e.xp6(11),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.FARE&&t.configOrderform.value.specifyFareClass),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(5),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.notifyBeforeExpired),e.xp6(7),e.Q6J("ngForOf",t.configOrderData.passengers),e.xp6(1),e.Q6J("ngIf",t.configOrderData.avaliableSlotInfo),e.xp6(36),e.Q6J("ngForOf",(null==t.configOrderData?null:t.configOrderData.journeys)||e.DdM(17,xe)),e.xp6(11),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.FARE&&t.configOrderform.value.specifyFareClass),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(5),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.configOrderform.value.notifyBeforeExpired),e.xp6(7),e.Q6J("ngForOf",t.configOrderData.passengers),e.xp6(1),e.Q6J("ngIf",t.configOrderData.avaliableSlotInfo)}}function wt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",127)(1,"button",128),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.close())}),e._uU(2," \u0110\xf3ng "),e.qZA(),e.TgZ(3,"button",129),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.close())}),e._UZ(4,"cf-icon",130),e.TgZ(5,"span"),e._uU(6,"Quay l\u1ea1i"),e.qZA()(),e.TgZ(7,"button",131),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onChangeStep("CRAWL"))}),e.TgZ(8,"span"),e._uU(9,"Ti\u1ebfp t\u1ee5c"),e.qZA(),e._UZ(10,"cf-icon",132),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(7),e.Q6J("disabled",t.configOrderform.invalid)}}function kt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",127)(1,"button",133),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onChangeStep("EDIT"))}),e._UZ(2,"cf-icon",130),e._uU(3," Quay l\u1ea1i "),e.qZA(),e.TgZ(4,"button",131),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onOk())}),e.TgZ(5,"span"),e._uU(6,"X\xe1c nh\u1eadn"),e.qZA(),e._UZ(7,"cf-icon",134),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("disabled",t.configOrderform.invalid)}}function Nt(n,a){1&n&&(e.TgZ(0,"div",136)(1,"span",137),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",121),e.qZA())}function qt(n,a){1&n&&(e.TgZ(0,"div",136)(1,"span",137),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",121),e.qZA())}function Mt(n,a){if(1&n&&(e.YNc(0,Nt,4,0,"div",135),e.YNc(1,qt,4,0,"div",135)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}function Rt(n,a){1&n&&e._UZ(0,"cf-spinner")}let W=(()=>{class n{constructor(t,i,r,o,d,g,u,m,T,h,x,S,w,J){this.ref=i,this.bottomSheetData=r,this.calendar=o,this._fb=d,this._cd=g,this._ticketLowFareService=u,this._toastService=m,this._modal=T,this._eventLogService=h,this.bottomSheetRef=x,this._mobileDetectService=S,this._bottomSheetService=w,this._flightDataService=J,this.title="Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u canh v\xe9 r\u1ebb",this.timeExpireStr="",this.isDisableNotify=!1,this.isOpen=!1,this.numOfMonth=1,this.dateExpireSelected=null,this.bottomCenter=[{originX:"center",originY:"bottom",overlayX:"center",overlayY:"top",offsetX:0,offsetY:0}],this.hoursOption=[],this.minuteOption=[],this.timeOption=[],this.isExpand=!0,this.step="EDIT",this.lowerFareClassOptions=[],this.MAX_TIME_EXECUTE=48,this.isLoading=!1,this.MONITOR_TYPE=C.$,this.listFareTypeOptions=[],t.registerIcons([p.YvC,p.TM4,p.RxK,p.Nnv,p.Vn9,p.qDv,p.KMO,p.rJw,p.PcQ,p.ZlA,p.Lji,p.PSW]),i&&(this.orderId=i.data.orderId,this.sourceEvent=i.data.sourceEvent),r&&(this.isExpand=!1,this.orderId=r.orderId,this.sourceEvent=r.sourceEvent),this.minDate=o.getToday()}ngOnInit(){this.timeOption=this.generateTimeArrays(),this.initFormGroup(),this.orderId&&this.loadCurrentConfig()}initFormGroup(){this.configOrderform=this._fb.group({notifyBeforeExpired:[!1],currentFareClass:[null],monitorType:[C.$.FARE],timeExecute:[this.MAX_TIME_EXECUTE],dayExpire:[null,c.kI.required],hoursExpire:[null,c.kI.required],targetPrice:[0],specifyFareClass:[[]]})}generateTimeArrays(t=0,i=0,r=24,o=60){const d=[];for(let g=t+1;g<=r;g++)for(let u=0;u<o;u+=15){const m=g.toString().padStart(2,"0"),T=u.toString().padStart(2,"0");d.push({value:`${m}:${T}`,text:`${m}:${T}`})}return d}loadCurrentConfig(){const t={orderId:this.orderId};this.isLoading=!0,this._ticketLowFareService.getCurrentConfigOrder(t).pipe((0,P.x)(()=>this.isLoading=!1)).subscribe({next:i=>{var r,o,d,g;if("OK"===i.status){this.configOrderData={orderId:i.data.orderId,pnr:i.data.pnr,conditionId:i.data.conditionId||"",monitorType:i.data.monitorType,notifyBeforeExpired:i.data.advanceSetting.notifyBeforeExpired,targetPrice:i.data.monitorType===C.$.PRICE?i.data.priceMonitor.targetPrice:(null===(r=i.data.ticketInfo)||void 0===r?void 0:r.totalFare)||0,currentFareClass:(null===(o=i.data.monitorFare)||void 0===o?void 0:o.currentFareClass)||"",specifyFareClass:(null===(d=i.data.monitorFare)||void 0===d?void 0:d.specifyFareClass)||[],passengers:i.data.ticketInfo.passengers.map(x=>({firstName:x.firstName,displayName:`${x.lastName} ${x.firstName}`,key:x.key,lastName:x.lastName,parentKey:x.parentKey,type:x.type})),journeys:(null===(g=i.data.ticketInfo.journeys)||void 0===g?void 0:g.map(x=>({airline:i.data.ticketInfo.airline,airlineName:this._flightDataService.getAirlineNameByCode(i.data.ticketInfo.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(i.data.ticketInfo.airline),flightNumber:`${i.data.ticketInfo.airline}${x.segments[0].flightNumber}`,startPoint:x.startPoint,endPoint:x.endPoint,startTime:D(x.departTime).format("HH:mm"),endTime:D(x.arrivalTime).format("HH:mm"),departure:D(x.departTime).format("DD/MM/YYYY"),departureDateTime:new Date(x.departTime),fareClass:i.data.monitorFare.currentFareClass,duration:(0,G.N)(x.duration),durationStr:(0,G.N)(x.duration)})))||[],ticketInfoOrder:i.data.ticketInfo,timeExpire:i.data.timeExpire,avaliableSlotInfo:{amountPerPax:i.data.availableSlotInfo.amountPerPax,currency:i.data.availableSlotInfo.currency,free:i.data.availableSlotInfo.free,percent:i.data.availableSlotInfo.percent,type:i.data.availableSlotInfo.type}},this.availableSlotData={available:i.data.availableSlotInfo.free,type:i.data.availableSlotInfo.type,amount:i.data.availableSlotInfo.type===I.G.DOWN_FARE_TICKET?i.data.availableSlotInfo.percent:i.data.availableSlotInfo.amountPerPax,currency:i.data.availableSlotInfo.type===I.G.DOWN_FARE_TICKET?i.data.availableSlotInfo.currency:"\u0111"},this.generateTime();const u=new Date;Math.floor((new Date(i.data.timeExpire).getTime()-u.getTime())/6e4)<15&&(this.isDisableNotify=!0),this.dateExpireSelected=D(this.configOrderData.timeExpire).toDate(),this.configOrderform.patchValue({notifyBeforeExpired:this.configOrderData.notifyBeforeExpired,targetPrice:this.configOrderData.targetPrice,currentFareClass:this.configOrderData.currentFareClass,specifyFareClass:this.configOrderData.specifyFareClass,dayExpire:D(this.configOrderData.timeExpire).toDate(),hoursExpire:D(this.configOrderData.timeExpire).format("HH:mm"),monitorType:this.configOrderData.monitorType}),this.configOrderData.monitorType===C.$.FARE&&(this.configOrderform.controls.specifyFareClass.setValidators([c.kI.required]),this.configOrderform.controls.specifyFareClass.updateValueAndValidity()),this.configOrderData.monitorType===C.$.PRICE&&(this.configOrderform.controls.targetPrice.setValidators([c.kI.required]),this.configOrderform.controls.targetPrice.updateValueAndValidity()),this.timeExpireStr=this.configOrderform.value.hoursExpire+":"+this.configOrderform.value.minuteExpire,this.getListLowerFareClass(this.configOrderData.ticketInfoOrder.airline,i.data.monitorFare.currentFareClass)}else this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0})},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:"C\xf3 l\u1ed7i x\u1ea3y ra. Vui l\xf2ng th\u1eed l\u1ea1i!",sticky:!0})}})}generateTime(){const t=new Date,o=(new Date(this.configOrderData.ticketInfoOrder.journeys[0].departTime).getTime()-t.getTime())/36e5-2,d=Math.min(Math.floor(o),this.MAX_TIME_EXECUTE);t.setHours(t.getHours()+d),this.timeExpire=t,this.maxDate=(0,ae.jy)(this.timeExpire),this._cd.detectChanges()}getListLowerFareClass(t,i){this._ticketLowFareService.getListLowerFareClass({airline:t,fareClass:i}).subscribe({next:o=>{var d,g;"OK"===o.status&&(this.lowerFareClassOptions=(null===(d=o.data.cabin)||void 0===d?void 0:d.flatMap(u=>u.fareType.map(m=>({code:m.code,value:m.description,children:m.fareClass.map(T=>({code:T.code,value:T.name}))}))))||[],this.listFareTypeOptions=(null===(g=o.data.cabin)||void 0===g?void 0:g.flatMap(u=>u.fareType.map(m=>({order:m.order,code:m.code,name:m.description,isActive:!1,isExpand:!1,isAllFareClass:!1,fareTypeSelected:0,totalFareType:m.fareClass.length,fareClass:m.fareClass.map(T=>({order:T.order,code:T.code,name:T.name,isActive:!1}))}))))||[],this._cd.detectChanges(),this.configOrderData&&this.configOrderData.specifyFareClass&&setTimeout(()=>{this.configOrderform.controls.specifyFareClass.setValue(this.configOrderData.specifyFareClass),this.listFareTypeOptions.forEach(u=>{u.fareClass.forEach(m=>{m.isActive=this.configOrderData.specifyFareClass.includes(m.code)}),u.isAllFareClass=u.fareClass.every(m=>m.isActive),u.isActive=u.fareClass.some(m=>m.isActive)})},0))}})}close(){this.ref&&this.ref.close(),this.bottomSheetData&&this.bottomSheetRef.dismiss()}onOk(){const t=this.configOrderform.value,i={orderId:this.configOrderData.orderId,advanceSetting:{notifyBeforeExpired:t.notifyBeforeExpired},conditionId:this.configOrderData.conditionId,fareMonitor:{specifyFareClass:t.specifyFareClass},priceMonitor:{targetPrice:t.targetPrice},monitorType:t.monitorType,timeExpire:D(t.dayExpire).format("YYYY-MM-DD")+`T${t.hoursExpire}:00`};this._eventLogService.captureEditDownFare({updateTypes:{timeExpire:i.timeExpire===this.configOrderData.timeExpire?0:1,fare:t.specifyFareClass===this.configOrderData.specifyFareClass?0:1,price:t.targetPrice===this.configOrderData.targetPrice?0:1,notif:t.notifyBeforeExpired===this.configOrderData.notifyBeforeExpired?0:1},source:"CARD_MANAGE"===this.sourceEvent?1:0}),this.isLoading=!0,this._ticketLowFareService.updateConfigOrder(i).pipe((0,P.x)(()=>this.isLoading=!1)).subscribe({next:r=>{"OK"===r.status?(this.ref&&this.ref.close("OK"),this.bottomSheetData&&this.bottomSheetRef.dismiss("OK")):(this.ref&&this.ref.close("ERROR"),this.bottomSheetData&&this.bottomSheetRef.dismiss("ERROR"))}})}onExpandConfig(){this.configOrderform.controls.targetPrice.valid&&(this.isExpand=!this.isExpand)}onChangeStep(t){this.step=t,"CRAWL"==t&&(this.title="X\xe1c nh\u1eadn y\xeau c\u1ea7u canh v\xe9")}onChangeLowFare(){if(this.configOrderform.value.monitorType===C.$.PRICE)if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(O.Q4,{headerTitle:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});t.containerInstance._rightButtonClick.subscribe(()=>{t.dismiss()}),t.afterDismissed().subscribe(i=>{i&&(this.configOrderform.controls.monitorType.setValue(C.$.FARE),this.configOrderform.controls.specifyFareClass.setValue(null),this.configOrderform.controls.targetPrice.setValue(this.configOrderData.targetPrice||1),this.configOrderform.controls.specifyFareClass.setValidators([c.kI.required]),this.configOrderform.controls.specifyFareClass.updateValueAndValidity(),this.configOrderform.controls.targetPrice.setValidators(null),this.configOrderform.controls.targetPrice.updateValueAndValidity())})}else this._modal.open(O.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n s\u1ebd h\u1ee7y c\xe1c ch\u1ec9nh s\u1eeda c\u1ee7a t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong>. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c ch\u1ecdn h\u1ea1ng gh\u1ebf mong mu\u1ed1n?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:i=>{i.data&&(this.configOrderform.controls.monitorType.setValue(C.$.FARE),this.configOrderform.controls.specifyFareClass.setValue(null),this.configOrderform.controls.targetPrice.setValue(this.configOrderData.targetPrice||1),this.configOrderform.controls.specifyFareClass.setValidators([c.kI.required]),this.configOrderform.controls.specifyFareClass.updateValueAndValidity(),this.configOrderform.controls.targetPrice.setValidators(null),this.configOrderform.controls.targetPrice.updateValueAndValidity())}})}onChangePrice(){var t;if(this.configOrderform.value.monitorType===C.$.FARE&&null!==(t=this.configOrderform.value.specifyFareClass)&&void 0!==t&&t.length)if(this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(O.Q4,{headerTitle:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c canh theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}});i.containerInstance._rightButtonClick.subscribe(()=>{i.dismiss()}),i.afterDismissed().subscribe(r=>{r&&(this.configOrderform.controls.monitorType.setValue(C.$.PRICE),this.configOrderData.monitorType=C.$.PRICE,this.configOrderform.controls.targetPrice.setValue(this.configOrderData.targetPrice||1),this.configOrderform.controls.targetPrice.setValidators([c.kI.required]),this.configOrderform.controls.targetPrice.updateValueAndValidity(),this.configOrderform.controls.specifyFareClass.setErrors(null))})}else this._modal.open(O.V0,{title:"X\xe1c nh\u1eadn thay \u0111\u1ed5i",body:"Vi\u1ec7c b\u1eadt t\xednh n\u0103ng <strong>Canh theo gi\xe1 v\xe9</strong> s\u1ebd h\u1ee7y ch\u1ec9nh s\u1eeda c\u1ee7a c\xe1c h\u1ea1ng gh\u1ebf mong mu\u1ed1n. B\u1ea1n mu\u1ed1n ti\u1ebfp t\u1ee5c canh theo gi\xe1 v\xe9?",okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y",hasIcon:!0}).afterClosed$.subscribe({next:r=>{r.data&&(this.configOrderform.controls.monitorType.setValue(C.$.PRICE),this.configOrderData.monitorType=C.$.PRICE,this.configOrderform.controls.targetPrice.setValue(this.configOrderData.targetPrice||1),this.configOrderform.controls.targetPrice.setValidators([c.kI.required]),this.configOrderform.controls.targetPrice.updateValueAndValidity(),this.configOrderform.controls.specifyFareClass.setErrors(null))}});else this.configOrderform.controls.monitorType.setValue(C.$.PRICE),this.configOrderform.controls.targetPrice.setValue(this.configOrderData.targetPrice||1),this.configOrderform.controls.targetPrice.setValidators([c.kI.required]),this.configOrderform.controls.targetPrice.updateValueAndValidity(),this.configOrderform.controls.specifyFareClass.setErrors(null)}onCheckNotify(t){this.configOrderform.controls.notifyBeforeExpired.setValue(t)}checkDirtyNumber(t,i){this.configOrderform.controls[t].setErrors(i<=0?{minAmount:!0}:this.configOrderData.monitorType===C.$.PRICE&&i>this.configOrderData.targetPrice?{maxAmount:!0}:i?null:{required:!0})}click(t){this.isOpen=!this.isOpen,t.stopPropagation()}onSelectedTimeExpire(){this.isOpen=!1}onDateSelected(t){const i=D(t).format("DD/MM/YYYY"),r=D(new Date).format("DD/MM/YYYY"),o=D(this.timeExpire).format("DD/MM/YYYY");this.timeOption=i===r?this.generateTimeArrays((new Date).getHours(),(new Date).getMinutes(),24,60):i===o?this.generateTimeArrays(0,0,this.timeExpire.getHours(),this.timeExpire.getMinutes()):this.generateTimeArrays(0,0,24,60),this.timeOption.includes(this.configOrderform.controls.hoursExpire.value)?this.configOrderform.controls.hoursExpire.setErrors(null):this.configOrderform.controls.hoursExpire.setErrors({illegal:!0})}openFareOptions(){const t=this.listFareTypeOptions.every(i=>i.isActive);if(this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(Ze.X,{headerTitle:"H\xe3ng bay/H\u1ea1ng gh\u1ebf",containerFullHeigh:!0,data:{listFareTypeOptions:this.listFareTypeOptions,selectedAll:t}});i.containerInstance._rightButtonClick.subscribe(()=>i.dismiss()),i.afterDismissed().subscribe({next:r=>{var o;r&&(this.listFareTypeOptions=r),i.dismiss();const d=(null===(o=this.listFareTypeOptions)||void 0===o?void 0:o.flatMap(g=>g.fareClass).filter(g=>g.isActive).map(g=>g.code))||[];this.configOrderform.controls.specifyFareClass.setValue(d||null)}})}else this._modal.open(Ze.X,{listFareTypeOptions:this.listFareTypeOptions,selectedAll:t}).afterClosed$.subscribe(r=>{var o;r.data&&(this.listFareTypeOptions=r.data);const d=(null===(o=this.listFareTypeOptions)||void 0===o?void 0:o.flatMap(g=>g.fareClass).filter(g=>g.isActive).map(g=>g.code))||[];this.configOrderform.controls.specifyFareClass.setValue(d||null)})}onRemoveFareTypeOption(t,i){t.preventDefault(),t.stopPropagation(),i.isActive=!1,i.isAllFareClass=!1,i.fareClass.forEach(r=>r.isActive=!1),this.handleFareClassOption()}onRemoveFareClassOption(t,i){t.preventDefault(),t.stopPropagation(),i.isActive=!1,this.handleFareClassOption()}handleFareClassOption(){var t;if(this.listFareTypeOptions.every(r=>!r.isActive))this.configOrderform.controls.specifyFareClass.setValue(null);else{const r=(null===(t=this.listFareTypeOptions)||void 0===t?void 0:t.flatMap(o=>o.fareClass).filter(o=>o.isActive).map(o=>o.code))||[];this.configOrderform.controls.specifyFareClass.setValue(r||null)}}expireDatePickerClick(t){if(this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(t,{headerTitle:"Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:""});i.containerInstance._rightButtonClick.subscribe(()=>i.dismiss()),i.afterDismissed().subscribe(r=>{var o,d;r||null===(o=this.configOrderform)||void 0===o||o.controls.dayExpire.setValue(null!==(d=this.dateExpireSelected)&&void 0!==d?d:null)})}}expireDateFocus(t){if(this._mobileDetectService.isMobile())return t.preventDefault(),!1}onCloseDatePicker(){this._bottomSheetService.dismiss()}onMobileDatePickerOK(){var t,i,r,o,d;this._bottomSheetService.dismiss(!0),!(null===(t=this.configOrderform)||void 0===t)&&t.controls.dayExpire.value&&(this.dateExpireSelected=null===(i=this.configOrderform)||void 0===i?void 0:i.controls.dayExpire.value),null===(r=this.configOrderform)||void 0===r||r.controls.dayExpire.setValue(null===(o=this.configOrderform)||void 0===o?void 0:o.controls.dayExpire.value),this.onDateSelected(null===(d=this.configOrderform)||void 0===d?void 0:d.controls.dayExpire.value)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(X.gb,8),e.Y36(Y.Rr,8),e.Y36(ae.jH),e.Y36(c.qu),e.Y36(e.sBO),e.Y36(ge.s),e.Y36(me.BX),e.Y36(X.oE),e.Y36(he.x),e.Y36(Y.Zu,8),e.Y36(ce.L),e.Y36(Y.a2),e.Y36(ve.G))},n.\u0275cmp=e.Xpm({type:n,selectors:[["edit-pnr-order"]],standalone:!0,features:[e.jDz],decls:14,vars:6,consts:[[1,"w-[700px]","max-h-[600px]","overflow-hidden","rounded-lg","bg-neutral-white","flex","flex-col","md:w-screen","md:max-h-none","md:h-full","md:justify-between","md:rounded-none"],[1,"flex","justify-between","items-center","px-6","py-[13px]","border-b","border-neutral-gray-1","md:hidden"],[1,"text-heading-xs","text-neutral-black"],["size","medium","icon","close",1,"text-neutral-gray-4","cursor-pointer",3,"click"],[1,"p-6","w-full","h-full","overflow-auto"],["class","flex flex-col gap-y-5",4,"ngIf"],[1,"p-6"],["class","flex justify-end gap-x-4 md:justify-between",4,"ngIf"],["availableSlotRef",""],[4,"ngIf"],[1,"flex","flex-col","gap-y-5"],[1,"flex","flex-col","gap-y-2.5"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","gap-x-2"],["icon","coupon","size","small"],[1,"text-heading-sm","text-neutral-black"],[1,"text-heading-lg"],[1,"w-full","h-[1px]","bg-neutral-gray-1"],["icon","clock","size","small"],["type","inverted",3,"color"],[1,"flex","justify-between","gap-x-6","md:flex-col","md:gap-y-4"],[1,"!w-1/2","md:!w-full",3,"status"],["cfHeadIcon","","icon","calendar","size","small"],["cfDatepicker","","type","text","size","medium","cf-input","","placeholder","Ch\u1ecdn ng\xe0y k\u1ebft th\xfac",1,"py-[7px]",3,"secondaryCalendar","displayMonths","minDate","maxDate","formControl","input","dateSelect","click","mousedown"],["dateFrom","cfDatepicker"],["cfHint","",3,"hint",4,"ngIf"],["datepickerBottomSheet",""],[1,"!w-1/2","md:!w-full"],["textField","text","valueField","value",1,"!max-w-none","w-full","md:!max-w-full",3,"status","data","placeholder","allowSearch","formControl"],["cfHeadIcon","","icon","clock","size","small"],[1,"flex","justify-between","items-start"],["icon","seat","size","small"],[1,"text-body-md-short","flex","items-center","gap-x-2.5"],[1,"text-body-md-short"],[1,"cursor-pointer",3,"click"],[1,"pointer-events-none",3,"checked"],["class","",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],["icon","price_down","size","small"],[1,"border","border-dashed","border-neutral-gray-3","rounded"],[1,"py-[9px]","px-[14px]","flex","items-center","gap-x-2","cursor-pointer",3,"click"],["icon","filter","size","small"],[1,"flex-1"],["icon","plus","size","small",4,"ngIf"],["icon","remove","size","small",4,"ngIf"],["class","p-4 border-t border-neutral-gray-2",4,"ngIf"],[3,"availableSlotData","content"],["cfHint","",3,"hint"],[1,"flex","w-full","flex-col","justify-between"],["infinite-scroll","",1,"w-full","flex",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollUpDistance","scrollWindow","fromRoot","alwaysCallback","infiniteScrollContainer"],["outsideDays","hidden","navigation","none","direction","vertical",1,"",3,"minDate","displayMonths","rangeSelection","secondaryCalendar","formControl","maxDate","fromDate","displayMonthsOffset"],[1,"p-6","w-full","bg-neutral-white"],[1,"flex","gap-x-4"],["cf-button","","type","secondary",1,"justify-center","w-full",3,"click"],["cf-button","",1,"justify-center","w-full",3,"disabled","click"],[1,""],[1,"flex","justify-between","items-center","border","border-[#CCCCCC]","rounded","mt-2","mb-2","cursor-pointer","p-2",3,"click"],["id","faresgroup",1,"flex","flex-wrap","gap-2","max-h-[7em]","overflow-y-auto"],["class","text-neutral-gray-4 text-body-md-short",4,"ngIf"],["class","flex items-center gap-2 flex-wrap",4,"ngIf"],["icon","chevron_down","size","small",1,"cursor-pointer"],[1,"text-neutral-gray-4","text-body-md-short"],[1,"flex","items-center","gap-2","flex-wrap"],["class","flex items-center gap-x-2",4,"ngFor","ngForOf"],["class","border border-neutral-gray-1 flex items-center gap-x-2 bg-[#F2F2F2] text-espressive-sm p-1",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"border","border-neutral-gray-1","flex","items-center","gap-x-2","bg-[#F2F2F2]","text-espressive-sm","p-1"],["icon","close","size","small",3,"click"],[1,"grow-[400]","!w-full",3,"status"],["cfLabel",""],["size","medium",3,"placeholder","formControl","ngModelChange"],["icon","plus","size","small"],["icon","remove","size","small"],[1,"p-4","border-t","border-neutral-gray-2"],[1,"flex","items-center","justify-between","gap-x-2"],["icon","notification","size","small",1,"inline-block"],[3,"checked","disabled","checkedChange"],[1,"text-body-md","pl-6"],[1,"flex","flex-col","gap-y-4","md:hidden"],["icon","plane","size","small"],[1,"border","border-dashed","border-neutral-gray-3","rounded-lg","p-3","flex","flex-col","gap-y-4"],["icon","clipboard_list","size","small"],[1,"border","border-dashed","border-neutral-gray-2","rounded-lg","p-3","flex","flex-col","gap-y-2"],[1,"p-3","border-b","border-neutral-gray-1","flex","gap-x-3"],[1,"min-w-[142px]","whitespace-nowrap","text-body-md-short","text-neutral-black"],[1,"flex-1","text-express-md","text-neutral-gray-6"],["class","p-3 flex gap-x-3",4,"ngIf"],["icon","users","size","small"],["icon","circle_information","size","small"],[1,"flex","flex-col","gap-y-2","text-body-md-short"],[1,"flex","gap-x-3"],["icon","price_up","size","small"],[1,"text-express-md"],["icon","document_check","size","small"],[1,"text-secondary-3-4"],[1,"hidden","md:flex","flex-col","gap-y-4"],[1,"flex","justify-between","gap-x-3","md:hidden"],[1,"flex","items-center","mr-4"],[1,"flex","justify-center","items-center","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-sm"],[1,"w-[80px]","flex-shrink-0","px-4"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"],[1,"flex","flex-col","items-center"],[1,"text-heading-sm"],[1,"text-express-sm","text-neutral-gray-4"],[1,"flex","gap-x-1","items-center"],[1,"flex","flex-col","items-center","gap-y-1","text-express-sm","text-neutral-gray-4","relative"],[1,"flex","items-center"],[1,"w-1","h-1","bg-neutral-gray-3","rounded-full"],[1,"w-[100px]","h-[1px]","bg-neutral-gray-3"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"p-3","flex","gap-x-3"],["class","w-full h-[1px] bg-neutral-gray-1",4,"ngIf"],[1,"flex","gap-x-2","justify-start"],[1,"flex","flex-col","gap-y-2"],[1,"flex","items-start","justify-between","gap-x-2"],["icon","coupon","size","small",1,"inline-block"],["class","text-body-md pl-6 text-neutral-gray-4",4,"ngIf"],["class","inline-flex gap-x-1 items-center whitespace-nowrap text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"text-body-md","pl-6","text-neutral-gray-4"],[1,"inline-flex","gap-x-1","items-center","whitespace-nowrap","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"],[1,"line-through"],["icon","circle_help","size","small",1,"text-neutral-white"],[1,"flex","flex-col","gap-y-3"],[1,"flex","justify-between","gap-x-3"],[1,"flex-1","flex","flex-col","items-start"],[1,"flex","justify-end","gap-x-3"],[1,"w-[66px]","h-[1px]","bg-neutral-gray-3"],[1,"flex","justify-end","gap-x-4","md:justify-between"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full","md:hidden",3,"click"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full","hidden","md:flex",3,"click"],["icon","chevron_left","size","small",1,"mr-2.5"],["cf-button","","size","medium","color","primary-1",1,"justify-center","md:w-full",3,"disabled","click"],["icon","chevron_right","size","small",1,"ml-2.5"],["cf-button","","size","medium","type","secondary",1,"justify-center","md:w-full",3,"click"],["icon","circle_check","size","small",1,"ml-2.5"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"cf-icon",3),e.NdJ("click",function(){return i.close()}),e.qZA()(),e.TgZ(5,"div",4),e.YNc(6,Xe,69,29,"div",5),e.YNc(7,Ut,99,18,"div",5),e.qZA(),e.TgZ(8,"div",6),e.YNc(9,wt,11,1,"div",7),e.YNc(10,kt,8,1,"div",7),e.qZA()(),e.YNc(11,Mt,2,2,"ng-template",null,8,e.W1O),e.YNc(13,Rt,1,0,"cf-spinner",9)),2&t&&(e.xp6(3),e.Oqu(i.title),e.xp6(3),e.Q6J("ngIf","EDIT"===i.step),e.xp6(1),e.Q6J("ngIf","CRAWL"===i.step),e.xp6(2),e.Q6J("ngIf","EDIT"===i.step),e.xp6(1),e.Q6J("ngIf","CRAWL"===i.step),e.xp6(3),e.Q6J("ngIf",i.isLoading))},dependencies:[l.ez,l.sg,l.O5,l.JJ,l.uU,c.u5,c.Fj,c.JJ,c.UX,c.oH,p.AxE,p.Sm8,y.N8,y.Xq,Se.I,A.j$,A.ND,A.BN,A.lt,ye.b,ae.Cs,Z.f,Fe.m,be.q,O.OR,Y.DW,oe.Rq,oe.Ry,ae._o,le._],encapsulation:2}),n})();var Q=f(40899),Ee=f(82761);function Yt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",87),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onCancelPnrOrder())}),e._uU(1," H\u1ee7y canh "),e._UZ(2,"cf-icon",88),e.qZA()}}function Jt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.gotoBooking(r.pnrOrderDetailData.fareInfo.detectedPnr,r.pnrOrderDetailData.airline))}),e._uU(1," M\u1edf PNR m\u1edbi "),e._UZ(2,"cf-icon",90),e.qZA()}}function Bt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",91,92),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onEditPnrOrder())}),e._uU(2," Ch\u1ec9nh s\u1eeda "),e._UZ(3,"cf-icon",93),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.pnrOrderDetailData.canUpdate)("manualHandle",t.pnrOrderDetailData.canUpdate)("placement","topCenter")("cfTooltip","Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda do \u0111\xe3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc \u0111\xf3")}}function Qt(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onCreateNewRegistration())}),e._UZ(1,"cf-icon",94),e._uU(2," T\u1ea1o l\u1ea1i y\xeau c\u1ea7u "),e.qZA()}}function Lt(n,a){1&n&&(e.TgZ(0,"div",95),e._UZ(1,"cf-icon",96),e.TgZ(2,"div")(3,"span",39),e._uU(4,"\u0110\xe3 c\u1eadp nh\u1eadt y\xeau c\u1ea7u canh v\xe9. "),e.qZA(),e.TgZ(5,"span",97),e._uU(6,"Ch\xfang t\xf4i s\u1ebd canh v\xe9 theo y\xeau c\u1ea7u m\u1edbi c\u1ee7a b\u1ea1n."),e.qZA()()())}function jt(n,a){1&n&&(e.TgZ(0,"div",98),e.O4$(),e.TgZ(1,"svg",99),e._UZ(2,"circle",100)(3,"path",101),e.qZA(),e.kcU(),e.TgZ(4,"div")(5,"span",39),e._uU(6,"C\u1eadp nh\u1eadt y\xeau c\u1ea7u canh v\xe9 th\u1ea5t b\u1ea1i. "),e.qZA(),e.TgZ(7,"span",97),e._uU(8,"C\xf3 l\u1ed7i khi c\u1eadp nh\u1eadt y\xeau c\u1ea7u canh v\xe9. Vui l\xf2ng th\u1eed l\u1ea1i!"),e.qZA()()())}function Ht(n,a){if(1&n&&(e.TgZ(0,"div",102),e._UZ(1,"cf-icon",103),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",null==t.trackingData?null:t.trackingData.percent,"% ")}}function Kt(n,a){if(1&n&&(e.TgZ(0,"div",104),e._UZ(1,"cf-icon",105),e._uU(2),e.qZA()),2&n){const t=e.oxw(2);e.xp6(2),e.hij(" ",null==t.trackingData?null:t.trackingData.percent,"% ")}}function zt(n,a){if(1&n&&(e.TgZ(0,"div",106),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("gi\u1ea3m ",e.lcZ(2,1,null==t.trackingData?null:t.trackingData.gapPrice)," \u0111")}}function $t(n,a){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" t\u0103ng ",e.lcZ(2,1,null==t.trackingData?null:t.trackingData.gapPrice)," \u0111")}}function Gt(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pnrOrderDetailData.fareInfo.detectedFare)," \u0111 ")}}function Vt(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," \u0110ang c\u1eadp nh\u1eadt "),e.qZA())}function Xt(n,a){if(1&n&&(e.TgZ(0,"p"),e.YNc(1,Gt,3,3,"span",20),e.YNc(2,Vt,2,0,"span",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.detectedFare),e.xp6(1),e.Q6J("ngIf",!t.pnrOrderDetailData.fareInfo.detectedFare)}}function Wt(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pnrOrderDetailData.fareInfo.higherFare)," \u0111 ")}}function en(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," \u0110ang c\u1eadp nh\u1eadt "),e.qZA())}function tn(n,a){if(1&n&&(e.TgZ(0,"p"),e.YNc(1,Wt,3,3,"span",20),e.YNc(2,en,2,0,"span",20),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.higherFare),e.xp6(1),e.Q6J("ngIf",!t.pnrOrderDetailData.fareInfo.higherFare)}}function nn(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1," \u0110ang c\u1eadp nh\u1eadt "),e.qZA())}function rn(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.pnrOrderDetailData.fareInfo.detectedFareClass)}}function an(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0110ang c\u1eadp nh\u1eadt"),e.qZA())}function on(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",47),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.gotoBooking(r.pnrOrderDetailData.fareInfo.detectedPnr,r.pnrOrderDetailData.airline))}),e._uU(1," M\u1edf PNR m\u1edbi "),e._UZ(2,"cf-icon",48),e.qZA()}}function ln(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.pnrOrderDetailData.fareInfo.originalFareClass," ")}}function cn(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.pnrOrderDetailData.fareInfo.detectedFareClass," ")}}function sn(n,a){if(1&n&&(e.TgZ(0,"div",108)(1,"div",109)(2,"div",110),e._uU(3),e.qZA()(),e.TgZ(4,"div",111),e._UZ(5,"img",112),e.qZA(),e.TgZ(6,"div",113)(7,"div",114),e._uU(8),e.qZA(),e.TgZ(9,"div",43),e._uU(10),e.qZA()(),e.TgZ(11,"div",113)(12,"div",114),e._uU(13),e.qZA(),e.TgZ(14,"div",43),e.YNc(15,ln,2,1,"span",20),e.YNc(16,cn,2,1,"span",20),e.qZA()(),e.TgZ(17,"div",113)(18,"div",114),e._uU(19),e.qZA(),e.TgZ(20,"div",43),e._uU(21),e.qZA()(),e.TgZ(22,"div",115)(23,"div",116)(24,"div"),e._uU(25),e.qZA(),e.TgZ(26,"div",52),e._UZ(27,"div",117)(28,"div",118),e.qZA(),e.TgZ(29,"div"),e._uU(30),e.qZA()(),e.TgZ(31,"div"),e._UZ(32,"cf-icon",119),e.qZA()(),e.TgZ(33,"div",113)(34,"div",114),e._uU(35),e.qZA(),e.TgZ(36,"div",43),e._uU(37),e.qZA()()()),2&n){const t=a.$implicit,i=a.index,r=e.oxw(2);e.xp6(3),e.hij(" ",i+1," "),e.xp6(2),e.Q6J("src",r.pnrOrderDetailData.airlineLogo,e.LSH),e.xp6(3),e.Oqu(t.segments[0].flightNumber),e.xp6(2),e.Oqu(r.pnrOrderDetailData.airlineName),e.xp6(3),e.Oqu(t.departDate),e.xp6(2),e.Q6J("ngIf",r.status!==r.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngIf",r.status===r.STATUS_ORDER.COMPLETED),e.xp6(3),e.Oqu(t.departTime),e.xp6(2),e.Oqu(t.startPoint),e.xp6(4),e.Oqu(t.durationStr),e.xp6(5),e.Oqu(r.pnrOrderDetailData.flightType),e.xp6(5),e.Oqu(t.arrivalTime),e.xp6(2),e.Oqu(t.endPoint)}}function dn(n,a){1&n&&e._UZ(0,"div",120)}function un(n,a){if(1&n&&(e.TgZ(0,"div",124),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.child.namePrefix,") ",t.child.displayName," - ",t.child.birthDay," ")}}function pn(n,a){if(1&n&&(e.TgZ(0,"div",121)(1,"div",39),e._uU(2),e.qZA(),e.TgZ(3,"div",122)(4,"div",39),e._uU(5),e.qZA(),e.YNc(6,un,2,3,"div",123),e.qZA()()),2&n){const t=a.$implicit,i=a.index;e.xp6(2),e.hij("",i+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.child)}}function _n(n,a){if(1&n&&(e.TgZ(0,"div",125),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("H\u1ebft h\u1ea1n sau ",t.timeExpiredStr,"")}}function fn(n,a){if(1&n&&(e.TgZ(0,"div",78)(1,"div",79),e._uU(2,"K\u1ebft th\xfac canh:"),e.qZA(),e.TgZ(3,"div",83),e._uU(4),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(4),e.hij("",t.pnrOrderDetailData.orderInfo.timeFinished," ")}}function gn(n,a){if(1&n&&(e.TgZ(0,"div",137),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function mn(n,a){if(1&n&&(e.TgZ(0,"div",129)(1,"div",134),e._uU(2),e.qZA(),e.TgZ(3,"div",135),e.YNc(4,gn,2,1,"div",136),e.qZA()()),2&n){const t=a.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.Q6J("ngForOf",t.fareClass)}}function hn(n,a){if(1&n&&(e.TgZ(0,"div",128)(1,"div",129),e._UZ(2,"img",130),e.TgZ(3,"div",131),e._uU(4),e.TgZ(5,"span",132),e._uU(6),e.qZA()()(),e.YNc(7,mn,5,2,"div",133),e.qZA()),2&n){const t=a.$implicit;e.xp6(2),e.Q6J("src",t.airlineLogo,e.LSH),e.xp6(2),e.hij("",t.airlineName," "),e.xp6(2),e.hij("(",t.airline,")"),e.xp6(1),e.Q6J("ngForOf",t.fareType)}}function vn(n,a){if(1&n&&(e.TgZ(0,"div",126),e.YNc(1,hn,8,4,"div",127),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",t.pnrOrderDetailData.monitors)}}function xn(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function En(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij("",e.lcZ(2,1,t.pnrOrderDetailData.orderInfo.targetPrice)," \u0111")}}function Tn(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Cn(n,a){1&n&&(e.TgZ(0,"div",138)(1,"div",79),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n: "),e.qZA(),e.TgZ(3,"div",83),e._uU(4,"Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n canh v\xe9 "),e.qZA()())}const ee=function(){return["CREATE","IN_PROCESS","IN_PROCESS_PRICE_UP"]},Ae=function(){return["COMPLETED"]},Ie=function(){return["EXPIRED","CANCEL"]},se=function(n){return{"!text-neutral-gray-4 line-through":n}},de=function(n){return{"!text-neutral-gray-6":n}};function On(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"div",25)(2,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.gotoManage())}),e._UZ(3,"cf-icon",27),e._uU(4," Quay l\u1ea1i "),e.qZA(),e.TgZ(5,"div",28),e.YNc(6,Yt,3,0,"button",29),e.YNc(7,Jt,3,0,"button",30),e.YNc(8,Bt,4,4,"button",31),e.YNc(9,Qt,3,0,"button",30),e.qZA()(),e.TgZ(10,"div",32),e.YNc(11,Lt,7,0,"div",33),e.YNc(12,jt,9,0,"div",34),e.TgZ(13,"div")(14,"div",35),e._UZ(15,"tooltip-available-slot",36),e.TgZ(16,"div",37),e._UZ(17,"cf-icon",38),e.TgZ(18,"div",39),e._uU(19),e.qZA()()(),e.TgZ(20,"div",40)(21,"div",41)(22,"div",42)(23,"div",43),e._uU(24,"T\u1ed5ng chi ph\xed c\u0169"),e.qZA(),e.TgZ(25,"div",44)(26,"div",45),e._uU(27),e.ALo(28,"number"),e.qZA(),e.TgZ(29,"div",46),e._uU(30),e.qZA()(),e.TgZ(31,"button",47),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.gotoBooking(r.pnrOrderDetailData.fareInfo.originalPnr,r.pnrOrderDetailData.airline))}),e._uU(32," M\u1edf PNR c\u0169 "),e._UZ(33,"cf-icon",48),e.qZA()(),e.TgZ(34,"div",49),e.YNc(35,Ht,3,1,"div",50),e.YNc(36,Kt,3,1,"div",51),e.TgZ(37,"div",52),e._UZ(38,"div",53)(39,"div",54)(40,"div",55),e.qZA(),e.YNc(41,zt,3,3,"div",56),e.YNc(42,$t,3,3,"div",57),e.qZA(),e.TgZ(43,"div",58)(44,"div",43),e._uU(45,"T\u1ed5ng chi ph\xed m\u1edbi"),e.qZA(),e.TgZ(46,"div",59)(47,"div",60)(48,"span",61),e.YNc(49,Xt,3,2,"p",62),e.YNc(50,tn,3,2,"p",62),e.YNc(51,nn,2,0,"p",63),e.qZA()(),e.TgZ(52,"div",64),e.YNc(53,rn,2,1,"span",20),e.YNc(54,an,2,0,"span",20),e.qZA()(),e.YNc(55,on,3,0,"button",65),e.qZA()(),e.TgZ(56,"div",66),e._UZ(57,"cf-icon",67),e._uU(58),e.qZA()()(),e.TgZ(59,"div",32)(60,"div",68),e._UZ(61,"cf-icon",69),e.TgZ(62,"span",70),e._uU(63,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(64,"div",71),e.YNc(65,sn,38,13,"div",72),e.qZA()(),e.TgZ(66,"div",32)(67,"div",68),e._UZ(68,"cf-icon",73),e.TgZ(69,"span",70),e._uU(70,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(71,"div",74),e.YNc(72,dn,1,0,"div",75),e.YNc(73,pn,7,4,"div",76),e.qZA()(),e.TgZ(74,"div",32)(75,"div",68),e._UZ(76,"cf-icon",77),e.TgZ(77,"span",70),e._uU(78,"C\u1ea5u h\xecnh canh v\xe9"),e.qZA()(),e.TgZ(79,"div",74)(80,"div",78)(81,"div",79),e._uU(82,"H\u1ea1n canh v\xe9:"),e.qZA(),e.TgZ(83,"div",80)(84,"div"),e._uU(85),e.qZA(),e.YNc(86,_n,2,1,"div",81),e.qZA()(),e.YNc(87,fn,5,1,"div",82),e.TgZ(88,"div",78)(89,"div",79),e._uU(90,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n: "),e.qZA(),e.TgZ(91,"div",83),e.YNc(92,vn,2,1,"div",84),e.YNc(93,xn,2,0,"span",20),e.qZA()(),e.TgZ(94,"div",78)(95,"div",79),e._uU(96,"M\u1ee9c gi\xe1 k\xec v\u1ecdng: "),e.qZA(),e.TgZ(97,"div",83),e.YNc(98,En,3,3,"span",20),e.YNc(99,Tn,2,0,"span",20),e.qZA()(),e.YNc(100,Cn,5,0,"div",85),e.qZA()(),e.TgZ(101,"div",32)(102,"div",68),e._UZ(103,"cf-icon",77),e.TgZ(104,"span",70),e._uU(105,"Th\xf4ng tin chi ti\u1ebft"),e.qZA()(),e.TgZ(106,"div",74)(107,"div",78)(108,"div",79),e._uU(109,"M\xe3 y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(110,"div",83),e._uU(111),e.qZA()(),e.TgZ(112,"div",78)(113,"div",79),e._uU(114,"Ng\xe0y y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(115,"div",83),e._uU(116),e.qZA()(),e.TgZ(117,"div",78)(118,"div",79),e._uU(119,"Ph\xed y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(120,"div",86),e._UZ(121,"tooltip-available-slot",36),e.qZA()(),e.TgZ(122,"div",78)(123,"div",79),e._uU(124,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n: "),e.qZA(),e.TgZ(125,"div",83),e._uU(126),e.qZA()(),e.TgZ(127,"div",78)(128,"div",79),e._uU(129,"Thu\u1ed9c \u0111\u1ea1i l\xfd:"),e.qZA(),e.TgZ(130,"div",83),e._uU(131),e.qZA()()()()()()}if(2&n){const t=e.oxw(),i=e.MAs(42),r=e.MAs(44);e.xp6(6),e.Q6J("ngIf",e.DdM(62,ee).includes(t.status)&&t.canMonitorLowFareTicket),e.xp6(1),e.Q6J("ngIf",e.DdM(63,Ae).includes(t.status)),e.xp6(1),e.Q6J("ngIf",e.DdM(64,ee).includes(t.status)&&t.canMonitorLowFareTicket),e.xp6(1),e.Q6J("ngIf",e.DdM(65,Ie).includes(t.status)&&t.canMonitorLowFareTicket),e.xp6(2),e.Q6J("ngIf",t.isUpdated),e.xp6(1),e.Q6J("ngIf",t.isUpdatedFail),e.xp6(2),e.Tol(t.CARD_STATUS[t.status].backgroundColor),e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i),e.xp6(1),e.Tol(t.CARD_STATUS[t.status].textColor),e.xp6(1),e.Q6J("icon",t.CARD_STATUS[t.status].icon),e.xp6(2),e.Oqu(t.CARD_STATUS[t.status].description),e.xp6(7),e.Q6J("ngClass",e.VKq(66,se,t.status===t.STATUS_ORDER.COMPLETED)),e.xp6(1),e.hij(" ",e.lcZ(28,60,t.pnrOrderDetailData.fareInfo.originalFare)," \u0111 "),e.xp6(2),e.Q6J("ngClass",e.VKq(68,se,t.status===t.STATUS_ORDER.COMPLETED)),e.xp6(1),e.hij(" ",t.pnrOrderDetailData.fareInfo.originalFareClass," "),e.xp6(5),e.Q6J("ngIf",t.status===t.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngIf",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(2),e.ekj("!bg-functional-2-3",t.status===t.STATUS_ORDER.COMPLETED)("!bg-functional-3-3",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(1),e.ekj("!border-functional-2-3",t.status===t.STATUS_ORDER.COMPLETED)("!border-functional-3-3",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(1),e.ekj("!border-l-functional-2-3",t.status===t.STATUS_ORDER.COMPLETED)("!border-l-functional-3-3",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(1),e.Q6J("ngIf",t.status===t.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngIf",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(5),e.Q6J("ngClass",e.VKq(70,de,t.status===t.STATUS_ORDER.COMPLETED||t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP)),e.xp6(1),e.Q6J("ngSwitch",t.status),e.xp6(1),e.Q6J("ngSwitchCase",t.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngSwitchCase",t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(2),e.Q6J("ngClass",e.VKq(72,de,t.status===t.STATUS_ORDER.COMPLETED||t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP)),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.detectedFareClass),e.xp6(1),e.Q6J("ngIf",!t.pnrOrderDetailData.fareInfo.detectedFareClass),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.detectedPnr),e.xp6(3),e.hij(" C\u1eadp nh\u1eadt g\u1ea7n nh\u1ea5t l\xfac ",t.pnrOrderDetailData.orderInfo.timeUpdated," "),e.xp6(7),e.Q6J("ngForOf",t.pnrOrderDetailData.journeys),e.xp6(7),e.Q6J("ngIf",!1),e.xp6(1),e.Q6J("ngForOf",t.pnrOrderDetailData.passengers),e.xp6(12),e.Oqu(t.pnrOrderDetailData.orderInfo.timeExpired),e.xp6(1),e.Q6J("ngIf",t.showTimeExpiredStr),e.xp6(1),e.Q6J("ngIf",!e.DdM(74,ee).includes(t.status)),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.orderInfo.notifyBeforeExpire),e.xp6(11),e.Oqu(t.pnrOrderDetailData.code),e.xp6(5),e.hij("",t.pnrOrderDetailData.orderInfo.timeCreated," "),e.xp6(5),e.Q6J("availableSlotData",t.availableSlotData)("content",r),e.xp6(5),e.Oqu(t.pnrOrderDetailData.userActionInfo.name),e.xp6(5),e.Oqu(t.pnrOrderDetailData.ownerInfo.name)}}function Dn(n,a){1&n&&(e.TgZ(0,"div",139),e._UZ(1,"ticket-item-skeleton",140)(2,"ticket-item-skeleton",140)(3,"ticket-item-skeleton",140)(4,"ticket-item-skeleton",140)(5,"ticket-item-skeleton",140),e.qZA())}function yn(n,a){if(1&n&&(e.TgZ(0,"div",102),e._UZ(1,"cf-icon",103),e._uU(2),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",null==t.trackingData?null:t.trackingData.percent,"% ")}}function bn(n,a){if(1&n&&(e.TgZ(0,"div",104),e._UZ(1,"cf-icon",105),e._uU(2),e.qZA()),2&n){const t=e.oxw(3);e.xp6(2),e.hij(" ",null==t.trackingData?null:t.trackingData.percent,"% ")}}function Zn(n,a){if(1&n&&(e.TgZ(0,"div",106),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("gi\u1ea3m ",e.lcZ(2,1,null==t.trackingData?null:t.trackingData.gapPrice)," \u0111")}}function An(n,a){if(1&n&&(e.TgZ(0,"div",107),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij(" t\u0103ng ",e.lcZ(2,1,null==t.trackingData?null:t.trackingData.gapPrice)," \u0111")}}function In(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pnrOrderDetailData.fareInfo.detectedFare)," \u0111 ")}}function Pn(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," \u0110ang c\u1eadp nh\u1eadt "),e.qZA())}function Sn(n,a){if(1&n&&(e.TgZ(0,"p"),e.YNc(1,In,3,3,"span",20),e.YNc(2,Pn,2,0,"span",20),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.detectedFare),e.xp6(1),e.Q6J("ngIf",!t.pnrOrderDetailData.fareInfo.detectedFare)}}function Fn(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.lcZ(2,1,t.pnrOrderDetailData.fareInfo.higherFare)," \u0111 ")}}function Un(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1," \u0110ang c\u1eadp nh\u1eadt "),e.qZA())}function wn(n,a){if(1&n&&(e.TgZ(0,"p"),e.YNc(1,Fn,3,3,"span",20),e.YNc(2,Un,2,0,"span",20),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.higherFare),e.xp6(1),e.Q6J("ngIf",!t.pnrOrderDetailData.fareInfo.higherFare)}}function kn(n,a){1&n&&(e.TgZ(0,"p"),e._uU(1," \u0110ang c\u1eadp nh\u1eadt "),e.qZA())}function Nn(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.pnrOrderDetailData.fareInfo.detectedFareClass)}}function qn(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"\u0110ang c\u1eadp nh\u1eadt"),e.qZA())}function Mn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",151),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.gotoBooking(r.pnrOrderDetailData.fareInfo.detectedPnr,r.pnrOrderDetailData.airline))}),e._uU(1," M\u1edf PNR m\u1edbi "),e.qZA()}}function Rn(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.pnrOrderDetailData.fareInfo.originalFareClass," ")}}function Yn(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",t.pnrOrderDetailData.fareInfo.detectedFareClass," ")}}function Jn(n,a){if(1&n&&(e.TgZ(0,"div")(1,"div",164)(2,"div",52)(3,"div",110),e._uU(4),e.qZA()(),e.TgZ(5,"div",111),e._UZ(6,"img",112),e.qZA(),e.TgZ(7,"div",165)(8,"div",114),e._uU(9),e.qZA(),e.TgZ(10,"div",43),e._uU(11),e.qZA()(),e.TgZ(12,"div",113)(13,"div",114),e._uU(14),e.qZA(),e.TgZ(15,"div",43),e.YNc(16,Rn,2,1,"span",20),e.YNc(17,Yn,2,1,"span",20),e.qZA()()(),e.TgZ(18,"div",166)(19,"div",113)(20,"div",114),e._uU(21),e.qZA(),e.TgZ(22,"div",43),e._uU(23),e.qZA()(),e.TgZ(24,"div",115)(25,"div",116)(26,"div"),e._uU(27),e.qZA(),e.TgZ(28,"div",52),e._UZ(29,"div",117)(30,"div",118),e.qZA(),e.TgZ(31,"div"),e._uU(32),e.qZA()(),e.TgZ(33,"div"),e._UZ(34,"cf-icon",119),e.qZA()(),e.TgZ(35,"div",113)(36,"div",114),e._uU(37),e.qZA(),e.TgZ(38,"div",43),e._uU(39),e.qZA()()()()),2&n){const t=a.$implicit,i=a.index,r=e.oxw(3);e.xp6(4),e.hij(" ",i+1," "),e.xp6(2),e.Q6J("src",r.pnrOrderDetailData.airlineLogo,e.LSH),e.xp6(3),e.Oqu(t.segments[0].flightNumber),e.xp6(2),e.Oqu(r.pnrOrderDetailData.airlineName),e.xp6(3),e.Oqu(t.departDate),e.xp6(2),e.Q6J("ngIf",r.status!==r.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngIf",r.status===r.STATUS_ORDER.COMPLETED),e.xp6(4),e.Oqu(t.departTime),e.xp6(2),e.Oqu(t.startPoint),e.xp6(4),e.Oqu(t.durationStr),e.xp6(5),e.Oqu(r.pnrOrderDetailData.flightType),e.xp6(5),e.Oqu(t.arrivalTime),e.xp6(2),e.Oqu(t.endPoint)}}function Bn(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",144)(1,"div")(2,"div",145)(3,"div",37),e._UZ(4,"cf-icon",38),e.TgZ(5,"div",39),e._uU(6),e.qZA()()(),e.TgZ(7,"div",146)(8,"div",147)(9,"div",42)(10,"div",148),e._uU(11,"T\u1ed5ng chi ph\xed c\u0169"),e.qZA(),e.TgZ(12,"div",44)(13,"div",149),e._uU(14),e.ALo(15,"number"),e.qZA(),e.TgZ(16,"div",150),e._uU(17),e.qZA()(),e.TgZ(18,"button",151),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.gotoBooking(r.pnrOrderDetailData.fareInfo.originalPnr,r.pnrOrderDetailData.airline))}),e._uU(19," M\u1edf PNR c\u0169 "),e.qZA()(),e.TgZ(20,"div",152),e.YNc(21,yn,3,1,"div",50),e.YNc(22,bn,3,1,"div",51),e.TgZ(23,"div",153),e._UZ(24,"div",154)(25,"div",155)(26,"div",156),e.qZA(),e.YNc(27,Zn,3,3,"div",56),e.YNc(28,An,3,3,"div",57),e.qZA(),e.TgZ(29,"div",58)(30,"div",148),e._uU(31,"T\u1ed5ng chi ph\xed m\u1edbi"),e.qZA(),e.TgZ(32,"div",59)(33,"div",157)(34,"span",61),e.YNc(35,Sn,3,2,"p",62),e.YNc(36,wn,3,2,"p",62),e.YNc(37,kn,2,0,"p",63),e.qZA()(),e.TgZ(38,"div",158),e.YNc(39,Nn,2,1,"span",20),e.YNc(40,qn,2,0,"span",20),e.qZA()(),e.YNc(41,Mn,2,0,"button",159),e.qZA()(),e.TgZ(42,"div",160)(43,"div",66),e._UZ(44,"cf-icon",67),e._uU(45),e.qZA(),e._UZ(46,"tooltip-available-slot",36),e.qZA()()(),e.TgZ(47,"div",32)(48,"div",161),e._UZ(49,"cf-icon",69),e.TgZ(50,"span",70),e._uU(51,"Th\xf4ng tin chuy\u1ebfn bay"),e.qZA()(),e.TgZ(52,"div",162),e.YNc(53,Jn,40,13,"div",163),e.qZA()()()}if(2&n){const t=e.oxw(2),i=e.MAs(42);e.xp6(2),e.Tol(t.CARD_STATUS[t.status].backgroundColor),e.xp6(1),e.Tol(t.CARD_STATUS[t.status].textColor),e.xp6(1),e.Q6J("icon",t.CARD_STATUS[t.status].icon),e.xp6(2),e.Oqu(t.CARD_STATUS[t.status].description),e.xp6(7),e.Q6J("ngClass",e.VKq(40,se,t.status===t.STATUS_ORDER.COMPLETED)),e.xp6(1),e.hij(" ",e.lcZ(15,38,t.pnrOrderDetailData.fareInfo.originalFare)," \u0111 "),e.xp6(2),e.Q6J("ngClass",e.VKq(42,se,t.status===t.STATUS_ORDER.COMPLETED)),e.xp6(1),e.hij(" ",t.pnrOrderDetailData.fareInfo.originalFareClass," "),e.xp6(4),e.Q6J("ngIf",t.status===t.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngIf",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(2),e.ekj("!bg-functional-2-3",t.status===t.STATUS_ORDER.COMPLETED)("!bg-functional-3-3",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(1),e.ekj("!border-functional-2-3",t.status===t.STATUS_ORDER.COMPLETED)("!border-functional-3-3",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(1),e.ekj("!border-l-functional-2-3",t.status===t.STATUS_ORDER.COMPLETED)("!border-l-functional-3-3",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(1),e.Q6J("ngIf",t.status===t.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngIf",t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(5),e.Q6J("ngClass",e.VKq(44,de,t.status===t.STATUS_ORDER.COMPLETED||t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP)),e.xp6(1),e.Q6J("ngSwitch",t.status),e.xp6(1),e.Q6J("ngSwitchCase",t.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngSwitchCase",t.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(2),e.Q6J("ngClass",e.VKq(46,de,t.status===t.STATUS_ORDER.COMPLETED||t.status===t.STATUS_ORDER.IN_PROCESS_PRICE_UP)),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.detectedFareClass),e.xp6(1),e.Q6J("ngIf",!t.pnrOrderDetailData.fareInfo.detectedFareClass),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.fareInfo.detectedPnr),e.xp6(4),e.hij(" C\u1eadp nh\u1eadt g\u1ea7n nh\u1ea5t l\xfac ",t.pnrOrderDetailData.orderInfo.timeUpdated," "),e.xp6(1),e.Q6J("availableSlotData",t.availableSlotData)("content",i),e.xp6(7),e.Q6J("ngForOf",t.pnrOrderDetailData.journeys)}}function Qn(n,a){if(1&n&&(e.TgZ(0,"div",124),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.lnq(" (",t.child.namePrefix,") ",t.child.displayName," - ",t.child.birthDay," ")}}function Ln(n,a){if(1&n&&(e.TgZ(0,"div",121)(1,"div",39),e._uU(2),e.qZA(),e.TgZ(3,"div",122)(4,"div",39),e._uU(5),e.qZA(),e.YNc(6,Qn,2,3,"div",123),e.qZA()()),2&n){const t=a.$implicit,i=a.index;e.xp6(2),e.hij("",i+1,"."),e.xp6(3),e.AsE("(",t.namePrefix,") ",t.displayName,""),e.xp6(1),e.Q6J("ngIf",t.child)}}function jn(n,a){if(1&n&&(e.TgZ(0,"div",167)(1,"div",168),e._UZ(2,"cf-icon",73),e.TgZ(3,"span"),e._uU(4,"Th\xf4ng tin h\xe0nh kh\xe1ch"),e.qZA()(),e.TgZ(5,"div",169),e.YNc(6,Ln,7,4,"div",76),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngForOf",t.pnrOrderDetailData.passengers)}}function Hn(n,a){if(1&n&&(e.TgZ(0,"div",177),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("H\u1ebft h\u1ea1n sau ",t.timeExpiredStr,"")}}function Kn(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.pnrOrderDetailData.orderInfo.monitorFareClass[0].specifyFareClass)}}function zn(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function $n(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.hij("",e.lcZ(2,1,t.pnrOrderDetailData.orderInfo.targetPrice)," \u0111")}}function Gn(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"B\u1ea5t k\xec"),e.qZA())}function Vn(n,a){1&n&&(e.TgZ(0,"div",175)(1,"div",173),e._uU(2,"Th\xf4ng b\xe1o s\u1eafp h\u1ebft h\u1ea1n:"),e.qZA(),e.TgZ(3,"div",131),e._uU(4," Th\xf4ng b\xe1o tr\u01b0\u1edbc 15 ph\xfat tr\u01b0\u1edbc khi h\u1ebft h\u1ea1n canh v\xe9 "),e.qZA()())}function Xn(n,a){if(1&n&&(e.TgZ(0,"div",167)(1,"div",168),e._UZ(2,"cf-icon",170),e.TgZ(3,"span"),e._uU(4,"C\u1ea5u h\xecnh canh v\xe9"),e.qZA()(),e.TgZ(5,"div",171)(6,"div",172)(7,"div",173),e._uU(8,"H\u1ea1n canh v\xe9:"),e.qZA(),e.TgZ(9,"div",25)(10,"div",131),e._uU(11),e.qZA(),e.YNc(12,Hn,2,1,"div",174),e.qZA()(),e.TgZ(13,"div",175)(14,"div",173),e._uU(15,"K\u1ebft th\xfac canh:"),e.qZA(),e.TgZ(16,"div",25)(17,"div",131),e._uU(18),e.qZA()()(),e.TgZ(19,"div",175)(20,"div",173),e._uU(21,"H\u1ea1ng gh\u1ebf mong mu\u1ed1n:"),e.qZA(),e.TgZ(22,"div",83),e.YNc(23,Kn,2,1,"span",20),e.YNc(24,zn,2,0,"span",20),e.qZA()(),e.TgZ(25,"div",175)(26,"div",173),e._uU(27,"M\u1ee9c gi\xe1 k\xec v\u1ecdng:"),e.qZA(),e.TgZ(28,"div",83),e.YNc(29,$n,3,3,"span",20),e.YNc(30,Gn,2,0,"span",20),e.qZA()(),e.YNc(31,Vn,5,0,"div",176),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(11),e.Oqu(t.pnrOrderDetailData.orderInfo.timeExpired),e.xp6(1),e.Q6J("ngIf",t.showTimeExpiredStr),e.xp6(6),e.Oqu(t.pnrOrderDetailData.orderInfo.timeFinished),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(5),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.monitorType===t.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",t.pnrOrderDetailData.orderInfo.notifyBeforeExpire)}}function Wn(n,a){if(1&n&&(e.TgZ(0,"div",167)(1,"div",168),e._UZ(2,"cf-icon",178),e.TgZ(3,"span"),e._uU(4,"Th\xf4ng tin chi ti\u1ebft"),e.qZA()(),e.TgZ(5,"div",179)(6,"div",172)(7,"div",173),e._uU(8,"M\xe3 y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(9,"div",131),e._uU(10),e.qZA()(),e.TgZ(11,"div",175)(12,"div",173),e._uU(13,"Ng\xe0y y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(14,"div",131),e._uU(15),e.qZA()(),e.TgZ(16,"div",175)(17,"div",173),e._uU(18,"Ph\xed y\xeau c\u1ea7u:"),e.qZA(),e.TgZ(19,"div",86),e._UZ(20,"tooltip-available-slot",36),e.qZA()(),e.TgZ(21,"div",175)(22,"div",173),e._uU(23,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n:"),e.qZA(),e.TgZ(24,"div",131),e._uU(25),e.qZA()(),e.TgZ(26,"div",175)(27,"div",173),e._uU(28,"Thu\u1ed9c \u0111\u1ea1i l\xfd:"),e.qZA(),e.TgZ(29,"div",131),e._uU(30),e.qZA()()()()),2&n){const t=e.oxw(2),i=e.MAs(44);e.xp6(10),e.hij(" ",t.pnrOrderDetailData.code," "),e.xp6(5),e.hij(" ",t.pnrOrderDetailData.orderInfo.timeCreated," "),e.xp6(5),e.Q6J("availableSlotData",t.availableSlotData)("content",i),e.xp6(5),e.hij(" ",t.pnrOrderDetailData.userActionInfo.name," "),e.xp6(5),e.hij(" ",t.pnrOrderDetailData.ownerInfo.name," ")}}function ei(n,a){if(1&n&&(e.TgZ(0,"div",141),e.YNc(1,Bn,54,48,"div",142),e.YNc(2,jn,7,1,"div",143),e.YNc(3,Xn,32,8,"div",143),e.YNc(4,Wn,31,6,"div",143),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf","TICKET_INFO"===t.mobileTab),e.xp6(1),e.Q6J("ngIf","PAX_INFO"===t.mobileTab),e.xp6(1),e.Q6J("ngIf","ORDER_CONFIG"===t.mobileTab),e.xp6(1),e.Q6J("ngIf","ORDER_INFO"===t.mobileTab)}}function ti(n,a){1&n&&(e.TgZ(0,"div",180),e._UZ(1,"ticket-item-skeleton",140)(2,"ticket-item-skeleton",140)(3,"ticket-item-skeleton",140),e.qZA())}function ni(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",182),e.NdJ("click",function(r){e.CHM(t);const o=e.oxw(2),d=e.MAs(40);return e.KtG(o.openBottomSheetAction(r,d))}),e._UZ(1,"cf-icon",183),e.qZA()}}function ii(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.gotoBooking(r.pnrOrderDetailData.fareInfo.detectedPnr,r.pnrOrderDetailData.airline))}),e._UZ(1,"cf-icon",184),e._uU(2," M\u1edf \u0111\u1eb7t ch\u1ed7 "),e.qZA()}}function ri(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",89),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onCreateNewRegistration())}),e._UZ(1,"cf-icon",185),e._uU(2," T\u1ea1o l\u1ea1i y\xeau c\u1ea7u "),e.qZA()}}const ai=function(){return["EXPIRED","CANCEL","COMPLETED"]};function oi(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,ni,2,0,"button",181),e.YNc(2,ii,3,0,"button",30),e.YNc(3,ri,3,0,"button",30),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!e.DdM(3,ai).includes(t.pnrOrderDetailData.state)),e.xp6(1),e.Q6J("ngIf",e.DdM(4,Ae).includes(t.pnrOrderDetailData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorLowFareTicket&&e.DdM(5,Ie).includes(t.pnrOrderDetailData.state))}}const li=function(n){return{"!text-neutral-gray-4 pointer-events-none":n}},ci=function(n){return{"!text-neutral-gray-4":n}};function si(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",189),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onEditPnrOrder())}),e._UZ(1,"cf-icon",190),e.TgZ(2,"span"),e._uU(3,"Ch\u1ec9nh s\u1eeda"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,li,!t.pnrOrderDetailData.canUpdate)),e.xp6(1),e.Q6J("ngClass",e.VKq(4,ci,!t.pnrOrderDetailData.canUpdate))}}function di(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",191),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onCancelPnrOrder())}),e._UZ(1,"cf-icon",192),e.TgZ(2,"span"),e._uU(3,"H\u1ee7y canh v\xe9"),e.qZA()()}}function ui(n,a){if(1&n&&(e.TgZ(0,"div",186),e.YNc(1,si,4,6,"div",187),e.YNc(2,di,4,0,"div",188),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canMonitorLowFareTicket&&e.DdM(2,ee).includes(t.pnrOrderDetailData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorLowFareTicket&&e.DdM(3,ee).includes(t.pnrOrderDetailData.state))}}function pi(n,a){1&n&&(e.TgZ(0,"div",194)(1,"span",195),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",196),e.qZA())}function _i(n,a){1&n&&(e.TgZ(0,"div",194)(1,"span",195),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",196),e.qZA())}function fi(n,a){if(1&n&&(e.YNc(0,pi,4,0,"div",193),e.YNc(1,_i,4,0,"div",193)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}function gi(n,a){if(1&n&&(e.TgZ(0,"span",200),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function mi(n,a){if(1&n&&(e.TgZ(0,"span",200),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency,"/pax")}}function hi(n,a){if(1&n&&(e.TgZ(0,"div",198),e.YNc(1,gi,3,4,"span",199),e.YNc(2,mi,3,4,"span",199),e.TgZ(3,"span"),e._uU(4,"(Mi\u1ec5n ph\xed)"),e.qZA(),e._UZ(5,"cf-icon",196),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.DOWN_FARE_TICKET),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.HUNT_NEW_TICKET)}}function vi(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency," ch\xeanh l\u1ec7ch gi\xe1")}}function xi(n,a){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.AsE("",e.lcZ(2,2,t.availableSlotData.amount),"",t.availableSlotData.currency,"/pax")}}function Ei(n,a){if(1&n&&(e.TgZ(0,"div",198),e.YNc(1,vi,3,4,"span",20),e.YNc(2,xi,3,4,"span",20),e._UZ(3,"cf-icon",196),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.DOWN_FARE_TICKET),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.type===t.TYPE_ORDER.HUNT_NEW_TICKET)}}function Ti(n,a){if(1&n&&(e.YNc(0,hi,6,2,"div",197),e.YNc(1,Ei,4,2,"div",197)),2&n){const t=e.oxw();e.Q6J("ngIf",t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",!t.availableSlotData.available)}}function Ci(n,a){1&n&&e._UZ(0,"cf-spinner")}let Oi=(()=>{class n{constructor(t,i,r,o,d,g,u,m,T,h,x,S){this.ref=i,this._ticketLowFareService=r,this._flightDataService=o,this._modal=d,this.route=g,this._router=u,this._permissionService=m,this._eventLogService=T,this._bottomSheetService=h,this._mobileDetectService=x,this._toastService=S,this.STATUS_ORDER=v.b,this.CARD_STATUS=F.t,this.status=v.b.CANCEL,this.MONITOR_TYPE=C.$,this.isLoading=!1,this.isUpdated=!1,this.isUpdatedFail=!1,this.trackingData={percent:"",gapPrice:0},this.showTimeExpiredStr=!1,this.isSpinning=!1,this.canMonitorLowFareTicket=this._permissionService.hasPermission(Q.or.CanMonitorLowFareTicket),this.TYPE_ORDER=I.G,this.mobileTab="TICKET_INFO",t.registerIcons([p.UNF,p.okA,p.TOh,p.B2I,p.$S,p.toh,p.QkI,p.Hge,p.oFb,p.PcQ,p.yNU,p.LdZ,p.fXw,p.rks,p.Xzk,p.BbA,p.SK7]),this.route.params.subscribe(w=>{this.orderId=w.id,this.getPnrOrderDetail()})}getPnrOrderDetail(){this.isLoading=!0,this._ticketLowFareService.getPnrOrderDetail(this.orderId).pipe((0,P.x)(()=>this.isLoading=!1)).subscribe({next:t=>{var i,r,o,d,g,u,m,T,h,x,S,w,J,j,H,K,z,q,M,U;const te=new Date(t.data.orderInfo.timeExpire),L=new Date,ne=Math.floor((te.getTime()-L.getTime())/6e4);ne>0&&(this.timeExpiredStr=(0,G.N)(ne)),this.showTimeExpiredStr=[v.b.CREATE,v.b.IN_PROCESS,v.b.IN_PROCESS_PRICE_UP].includes(t.data.state)&&ne>0;const B=t.data.ticketInfo.passengers.map(_=>({key:_.key+""||"",parentKey:_.parentKey+""||"",firstName:_.firstName||"",lastName:_.lastName||"",displayName:`${_.lastName} ${_.firstName}`||"",birthDay:_.birthday?D(_.birthday).format("DD/MM/YYYY"):"",type:_.type||"",namePrefix:"UNDEFINE"===_.namePrefix?(0,fe.A)(_.gender):_.namePrefix,gender:_.gender})),E=(null==B?void 0:B.filter(_=>"INF"===_.type.toUpperCase()))||[],k=(null==B?void 0:B.filter(_=>"INF"!==_.type.toUpperCase()))||[];E.forEach(_=>{_.namePrefix="MALE"===_.gender?"B\xc9 TRAI":"B\xc9 G\xc1I";const b=k.find(ie=>ie.key===_.parentKey);b&&(b.child=_)}),this.status=t.data.state,this.pnrOrderDetailData={orderId:t.data.orderId,code:t.data.code,canUpdate:t.data.canUpdate,state:t.data.state,stateDisplay:t.data.stateDisplay,monitorType:t.data.monitorType,flightType:"OW"===t.data.ticketInfo.flightType?"Bay th\u1eb3ng":"Kh\u1ee9 h\u1ed3i",airline:t.data.ticketInfo.airline,airlineName:this._flightDataService.getAirlineNameByCode(t.data.ticketInfo.airline),airlineLogo:this._flightDataService.getAirlineLogoByCode(t.data.ticketInfo.airline),journeys:t.data.ticketInfo.journeys.map(_=>({leg:_.leg,startPoint:_.startPoint,endPoint:_.endPoint,duration:_.duration,durationStr:(0,G.N)(_.duration),departDay:_.departTime?D(_.departTime).locale("vi").format("dddd "):"",departDate:_.departTime?D(_.departTime).format("DD/MM/YYYY"):"",departTime:_.departTime?D(_.departTime).format("HH:mm"):"",arrivalDay:_.arrivalTime?D(_.arrivalTime).locale("vi").format("dddd"):"",arrivalDate:_.arrivalTime?D(_.arrivalTime).format("DD/MM/YYYY"):"",arrivalTime:_.arrivalTime?D(_.arrivalTime).format("HH:mm"):"",segments:_.segments.map(b=>({startPoint:b.startPoint,endPoint:b.endPoint,flightNumber:`${t.data.ticketInfo.airline}${b.flightNumber}`,departTime:b.departTime,departZone:b.departZone,arriveTime:b.arriveTime,arriveZone:b.arriveZone,index:b.index}))})),passengers:k,orderInfo:{timeCreated:t.data.orderInfo.timeCreate?D(t.data.orderInfo.timeCreate).format("DD/MM/YYYY HH:mm"):"",timeExpired:t.data.orderInfo.timeExpire?D(t.data.orderInfo.timeExpire).format("DD/MM/YYYY HH:mm"):"",timeUpdated:t.data.orderInfo.timeUpdate?D(t.data.orderInfo.timeUpdate).format("DD/MM/YYYY HH:mm"):"",timeFinished:t.data.orderInfo.timeFinished?D(t.data.orderInfo.timeFinished).format("DD/MM/YYYY HH:mm"):"",monitorFareClass:t.data.monitorType===C.$.FARE?null===(i=t.data.orderInfo.fareMonitors)||void 0===i?void 0:i.map(_=>{var b;return{expectLowerFareClass:_.expectLowerFareClass,specifyFareClass:(null===(b=_.specifyFareClass)||void 0===b?void 0:b.join(", "))||"",currentFareClass:_.currentFareClass||""}}):[],targetPrice:t.data.monitorType===C.$.PRICE&&t.data.orderInfo.priceMonitors[0].targetPrice||0,notifyBeforeExpire:t.data.orderInfo.notifyBeforeExpired},fareInfo:{originalPnr:(null===(r=t.data.fareInfo)||void 0===r?void 0:r.originalPnr)||"",detectedPnr:(null===(o=t.data.fareInfo)||void 0===o?void 0:o.detectedPnr)||"",originalFare:(null===(d=t.data.fareInfo)||void 0===d?void 0:d.originalFare)||0,detectedFare:(null===(g=t.data.fareInfo)||void 0===g?void 0:g.detectedFare)||0,originalFareClass:(null===(u=t.data.fareInfo)||void 0===u?void 0:u.originalFareClass)||"",detectedFareClass:(null===(m=t.data.fareInfo)||void 0===m?void 0:m.detectedFareClass)||"",higherFare:t.data.fareInfo.higherFare||0},monitors:(null===(T=t.data.orderInfo.fareMonitors)||void 0===T?void 0:T.map(_=>{var b,ie,Te,Ce,Oe;return{airline:(null===(b=_.specifyFareClassInfo)||void 0===b?void 0:b.airline)||"",airlineName:this._flightDataService.getAirlineNameByCode(null===(ie=_.specifyFareClassInfo)||void 0===ie?void 0:ie.airline)||"",airlineLogo:this._flightDataService.getAirlineLogoByCode(null===(Te=_.specifyFareClassInfo)||void 0===Te?void 0:Te.airline)||"",fareType:(null===(Oe=null===(Ce=_.specifyFareClassInfo)||void 0===Ce?void 0:Ce.cabin)||void 0===Oe?void 0:Oe.flatMap(V=>V.fareType).map(V=>({order:V.order,code:V.code,name:V.description,fareClass:V.fareClass.map(De=>({order:De.order,code:De.code,name:De.name}))})))||[]}}))||[],ownerInfo:{id:(null===(h=t.data.ownerInfo)||void 0===h?void 0:h.id)||"",name:(null===(x=t.data.ownerInfo)||void 0===x?void 0:x.name)||""},userActionInfo:{name:(null===(S=t.data.userActionInfo)||void 0===S?void 0:S.name)||""},availableSlotInfo:{amountPerPax:(null===(w=t.data.availableSlotInfo)||void 0===w?void 0:w.amountPerPax)||0,currency:(null===(J=t.data.availableSlotInfo)||void 0===J?void 0:J.currency)||"",free:t.data.availableSlotInfo.free,percent:(null===(j=t.data.availableSlotInfo)||void 0===j?void 0:j.percent)||0,type:t.data.availableSlotInfo.type}},this.availableSlotData={available:t.data.availableSlotInfo.free,type:t.data.availableSlotInfo.type,amount:t.data.availableSlotInfo.type===I.G.DOWN_FARE_TICKET?t.data.availableSlotInfo.percent:t.data.availableSlotInfo.amountPerPax,currency:t.data.availableSlotInfo.type===I.G.DOWN_FARE_TICKET?t.data.availableSlotInfo.currency:"\u0111"},this.registerOrderDetail={airline:(null===(H=this.pnrOrderDetailData)||void 0===H?void 0:H.airline)||"",bookingCode:(null===(K=this.pnrOrderDetailData.fareInfo)||void 0===K?void 0:K.originalPnr)||"",targetPrice:this.pnrOrderDetailData.monitorType===C.$.PRICE&&this.pnrOrderDetailData.orderInfo.targetPrice||0,totalCharge:(null===(z=this.pnrOrderDetailData.fareInfo)||void 0===z?void 0:z.originalFare)||0,monitorType:(null===(q=this.pnrOrderDetailData)||void 0===q?void 0:q.monitorType)||C.$.PRICE,monitors:this.pnrOrderDetailData.monitorType===C.$.FARE&&(null===(M=this.pnrOrderDetailData.orderInfo.monitorFareClass)||void 0===M?void 0:M.map(_=>({specifyFareClass:_.specifyFareClass.split(","),currentFareClass:_.currentFareClass})))||[],passengers:this.pnrOrderDetailData.passengers,journeys:t.data.ticketInfo.journeys.map(_=>({airline:this.pnrOrderDetailData.airline,airlineName:this.pnrOrderDetailData.airlineName,airlineLogo:this.pnrOrderDetailData.airlineLogo,flightNumber:this.pnrOrderDetailData.journeys[0].segments[0].flightNumber,startPoint:_.startPoint,endPoint:_.endPoint,startTime:new Date(_.departTime),endTime:new Date(_.arrivalTime),segments:_.segments.map(b=>({flightNumber:b.flightNumber,fareClass:"",duration:_.duration,shortDuration:(0,G.N)(_.duration)}))})),ownerId:(null===(U=this.pnrOrderDetailData.ownerInfo)||void 0===U?void 0:U.id)||"",availableSlotInfo:this.pnrOrderDetailData.availableSlotInfo},t.data.state===v.b.COMPLETED&&(this.trackingData={gapPrice:this.pnrOrderDetailData.fareInfo.originalFare-this.pnrOrderDetailData.fareInfo.detectedFare||0,percent:this.computePercenIncrease(this.pnrOrderDetailData.fareInfo.originalFare,this.pnrOrderDetailData.fareInfo.detectedFare)}),t.data.state===v.b.IN_PROCESS_PRICE_UP&&(this.trackingData={gapPrice:this.pnrOrderDetailData.fareInfo.higherFare-this.pnrOrderDetailData.fareInfo.originalFare||0,percent:this.computePercenDecrease(this.pnrOrderDetailData.fareInfo.originalFare,this.pnrOrderDetailData.fareInfo.higherFare)})},error:()=>{this._router.navigate(["admin/404"])}})}computePercenIncrease(t,i){return((t-i)/t*100).toFixed(2)}computePercenDecrease(t,i){return((t-i)/i*100).toFixed(2)||"0"}close(){this.ref.close()}gotoBooking(t,i){t&&i&&window.open(`admin/booking-detail/${i}/${t}`)}onEditPnrOrder(){if(this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(W,{containerFullHeigh:!0,headerTitle:"Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u canh v\xe9",leftButtonIcon:"",rightButtonIcon:"close",data:{orderId:this.orderId,sourceEvent:"DETAIL"}});t.containerInstance._rightButtonClick.subscribe(()=>{t.dismiss()}),t.afterDismissed().subscribe(i=>{this.getPnrOrderDetail(),"OK"===i&&(this.isUpdated=!0,this.isUpdatedFail=!1),"ERROR"===i&&(this.isUpdated=!1,this.isUpdatedFail=!0)})}else this._modal.open(W,{orderId:this.orderId,sourceEvent:"DETAIL"}).afterClosed$.subscribe({next:i=>{this.getPnrOrderDetail(),"OK"===i.data&&(this.isUpdated=!0,this.isUpdatedFail=!1),"ERROR"===i.data&&(this.isUpdated=!1,this.isUpdatedFail=!0)}})}onCancelPnrOrder(){if(this._eventLogService.captureCancelDownFare({source:0}),this._mobileDetectService.isMobile()){const t=this._bottomSheetService.open(O.Q4,{headerTitle:"H\u1ee7y y\xeau c\u1ea7u canh v\xe9",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u canh v\xe9 cho m\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${this.pnrOrderDetailData.fareInfo.originalPnr}</strong>?`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",hasIcon:!0,status:"info"}});t.containerInstance._rightButtonClick.subscribe(()=>{t.dismiss()}),t.afterDismissed().subscribe(i=>{i?(this.bottomSheetAction.dismiss(),this.isSpinning=!0,this._ticketLowFareService.cancelPnrOrder(this.pnrOrderDetailData.orderId).pipe((0,P.x)(()=>this.isSpinning=!1)).subscribe({next:r=>{"OK"===r.status?(this._toastService.add({severity:"success",summary:"H\u1ee7y y\xeau c\u1ea7u canh v\xe9 th\xe0nh c\xf4ng",detail:`H\u1ee7y y\xeau c\u1ea7u canh v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> th\xe0nh c\xf4ng.`,sticky:!1}),this.getPnrOrderDetail()):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})},error:()=>{this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9 <strong>#${this.pnrOrderDetailData.code}</strong> l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})}})):t.dismiss()})}else this._modal.open(O.V0,{title:"H\u1ee7y y\xeau c\u1ea7u canh v\xe9 n\xe0y?",body:`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u canh v\xe9 cho m\xe3 \u0111\u1eb7t ch\u1ed7 ${this.pnrOrderDetailData.fareInfo.originalPnr}?`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:i=>{i.data&&(this.isSpinning=!0,this._ticketLowFareService.cancelPnrOrder(this.orderId).pipe((0,P.x)(()=>this.isSpinning=!1)).subscribe({next:()=>{this.getPnrOrderDetail()}}))}})}gotoManage(){this._router.navigate(["admin/manage-pnr-orders"])}mobileTabChange(t,i){this.mobileTab=t,i.scrollIntoView({behavior:"smooth",inline:"center"})}openBottomSheetAction(t,i){t.preventDefault(),t.stopPropagation(),this.bottomSheetAction=this._bottomSheetService.open(i,{hasHeader:!1,rightButtonIconClass:"text-neutral-gray-4"})}onCreateNewRegistration(){const t={airline:this.pnrOrderDetailData.airline,pnr:this.pnrOrderDetailData.fareInfo.originalPnr};this.isSpinning=!0,this._ticketLowFareService.canMonitorLowFare(t).pipe((0,P.x)(()=>this.isSpinning=!1)).subscribe({next:i=>{var r,o,d,g;if("OK"===i.status&&null!==(r=i.data.canMonitor)&&void 0!==r&&r.enable)if(this._mobileDetectService.isMobile()){const u=this._bottomSheetService.open(s.g,{headerTitle:"T\u1ea1o y\xeau c\u1ea7u canh v\xe9 r\u1ebb",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",containerFullHeigh:!0,data:{registerOrderDetail:this.registerOrderDetail,regenerate:!0,sourceEvent:"REGENERATE"}});u.containerInstance._rightButtonClick.subscribe(m=>u.dismiss())}else this._modal.open(s.g,{registerOrderDetail:this.registerOrderDetail,regenerate:!0,sourceEvent:"REGENERATE"}).afterClosed$.subscribe({next:m=>{m.data&&this.getPnrOrderDetail()}});else if("OK"!==i.status||null!==(o=i.data.canMonitor)&&void 0!==o&&o.enable){const u=null===(g=null===(d=i.objectError)||void 0===d?void 0:d.errorDescription)||void 0===g?void 0:g.vi;this._modal.open(O.z5,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:u,status:"error",cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch",secondaryAction:!0})}else this._modal.open(O.z5,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:i.data.canMonitor.reason.desc,status:"error",cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch",secondaryAction:!0})},error:()=>{this._modal.open(O.z5,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:`M\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${t.pnr}</strong> kh\xf4ng h\u1ee3p l\u1ec7 \u0111\u1ec3 t\u1ea1o y\xeau c\u1ea7u canh v\xe9. Vui l\xf2ng canh v\xe9 v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 kh\xe1c.`,status:"error",cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch",secondaryAction:!0})}})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(X.gb,8),e.Y36(ge.s),e.Y36(ve.G),e.Y36(X.oE),e.Y36(Ee.gz),e.Y36(Ee.F0),e.Y36(Q.$A),e.Y36(he.x),e.Y36(Y.a2),e.Y36(ce.L),e.Y36(me.BX))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pnr-order-detail"]],standalone:!0,features:[e.jDz],decls:46,vars:30,consts:[[1,"flex","flex-col","w-full","h-full","overflow-hidden","md:hidden"],[1,"p-4","bg-neutral-white","flex","items-center","gap-x-1"],[1,"text-body-md","text-neutral-gray-5","cursor-pointer",3,"click"],["icon","chevron_right","size","small"],[1,"text-body-md","text-neutral-gray-4"],[1,"flex-auto","w-full","h-full","flex","gap-x-4","justify-center","py-6","px-[30px]","overflow-auto"],[1,"flex","gap-x-4","w-[764px]","h-full"],["class","flex-1 h-full flex flex-col gap-y-6",4,"ngIf"],["class","flex-1",4,"ngIf"],[1,"h-full","w-full","hidden","md:block"],[1,"py-2","px-4","md:flex","hidden","whitespace-nowrap","overflow-x-scroll","bg-neutral-white","sticky","top-0","z-[1]","shadow-cf-sm","border-t","border-t-neutral-gray-1"],[1,"px-4","py-1.5","rounded-full","text-espressive-md","text-neutral-gray-4","border","border-transparent","cursor-default",3,"click"],["ticketInfoTab",""],["paxInfoTab",""],["orderInfoTab",""],["class","w-full p-4",4,"ngIf"],["class","flex-1 p-4",4,"ngIf"],[1,"hidden","md:flex","md:justify-between","gap-x-4","md:fixed","md:bottom-0","md:p-4","md:bg-neutral-white","md:w-full","md:right-0"],["cf-button","","size","medium","type","secondary",1,"bg-white",3,"click"],["cfHeadIcon","","icon","arrow_left","size","medium",1,"mr-2"],[4,"ngIf"],["bottomSheetAction",""],["availableSlotRef",""],["availableSlotFullDescRef",""],[1,"flex-1","h-full","flex","flex-col","gap-y-6"],[1,"flex","justify-between","items-center"],["cf-button","","size","medium","type","secondary",1,"whitespace-nowrap","bg-neutral-white",3,"click"],["icon","arrow_left","size","small",1,"mr-2.5"],[1,"flex","gap-x-4"],["cf-button","","size","medium","type","secondary","class","justify-center bg-neutral-white",3,"click",4,"ngIf"],["cf-button","","size","medium",3,"click",4,"ngIf"],["cf-button","","size","medium",3,"disabled","manualHandle","placement","cfTooltip","click",4,"ngIf"],[1,"flex","flex-col","gap-y-4"],["class","flex gap-x-2 items-center py-1.5 px-3 bg-secondary-5-1",4,"ngIf"],["class","flex gap-x-2 items-center py-1.5 px-2 bg-primary-1-1",4,"ngIf"],[1,"px-2.5","py-1.5","flex","items-center","gap-x-2.5","rounded-tl-lg","rounded-tr-lg"],[3,"availableSlotData","content"],[1,"flex","items-center","gap-x-1"],["size","small",3,"icon"],[1,"text-express-md"],[1,"p-3","flex","flex-col","gap-y-5","border","border-t-0","border-dashed","border-neutral-gray-3","bg-neutral-white","rounded-lg","rounded-tl-none","rounded-tr-none"],[1,"flex","justify-between","gap-x-[30px]"],[1,"flex","flex-col","justify-start","items-start","gap-y-2.5"],[1,"text-express-sm","text-neutral-gray-4"],[1,"flex","flex-col"],[1,"text-heading-lg","text-neutral-gray-6",3,"ngClass"],[1,"text-heading-sm","text-neutral-gray-6",3,"ngClass"],["cf-button","","size","medium","type","secondary",1,"justify-center",3,"click"],["size","small","icon","chevron_right",1,"ml-2.5"],[1,"flex","flex-col","justify-center","text-center","gap-y-2.5","text-neutral-gray-6"],["class","text-heading-md text-functional-2-3 flex justify-center items-center gap-x-2",4,"ngIf"],["class","text-heading-md text-functional-3-3 flex justify-center items-center gap-x-2",4,"ngIf"],[1,"flex","items-center"],[1,"w-4","h-4","bg-neutral-gray-6","rounded-full"],[1,"w-[180px]","h-0","border-t-4","border-r-4","border-neutral-gray-6"],[1,"w-0","h-0","border-l-[14px]","border-l-neutral-gray-6","border-y-[8px]","border-y-transparent","border-solid"],["class","text-express-sm text-functional-2-3",4,"ngIf"],["class","text-express-sm text-functional-3-3",4,"ngIf"],[1,"flex","flex-col","justify-start","items-end","gap-y-2.5"],[1,"flex","flex-col","item-end"],[1,"text-heading-lg","text-neutral-gray-4",3,"ngClass"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"text-heading-sm","text-neutral-gray-4","text-right",3,"ngClass"],["cf-button","","size","medium","type","secondary","class","justify-center",3,"click",4,"ngIf"],[1,"flex","justify-center","items-center","gap-x-1.5","text-body-sm","text-neutral-gray-4"],["size","small","icon","refresh"],[1,"flex","items-center","gap-x-2"],["icon","plane","size","small"],[1,"text-heading-sm","text-neutral-black"],[1,"p-3","border","border-dashed","border-neutral-gray-3","bg-neutral-white","rounded-lg"],["class","flex justify-between gap-x-3 py-3",4,"ngFor","ngForOf"],["icon","users","size","small"],[1,"border","border-dashed","border-neutral-gray-2","bg-neutral-white","rounded-lg","p-3","flex","flex-col","gap-y-2"],["class","w-full h-[1px] bg-neutral-gray-1",4,"ngIf"],["class","flex gap-x-2 justify-start",4,"ngFor","ngForOf"],["icon","circle_information","size","small"],[1,"p-3","border-b","border-neutral-gray-1","flex","gap-x-3"],[1,"min-w-[142px]","whitespace-nowrap","text-body-md-short","text-neutral-black"],[1,"flex-1","flex","items-center","gap-x-6","text-express-md","text-neutral-gray-6"],["class","bg-secondary-7-2 px-2 py-1 rounded-full",4,"ngIf"],["class","p-3 border-b border-neutral-gray-1 flex gap-x-3",4,"ngIf"],[1,"flex-1","text-express-md","text-neutral-gray-6"],["class","flex-1 text-express-md text-neutral-gray-6 flex flex-col gap-y-3",4,"ngIf"],["class","p-3 flex gap-x-3",4,"ngIf"],[1,"flex"],["cf-button","","size","medium","type","secondary",1,"justify-center","bg-neutral-white",3,"click"],["size","small","icon","delete",1,"ml-2.5"],["cf-button","","size","medium",3,"click"],["size","small","icon","external_link",1,"ml-2.5"],["cf-button","","size","medium",3,"disabled","manualHandle","placement","cfTooltip","click"],["tooltip",""],["size","small","icon","edit_alt",1,"ml-2.5"],["icon","refresh","size","small",1,"mr-2.5"],[1,"flex","gap-x-2","items-center","py-1.5","px-3","bg-secondary-5-1"],["icon","circle_check","size","small",1,"text-secondary-5-3"],[1,"text-body-md"],[1,"flex","gap-x-2","items-center","py-1.5","px-2","bg-primary-1-1"],["width","16","height","16","viewBox","0 0 16 16","fill","none","xmlns","http://www.w3.org/2000/svg"],["cx","8","cy","8","r","7","fill","#E03C31"],["fill-rule","evenodd","clip-rule","evenodd","d","M10.4592 6.45972C10.7131 6.20588 10.7131 5.79432 10.4592 5.54048C10.2054 5.28664 9.79383 5.28664 9.53999 5.54048L7.99961 7.08086L6.45923 5.54048C6.20539 5.28664 5.79383 5.28664 5.53999 5.54048C5.28615 5.79432 5.28615 6.20588 5.53999 6.45972L7.08037 8.0001L5.53999 9.54048C5.28615 9.79432 5.28615 10.2059 5.53999 10.4597C5.79383 10.7136 6.20539 10.7136 6.45923 10.4597L7.99961 8.91934L9.53999 10.4597C9.79383 10.7136 10.2054 10.7136 10.4592 10.4597C10.7131 10.2059 10.7131 9.79432 10.4592 9.54048L8.91885 8.0001L10.4592 6.45972Z","fill","white"],[1,"text-heading-md","text-functional-2-3","flex","justify-center","items-center","gap-x-2"],["size","medium","icon","arrow_down",1,"text-functional-2-3"],[1,"text-heading-md","text-functional-3-3","flex","justify-center","items-center","gap-x-2"],["size","medium","icon","arrow_up",1,"mr-2.5","text-functional-3-3"],[1,"text-express-sm","text-functional-2-3"],[1,"text-express-sm","text-functional-3-3"],[1,"flex","justify-between","gap-x-3","py-3"],[1,"flex","items-center","mr-4"],[1,"flex","justify-center","items-center","w-[22px]","h-[22px]","rounded-full","bg-neutral-gray-1","text-neutral-gray-4","text-heading-sm"],[1,"w-[80px]","flex-shrink-0","px-4"],[1,"w-[80px]","h-[40px]","object-contain",3,"src"],[1,"flex","flex-col","items-center"],[1,"text-heading-sm"],[1,"flex","gap-x-1","items-center"],[1,"flex","flex-col","items-center","gap-y-1","text-express-sm","text-neutral-gray-4","relative"],[1,"w-1","h-1","bg-neutral-gray-3","rounded-full"],[1,"w-[100px]","h-[1px]","bg-neutral-gray-3"],["icon","plane","size","small",1,"text-neutral-gray-3"],[1,"w-full","h-[1px]","bg-neutral-gray-1"],[1,"flex","gap-x-2","justify-start"],[1,"flex","flex-col","gap-y-2"],["class","text-body-sm text-neutral-gray-4",4,"ngIf"],[1,"text-body-sm","text-neutral-gray-4"],[1,"bg-secondary-7-2","px-2","py-1","rounded-full"],[1,"flex-1","text-express-md","text-neutral-gray-6","flex","flex-col","gap-y-3"],["class","flex flex-col gap-y-3",4,"ngFor","ngForOf"],[1,"flex","flex-col","gap-y-3"],[1,"flex","gap-x-2"],[1,"w-[24px]","h-[24px]","object-contain",3,"src"],[1,"text-express-md","text-neutral-gray-6"],[1,"uppercase"],["class","flex gap-x-2",4,"ngFor","ngForOf"],[1,"rounded","text-express-sm","h-fit","py-1","px-2","border","border-neutral-gray-5"],[1,"flex","gap-2","flex-wrap"],["class","text-express-sm text-neutral-gray-6 py-1 px-2 rounded bg-neutral-gray-2",4,"ngFor","ngForOf"],[1,"text-express-sm","text-neutral-gray-6","py-1","px-2","rounded","bg-neutral-gray-2"],[1,"p-3","flex","gap-x-3"],[1,"flex-1"],[1,"rounded","border","border-neutral-gray-1"],[1,"w-full","p-4"],["class","md:flex md:flex-col hidden w-full gap-y-4",4,"ngIf"],["class","md:flex md:flex-col hidden w-full",4,"ngIf"],[1,"md:flex","md:flex-col","hidden","w-full","gap-y-4"],[1,"px-2.5","py-1.5","flex","justify-between","gap-x-2.5","bg-gradient-to-r","rounded-t-lg"],[1,"p-3","flex","flex-col","gap-y-5","bg-neutral-white","rounded-b-lg"],[1,"flex","justify-between","gap-x-4"],[1,"text-express-sm","text-neutral-gray-4","whitespace-nowrap"],[1,"text-heading-xs","text-neutral-gray-6","whitespace-nowrap",3,"ngClass"],[1,"text-express-sm","text-neutral-gray-6","whitespace-nowrap",3,"ngClass"],["cf-button","","size","medium","type","secondary",1,"justify-center","whitespace-nowrap","!text-button-md","!py-1.5","!px-3",3,"click"],[1,"flex-auto","flex","flex-col","justify-center","text-center","gap-y-2.5","text-neutral-gray-6"],[1,"flex","items-center","w-full"],[1,"w-2","h-2","bg-neutral-gray-6","rounded-full"],[1,"flex-1","h-0","border-t-2","border-r-2","border-neutral-gray-6"],[1,"w-0","h-0","border-l-[10px]","border-l-neutral-gray-6","border-y-[4px]","border-y-transparent","border-solid"],[1,"text-heading-xs","text-neutral-gray-4","whitespace-nowrap",3,"ngClass"],[1,"text-express-sm","text-neutral-gray-4","text-right",3,"ngClass"],["cf-button","","size","medium","type","secondary","class","justify-center whitespace-nowrap !text-button-md !py-1.5 !px-3",3,"click",4,"ngIf"],[1,"flex","justify-between","items-center","gap-x-2"],[1,"flex","items-center","gap-x-2","pl-4"],[1,"px-4","py-3","bg-neutral-white","rounded-lg"],[4,"ngFor","ngForOf"],[1,"flex","gap-x-3"],[1,"flex-1","flex","flex-col","items-start"],[1,"flex","justify-end","gap-x-3","py-3"],[1,"md:flex","md:flex-col","hidden","w-full"],[1,"flex","items-center","gap-x-2","text-heading-sm","text-neutral-gray-6","px-4","pb-3"],[1,"p-4","bg-neutral-white","flex","flex-col","gap-y-2","rounded-lg"],["icon","settings","size","small"],[1,"flex","flex-col","bg-neutral-white","md:mb-[90px]","rounded-lg"],[1,"flex","flex-col","py-3","px-4","gap-y-3"],[1,"text-body-md","text-neutral-black"],["class","bg-secondary-7-2 px-2 py-1 rounded-full text-express-md",4,"ngIf"],[1,"flex","flex-col","py-3","px-4","gap-y-3","border-t","border-neutral-gray-1"],["class","flex flex-col py-3 px-4 gap-y-3 border-t border-neutral-gray-1",4,"ngIf"],[1,"bg-secondary-7-2","px-2","py-1","rounded-full","text-express-md"],["icon","document","size","small"],[1,"flex","flex-col","bg-neutral-white","rounded-lg"],[1,"flex-1","p-4"],["cf-button","","size","small","type","secondary","class","bg-white",3,"click",4,"ngIf"],["cf-button","","size","small","type","secondary",1,"bg-white",3,"click"],["cfHeadIcon","","icon","options_horizontal","size","medium"],["cfHeadIcon","","icon","external_link","size","medium",1,"mr-2"],["cfHeadIcon","","icon","refresh","size","medium",1,"mr-2"],[1,"pb-4","w-full"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"ngClass","click",4,"ngIf"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"click",4,"ngIf"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"ngClass","click"],["icon","edit_alt","size","small",3,"ngClass"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"click"],["icon","coupon_slash","size","small"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"],["class","inline-flex gap-x-1 items-center whitespace-nowrap text-express-md text-neutral-white px-2 py-1 rounded bg-black bg-opacity-30",4,"ngIf"],[1,"inline-flex","gap-x-1","items-center","whitespace-nowrap","text-express-md","text-neutral-white","px-2","py-1","rounded","bg-black","bg-opacity-30"],["class","line-through",4,"ngIf"],[1,"line-through"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"span",2),e.NdJ("click",function(){return i.gotoManage()}),e._uU(3,"Canh v\xe9 r\u1ebb "),e.qZA(),e._UZ(4,"cf-icon",3),e.TgZ(5,"span",4),e._uU(6,"Chi ti\u1ebft y\xeau c\u1ea7u"),e.qZA()(),e.TgZ(7,"div",5)(8,"div",6),e.YNc(9,On,132,75,"div",7),e.YNc(10,Dn,6,0,"div",8),e.qZA()()(),e.TgZ(11,"div",9)(12,"div")(13,"div",1)(14,"span",2),e.NdJ("click",function(){return i.gotoManage()}),e._uU(15,"Canh v\xe9 r\u1ebb"),e.qZA(),e._UZ(16,"cf-icon",3),e.TgZ(17,"span",4),e._uU(18,"Chi ti\u1ebft y\xeau c\u1ea7u"),e.qZA()(),e.TgZ(19,"div",10)(20,"div",11,12),e.NdJ("click",function(){e.CHM(r);const d=e.MAs(21);return e.KtG(i.mobileTabChange("TICKET_INFO",d))}),e._uU(22," Chi ti\u1ebft \u0111\u1eb7t ch\u1ed7 "),e.qZA(),e.TgZ(23,"div",11,13),e.NdJ("click",function(){e.CHM(r);const d=e.MAs(24);return e.KtG(i.mobileTabChange("PAX_INFO",d))}),e._uU(25," Th\xf4ng tin h\xe0nh kh\xe1ch "),e.qZA(),e.TgZ(26,"div",11,14),e.NdJ("click",function(){e.CHM(r);const d=e.MAs(24);return e.KtG(i.mobileTabChange("ORDER_CONFIG",d))}),e._uU(28," C\u1ea5u h\xecnh canh v\xe9 "),e.qZA(),e.TgZ(29,"div",11,14),e.NdJ("click",function(){e.CHM(r);const d=e.MAs(24);return e.KtG(i.mobileTabChange("ORDER_INFO",d))}),e._uU(31," Th\xf4ng tin chi ti\u1ebft "),e.qZA()()(),e.YNc(32,ei,5,4,"div",15),e.YNc(33,ti,4,0,"div",16),e.qZA(),e.TgZ(34,"div",17)(35,"button",18),e.NdJ("click",function(){return i.gotoManage()}),e._UZ(36,"cf-icon",19),e._uU(37," Quay l\u1ea1i "),e.qZA(),e.YNc(38,oi,4,6,"div",20),e.qZA(),e.YNc(39,ui,3,4,"ng-template",null,21,e.W1O),e.YNc(41,fi,2,2,"ng-template",null,22,e.W1O),e.YNc(43,Ti,2,2,"ng-template",null,23,e.W1O),e.YNc(45,Ci,1,0,"cf-spinner",20)}2&t&&(e.xp6(9),e.Q6J("ngIf",!i.isLoading&&i.pnrOrderDetailData),e.xp6(1),e.Q6J("ngIf",i.isLoading),e.xp6(10),e.ekj("text-secondary-3-4","TICKET_INFO"===i.mobileTab)("!border-secondary-3-4","TICKET_INFO"===i.mobileTab)("bg-secondary-3-1","TICKET_INFO"===i.mobileTab),e.xp6(3),e.ekj("text-secondary-3-4","PAX_INFO"===i.mobileTab)("!border-secondary-3-4","PAX_INFO"===i.mobileTab)("bg-secondary-3-1","PAX_INFO"===i.mobileTab),e.xp6(3),e.ekj("text-secondary-3-4","ORDER_CONFIG"===i.mobileTab)("!border-secondary-3-4","ORDER_CONFIG"===i.mobileTab)("bg-secondary-3-1","ORDER_CONFIG"===i.mobileTab),e.xp6(3),e.ekj("text-secondary-3-4","ORDER_INFO"===i.mobileTab)("!border-secondary-3-4","ORDER_INFO"===i.mobileTab)("bg-secondary-3-1","ORDER_INFO"===i.mobileTab),e.xp6(3),e.Q6J("ngIf",i.pnrOrderDetailData),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderDetailData),e.xp6(5),e.Q6J("ngIf",i.pnrOrderDetailData),e.xp6(7),e.Q6J("ngIf",i.isSpinning))},dependencies:[l.ez,l.mk,l.sg,l.O5,l.RF,l.n9,l.ED,l.JJ,p.AxE,p.Sm8,y.N8,y.Xq,R.IA,$.Lk,Z.f,O.OR,Y.DW,le._],encapsulation:2}),n})();var Di=f(98184);function yi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",48,49),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onAction("EDIT"))}),e._uU(3," Ch\u1ec9nh s\u1eeda "),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.pnrOrderData.canUpdate)("disabledOneClick",!0)("manualHandle",t.pnrOrderData.canUpdate)("placement","topCenter")("cfTooltip","Kh\xf4ng th\u1ec3 ch\u1ec9nh s\u1eeda do \u0111\xe3 th\u1ef1c hi\u1ec7n tr\u01b0\u1edbc \u0111\xf3")}}function bi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onAction("CANCEL"))}),e._uU(1," H\u1ee7y canh "),e.qZA()}2&n&&e.Q6J("disabledOneClick",!0)}function Zi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",50),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onAction("CREATE_NEW"))}),e._uU(1," T\u1ea1o l\u1ea1i "),e.qZA()}2&n&&e.Q6J("disabledOneClick",!0)}function Ai(n,a){if(1&n&&(e.TgZ(0,"div",51),e._UZ(1,"cf-icon",52),e.TgZ(2,"div",53),e._uU(3,"Gi\u1ea3m "),e.TgZ(4,"span",6),e._uU(5),e.ALo(6,"number"),e.qZA(),e._uU(7," \u0111 so v\u1edbi gi\xe1 ban \u0111\u1ea7u"),e.qZA()()),2&n){const t=e.oxw();e.Tol(t.CARD_STATUS[t.pnrOrderData.state].textColor),e.xp6(5),e.Oqu(e.lcZ(6,3,t.pnrOrderData.fareInfo.lowerFare))}}function Ii(n,a){1&n&&(e.TgZ(0,"p"),e._UZ(1,"cf-icon",54),e.qZA())}function Pi(n,a){1&n&&(e.TgZ(0,"p"),e._UZ(1,"cf-icon",54),e.qZA())}function Si(n,a){1&n&&(e.TgZ(0,"p"),e._UZ(1,"cf-icon",55),e.qZA())}function Fi(n,a){1&n&&(e.TgZ(0,"p"),e._UZ(1,"cf-icon",56),e.qZA())}function Ui(n,a){1&n&&e._UZ(0,"p")}function wi(n,a){if(1&n&&(e.TgZ(0,"div",35)(1,"div",57),e._uU(2,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA(),e.TgZ(3,"div",37),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.Oqu(t.pnrOrderData.ownerName)}}function ki(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"H\u1ea1ng gh\u1ebf"),e.qZA())}function Ni(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"Gi\xe1 v\xe9"),e.qZA())}function qi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.gotoBookingCode(r.pnrOrderData.fareInfo.originalPnr,r.pnrOrderData.airline))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.pnrOrderData.fareInfo.originalPnr," ")}}function Mi(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Ri(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"a",58),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.gotoBookingCode(r.pnrOrderData.fareInfo.detectedPnr,r.pnrOrderData.airline))}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.pnrOrderData.fareInfo.detectedPnr," ")}}function Yi(n,a){1&n&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Ji(n,a){1&n&&e._UZ(0,"cf-icon",59)}function Bi(n,a){1&n&&e._UZ(0,"cf-icon",60)}function Qi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onAction("CREATE_NEW"))}),e._UZ(1,"cf-icon",66),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o l\u1ea1i"),e.qZA()()}}const Li=function(n){return{"!text-neutral-gray-4 pointer-events-none":n}},ji=function(n){return{"!text-neutral-gray-4":n}};function Hi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",67),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onAction("EDIT"))}),e._UZ(1,"cf-icon",68),e.TgZ(2,"span"),e._uU(3,"Ch\u1ec9nh s\u1eeda"),e.qZA()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(2,Li,!t.pnrOrderData.canUpdate)),e.xp6(1),e.Q6J("ngClass",e.VKq(4,ji,!t.pnrOrderData.canUpdate))}}function Ki(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",64),e.NdJ("click",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.onConfirmCancel(r))}),e._UZ(1,"cf-icon",69),e.TgZ(2,"span"),e._uU(3,"H\u1ee7y canh"),e.qZA()()}}function zi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.onAction("BOOKING_DETAIL"))}),e._UZ(1,"cf-icon",70),e.TgZ(2,"span"),e._uU(3,"M\u1edf \u0111\u1eb7t ch\u1ed7"),e.qZA()()}}const Pe=function(){return["CANCEL","EXPIRED"]},ue=function(){return["CREATE","IN_PROCESS","IN_PROCESS_PRICE_UP"]},$i=function(){return["COMPLETED"]};function Gi(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",61),e.YNc(1,Qi,4,0,"div",62),e.YNc(2,Hi,4,6,"div",63),e.YNc(3,Ki,4,0,"div",62),e.TgZ(4,"div",64),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onAction("DETAIL"))}),e._UZ(5,"cf-icon",65),e.TgZ(6,"span"),e._uU(7,"Chi ti\u1ebft y\xeau c\u1ea7u"),e.qZA()(),e.YNc(8,zi,4,0,"div",62),e.qZA()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.canMonitorLowFareTicket&&e.DdM(4,Pe).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorLowFareTicket&&e.DdM(5,ue).includes(t.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",t.canMonitorLowFareTicket&&e.DdM(6,ue).includes(t.pnrOrderData.state)),e.xp6(5),e.Q6J("ngIf",e.DdM(7,$i).includes(t.pnrOrderData.state))}}function Vi(n,a){1&n&&(e.TgZ(0,"div",72)(1,"span",73),e._uU(2,"Thu ph\xed"),e.qZA(),e._UZ(3,"cf-icon",74),e.qZA())}function Xi(n,a){1&n&&(e.TgZ(0,"div",72)(1,"span",73),e._uU(2,"Mi\u1ec5n ph\xed"),e.qZA(),e._UZ(3,"cf-icon",74),e.qZA())}function Wi(n,a){if(1&n&&(e.YNc(0,Vi,4,0,"div",71),e.YNc(1,Xi,4,0,"div",71)),2&n){const t=e.oxw();e.Q6J("ngIf",!t.availableSlotData.available),e.xp6(1),e.Q6J("ngIf",t.availableSlotData.available)}}const er=function(n){return{"!text-neutral-gray-5":n}},tr=function(n){return{"md:!items-end":n}},pe=function(n){return{"md:!hidden":n}};let nr=(()=>{class n{constructor(t,i,r,o){this._permissionService=i,this._bottomSheetService=r,this._mobileDetectService=o,this.status=v.b.COMPLETED,this.STATUS_ORDER=v.b,this.MONITOR_TYPE=C.$,this.CARD_STATUS=F.t,this.actionChange=new e.vpe,this.retriveBookingCode=new e.vpe,this.viewListAgentForMonitorFare=this._permissionService.hasPermission(Q.or.ViewListAgentForMonitorFare),this.canMonitorLowFareTicket=this._permissionService.hasPermission(Q.or.CanMonitorLowFareTicket),this.isShowMore=!1,t.registerIcons([p.esH,p.NNX,p.Hge,p.Ffn,p.SlW,p.qDv,p.cnj,p.LdZ,p.BbA,p.oFb,p.$S,p.xbi,p.D7,p.QkI,p.n78,p.fqi])}ngOnInit(){this.status=this.pnrOrderData.state,this.availableSlotData={available:this.pnrOrderData.availableSlotInfo.free,type:this.pnrOrderData.availableSlotInfo.type,amount:this.pnrOrderData.availableSlotInfo.type===I.G.DOWN_FARE_TICKET?this.pnrOrderData.availableSlotInfo.percent:this.pnrOrderData.availableSlotInfo.amountPerPax,currency:this.pnrOrderData.availableSlotInfo.type===I.G.DOWN_FARE_TICKET?this.pnrOrderData.availableSlotInfo.currency:"\u0111"}}onAction(t){this._bottomSheetService&&this._bottomSheetService.dismiss(),this.actionChange.emit(t)}gotoBookingCode(t,i){this.retriveBookingCode.emit({bookingCode:t,airline:i})}openBottomSheet(t,i){t.preventDefault(),t.stopPropagation(),this.bottomSheetAction=this._bottomSheetService.open(i,{hasHeader:!1,rightButtonIconClass:"text-neutral-gray-4"})}onClickDetail(){this._mobileDetectService.isMobile()&&this.onAction("DETAIL")}onConfirmCancel(t){this.bottomSheetAction.dismiss(),t.preventDefault(),t.stopPropagation(),this.mobileConfirmBts=this._bottomSheetService.open(O.Q4,{headerTitle:"H\u1ee7y y\xeau c\u1ea7u canh v\xe9",rightButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",data:{body:`<div>B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u canh v\xe9 <strong>#${this.pnrOrderData.code}?</strong></div>`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",hasIcon:!0}}),this.mobileConfirmBts.containerInstance._rightButtonClick.subscribe(()=>{this.mobileConfirmBts.dismiss()}),this.mobileConfirmBts.afterDismissed().subscribe(i=>{i&&this.onAction("CANCEL")})}onShow(t){t.preventDefault(),t.stopPropagation(),this.isShowMore=!this.isShowMore}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(Q.$A),e.Y36(Y.a2),e.Y36(ce.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["pnr-order-item"]],inputs:{pnrOrderData:"pnrOrderData"},outputs:{actionChange:"actionChange",retriveBookingCode:"retriveBookingCode"},standalone:!0,features:[e.jDz],decls:94,vars:67,consts:[[1,"rounded-lg","overflow-hidden","bg-white"],[1,"px-2.5","py-1.5","flex","justify-between","gap-x-2.5","h-full"],[1,"flex","items-center","gap-x-2"],[1,"md:hidden",3,"availableSlotData","content"],[1,"flex","items-center","gap-x-1"],["size","small",3,"icon"],[1,"text-express-md"],[1,"flex","gap-x-1.5","md:hidden"],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium","type","secondary","class","justify-center bg-neutral-white",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip","click",4,"ngIf"],["cf-button","","size","medium","type","secondary","class","justify-center bg-neutral-white",3,"disabledOneClick","click",4,"ngIf"],["class","flex gap-x-1.5 items-center md:hidden",3,"class",4,"ngIf"],[1,"hidden","md:block","md:p-2",3,"click"],["icon","options_horizontal","size","small"],[1,"p-3","flex","flex-col","gap-y-2",3,"click"],[1,"flex","justify-between","items-center","md:flex-col","md:items-start","gap-y-3"],[1,"flex","gap-x-5"],[1,"flex","flex-col","justify-between","items-center","gap-y-1.5"],[1,"w-7","h-7","object-contain",3,"src"],[1,"text-express-sm","text-neutral-gray-4"],[1,"flex","flex-col","justify-between","gap-y-1.5"],[1,"text-express-xl","text-neutral-gray-6","flex","items-center","gap-x-2.5","md:text-express-md"],["icon","arrow_right","size","small"],[1,"text-express-sm","text-neutral-gray-6","md:text-body-sm"],[1,"hidden","md:block","w-full","h-[1px]","bg-neutral-gray-1"],[1,"flex","gap-x-5","items-center","md:items-start"],[1,"flex","flex-col","gap-y-1.5","justify-between","items-end","md:items-start"],[1,"flex","gap-x-1.5","items-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"text-express-xl","text-secondary-3-4",3,"ngClass"],["cf-button","","size","medium",1,"md:hidden",3,"disabledOneClick","click"],[1,"p-2","flex","justify-between","items-center","bg-neutral-gray-1","rounded","md:flex","md:gap-x-4","md:justify-center","md:items-center","md:p-3",3,"ngClass"],[1,"flex","justify-between","items-center","flex-1","md:flex-col","md:items-start","md:gap-y-2"],["class","min-w-[100px] flex flex-col gap-y-2 md:flex-row md:gap-x-4",4,"ngIf"],[1,"min-w-[100px]","flex","flex-col","gap-y-2","md:flex-row","md:gap-x-4"],[1,"text-body-sm","text-neutral-gray-4","md:min-w-[100px]"],[1,"text-express-sm","text-neutral-gray-6"],[1,"min-w-[100px]","flex","flex-col","gap-y-2","md:flex-row","md:gap-x-4",3,"ngClass"],[4,"ngIf"],["class","text-secondary-3-4 hover:underline cursor-default",3,"click",4,"ngIf"],[1,"md:p-2","hidden","md:block",3,"click"],["icon","chevron_down","size","small",4,"ngIf"],["icon","chevron_up","size","small",4,"ngIf"],[1,"hidden","md:flex"],[3,"availableSlotData","content"],["bottomSheetAction",""],["availableSlotRef",""],["tabIndex","-1","cdkOverlayOrigin","","cf-button","","size","medium","type","secondary",1,"justify-center","bg-neutral-white",3,"disabled","disabledOneClick","manualHandle","placement","cfTooltip","click"],["trigger","","originOverlay","cdkOverlayOrigin"],["cf-button","","size","medium","type","secondary",1,"justify-center","bg-neutral-white",3,"disabledOneClick","click"],[1,"flex","gap-x-1.5","items-center","md:hidden"],["icon","arrow_down","size","small"],[1,"text-body-md"],["icon","arrow_right","size","small",1,"text-neutral-gray-4"],["icon","price_down","size","small",1,"text-secondary-5-3"],["icon","arrow_right_up","size","small",1,"text-secondary-4-4"],[1,"min-w-[100px]","text-body-sm","text-neutral-gray-4"],[1,"text-secondary-3-4","hover:underline","cursor-default",3,"click"],["icon","chevron_down","size","small"],["icon","chevron_up","size","small"],[1,"pb-4","w-full"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"click",4,"ngIf"],["class","py-2.5 px-4 text-button-md text-neutral-gray-6 border-b border-neutral-gray-1 flex gap-x-2 items-center",3,"ngClass","click",4,"ngIf"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"click"],["icon","document","size","small"],["icon","refresh","size","small"],[1,"py-2.5","px-4","text-button-md","text-neutral-gray-6","border-b","border-neutral-gray-1","flex","gap-x-2","items-center",3,"ngClass","click"],["icon","edit_alt","size","small",3,"ngClass"],["icon","coupon_slash","size","small"],["icon","external_link","size","small"],["class","px-2.5 py-1 rounded bg-black bg-opacity-30 flex items-center gap-x-2 cursor-default",4,"ngIf"],[1,"px-2.5","py-1","rounded","bg-black","bg-opacity-30","flex","items-center","gap-x-2","cursor-default"],[1,"text-neutral-white","text-button-md"],["icon","circle_help","size","small",1,"text-neutral-white"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"tooltip-available-slot",3),e.TgZ(4,"div",4),e._UZ(5,"cf-icon",5),e.TgZ(6,"div",6),e._uU(7),e.qZA()()(),e.TgZ(8,"div",7),e.YNc(9,yi,4,5,"button",8),e.YNc(10,bi,2,1,"button",9),e.YNc(11,Zi,2,1,"button",9),e.YNc(12,Ai,8,5,"div",10),e.qZA(),e.TgZ(13,"div",11),e.NdJ("click",function(d){e.CHM(r);const g=e.MAs(91);return e.KtG(i.openBottomSheet(d,g))}),e._UZ(14,"cf-icon",12),e.qZA()(),e.TgZ(15,"div",13),e.NdJ("click",function(){return i.onClickDetail()}),e.TgZ(16,"div",14)(17,"div",15)(18,"div",16),e._UZ(19,"img",17),e.TgZ(20,"div",18),e._uU(21),e.qZA()(),e.TgZ(22,"div",19)(23,"div",20)(24,"div"),e._uU(25),e.qZA(),e._UZ(26,"cf-icon",21),e.TgZ(27,"div"),e._uU(28),e.qZA()(),e.TgZ(29,"div",22),e._uU(30),e.qZA()()(),e._UZ(31,"div",23),e.TgZ(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27),e.YNc(36,Ii,2,0,"p",28),e.YNc(37,Pi,2,0,"p",28),e.YNc(38,Si,2,0,"p",28),e.YNc(39,Fi,2,0,"p",28),e.YNc(40,Ui,1,0,"p",29),e.qZA(),e.TgZ(41,"div",30),e._uU(42),e.ALo(43,"number"),e.qZA()(),e.TgZ(44,"div",18),e._uU(45),e.ALo(46,"number"),e.qZA()(),e.TgZ(47,"button",31),e.NdJ("click",function(){return i.onAction("DETAIL")}),e._uU(48," Chi ti\u1ebft "),e.qZA()()(),e.TgZ(49,"div",32)(50,"div",33),e.YNc(51,wi,5,1,"div",34),e.TgZ(52,"div",35)(53,"div",36),e._uU(54,"M\xe3 y\xeau c\u1ea7u"),e.qZA(),e.TgZ(55,"div",37),e._uU(56),e.qZA()(),e.TgZ(57,"div",35)(58,"div",36),e._uU(59,"Ng\xe0y y\xeau c\u1ea7u"),e.qZA(),e.TgZ(60,"div",37),e._uU(61),e.qZA()(),e.TgZ(62,"div",38)(63,"div",36),e._uU(64,"H\u1ea1n canh v\xe9"),e.qZA(),e.TgZ(65,"div",37),e._uU(66),e.qZA()(),e.TgZ(67,"div",38)(68,"div",36),e._uU(69,"Canh theo"),e.qZA(),e.TgZ(70,"div",37),e.YNc(71,ki,2,0,"span",39),e.YNc(72,Ni,2,0,"span",39),e.qZA()(),e.TgZ(73,"div",38)(74,"div",36),e._uU(75,"PNR c\u0169"),e.qZA(),e.TgZ(76,"div",37),e.YNc(77,qi,2,1,"a",40),e.YNc(78,Mi,2,0,"span",39),e.qZA()(),e.TgZ(79,"div",38)(80,"div",36),e._uU(81,"PNR m\u1edbi"),e.qZA(),e.TgZ(82,"div",37),e.YNc(83,Ri,2,1,"a",40),e.YNc(84,Yi,2,0,"span",39),e.qZA()()(),e.TgZ(85,"div",41),e.NdJ("click",function(d){return i.onShow(d)}),e.YNc(86,Ji,1,0,"cf-icon",42),e.YNc(87,Bi,1,0,"cf-icon",43),e.qZA()(),e.TgZ(88,"div",44),e._UZ(89,"tooltip-available-slot",45),e.qZA()()(),e.YNc(90,Gi,9,8,"ng-template",null,46,e.W1O),e.YNc(92,Wi,2,2,"ng-template",null,47,e.W1O)}if(2&t){const r=e.MAs(93);e.xp6(1),e.Tol(i.CARD_STATUS[i.pnrOrderData.state].backgroundColor),e.xp6(2),e.Q6J("availableSlotData",i.availableSlotData)("content",r),e.xp6(1),e.Tol(i.CARD_STATUS[i.pnrOrderData.state].textColor),e.xp6(1),e.Q6J("icon",i.CARD_STATUS[i.pnrOrderData.state].icon),e.xp6(2),e.Oqu(i.CARD_STATUS[i.pnrOrderData.state].description),e.xp6(2),e.Q6J("ngIf",i.canMonitorLowFareTicket&&e.DdM(52,ue).includes(i.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",i.canMonitorLowFareTicket&&e.DdM(53,ue).includes(i.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",i.canMonitorLowFareTicket&&e.DdM(54,Pe).includes(i.pnrOrderData.state)),e.xp6(1),e.Q6J("ngIf",i.pnrOrderData.state===i.STATUS_ORDER.COMPLETED),e.xp6(7),e.Q6J("src",i.pnrOrderData.airlineLogo,e.LSH),e.xp6(2),e.Oqu(i.pnrOrderData.airline),e.xp6(4),e.AsE("",i.pnrOrderData.startPointName," (",i.pnrOrderData.startPoint,")"),e.xp6(3),e.AsE("",i.pnrOrderData.endPointName," (",i.pnrOrderData.endPoint,")"),e.xp6(2),e.AsE(" ","OW"===i.pnrOrderData.flightType?"M\u1ed9t chi\u1ec1u":"Kh\u1ee9 h\u1ed3i",": ",i.pnrOrderData.departTime," "),e.xp6(5),e.Q6J("ngSwitch",i.status),e.xp6(1),e.Q6J("ngSwitchCase",i.STATUS_ORDER.CREATE),e.xp6(1),e.Q6J("ngSwitchCase",i.STATUS_ORDER.IN_PROCESS),e.xp6(1),e.Q6J("ngSwitchCase",i.STATUS_ORDER.COMPLETED),e.xp6(1),e.Q6J("ngSwitchCase",i.STATUS_ORDER.IN_PROCESS_PRICE_UP),e.xp6(2),e.Q6J("ngClass",e.VKq(55,er,i.STATUS_ORDER.EXPIRED===i.status||i.STATUS_ORDER.CANCEL===i.status)),e.xp6(1),e.hij(" ",e.lcZ(43,48,i.pnrOrderData.fareInfo.detectedFare||i.pnrOrderData.fareInfo.originalFare)," \u0111 "),e.xp6(3),e.hij("Gi\xe1 ban \u0111\u1ea7u ",e.lcZ(46,50,i.pnrOrderData.fareInfo.originalFare)," \u0111 "),e.xp6(2),e.Q6J("disabledOneClick",!0),e.xp6(2),e.Q6J("ngClass",e.VKq(57,tr,i.isShowMore)),e.xp6(2),e.Q6J("ngIf",i.viewListAgentForMonitorFare),e.xp6(5),e.Oqu(i.pnrOrderData.code||"-"),e.xp6(5),e.Oqu(i.pnrOrderData.orderInfo.timeCreated||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(59,pe,!i.isShowMore)),e.xp6(4),e.Oqu(i.pnrOrderData.orderInfo.timeExpired||"-"),e.xp6(1),e.Q6J("ngClass",e.VKq(61,pe,!i.isShowMore)),e.xp6(4),e.Q6J("ngIf",i.pnrOrderData.monitorType===i.MONITOR_TYPE.FARE),e.xp6(1),e.Q6J("ngIf",i.pnrOrderData.monitorType===i.MONITOR_TYPE.PRICE),e.xp6(1),e.Q6J("ngClass",e.VKq(63,pe,!i.isShowMore)),e.xp6(4),e.Q6J("ngIf",i.pnrOrderData.fareInfo.originalPnr),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderData.fareInfo.originalPnr),e.xp6(1),e.Q6J("ngClass",e.VKq(65,pe,!i.isShowMore)),e.xp6(4),e.Q6J("ngIf",i.pnrOrderData.fareInfo.detectedPnr),e.xp6(1),e.Q6J("ngIf",!i.pnrOrderData.fareInfo.detectedPnr),e.xp6(2),e.Q6J("ngIf",!i.isShowMore),e.xp6(1),e.Q6J("ngIf",i.isShowMore),e.xp6(2),e.Q6J("availableSlotData",i.availableSlotData)("content",r)}},dependencies:[l.ez,l.mk,l.O5,l.RF,l.n9,l.ED,l.JJ,p.AxE,p.Sm8,y.N8,y.Xq,$.Lk,Z.f,Di.xu,le._],encapsulation:2}),n})();var ir=f(77579),rr=f(78372),ar=f(28490);function or(n,a){if(1&n&&(e.TgZ(0,"div",40)(1,"div",41)(2,"span"),e._uU(3,"Y\xeau c\u1ea7u mi\u1ec5n ph\xed"),e.qZA(),e._UZ(4,"cf-icon",42),e.qZA(),e.TgZ(5,"div",43),e._uU(6),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(6),e.AsE(" ",t.orderTaskStatus.numOrderFree?t.orderTaskStatus.numOrderFree:0,"/",t.orderTaskStatus.numMaxFree," ")}}function lr(n,a){if(1&n&&(e.TgZ(0,"div"),e._UZ(1,"tooltip-available-slot",38),e.YNc(2,or,7,2,"ng-template",null,39,e.W1O),e.qZA()),2&n){const t=e.MAs(3),i=e.oxw();e.xp6(1),e.Q6J("content",t)("availableSlotData",i.availableSlotData)}}function cr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",44),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onRegisterPnrOrder(!1))}),e._UZ(1,"cf-icon",45),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o y\xeau c\u1ea7u"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.canCreateOrder)("disabledOneClick",!0)}}const sr=function(n,a){return{"border-b-4 border-neutral-gray-4":n,"!pl-5":a}},dr=function(n){return{"text-neutral-gray-6":n}},ur=function(n){return{"!bg-neutral-gray-6":n}};function pr(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46,47),e.NdJ("click",function(){const o=e.CHM(t).$implicit,d=e.MAs(2),g=e.oxw();return e.KtG(g.onChangeTab(o,d))}),e.TgZ(3,"div",48)(4,"span"),e._uU(5),e.qZA(),e.TgZ(6,"cf-label",49),e._uU(7),e.qZA()()(),e.BQk()}if(2&n){const t=a.$implicit,i=a.first;e.xp6(1),e.Q6J("ngClass",e.WLB(6,sr,t.active,!i)),e.xp6(2),e.Q6J("ngClass",e.VKq(9,dr,t.active)),e.xp6(2),e.hij(" ",t.text," "),e.xp6(1),e.Q6J("color","green")("ngClass",e.VKq(11,ur,t.active)),e.xp6(1),e.hij(" ",t.counter>99?"99+":t.counter," ")}}const _e=function(){return[]};function _r(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",27)(1,"div",28),e._uU(2,"Thu\u1ed9c \u0111\u1ea1i l\xfd:"),e.qZA(),e.TgZ(3,"cf-select",50),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.filterData.ownerId=r)})("selectedChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onFilterChange())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("status","default")("data",t.agentOptions||e.DdM(5,_e))("placeholder","")("allowSearch",!0)("ngModel",t.filterData.ownerId)}}function fr(n,a){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"pnr-order-item",52),e.NdJ("actionChange",function(r){const d=e.CHM(t).$implicit,g=e.oxw(2);return e.KtG(g.onChange(r,d))})("retriveBookingCode",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.gotoBookingDetail(r.airline,r.bookingCode))}),e.qZA(),e.BQk()}if(2&n){const t=a.$implicit;e.xp6(1),e.Q6J("pnrOrderData",t)}}function gr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",51),e.NdJ("scrolled",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onScrollDown())}),e.YNc(1,fr,2,1,"ng-container",17),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("infiniteScrollDistance",1)("infiniteScrollThrottle",300)("infiniteScrollContainer",".main-scroll-bar")("scrollWindow",!1)("fromRoot",!0)("alwaysCallback",!0),e.xp6(1),e.Q6J("ngForOf",t.listPnrOrder)}}function mr(n,a){1&n&&(e.TgZ(0,"div",54)(1,"div"),e._UZ(2,"img",55),e.qZA(),e.TgZ(3,"div",56)(4,"div",57),e._uU(5,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3"),e.qZA(),e.TgZ(6,"div",58)(7,"div"),e._uU(8,"Kh\xf4ng c\xf3 k\u1ebft qu\u1ea3 hi\u1ec3n th\u1ecb"),e.qZA(),e.TgZ(9,"div"),e._uU(10,"Vui l\xf2ng th\u1eed l\u1ea1i sau ho\u1eb7c ki\u1ec3m tra l\u1ea1i th\xf4ng tin t\xecm ki\u1ebfm."),e.qZA()()()())}function hr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"button",62),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onRegisterPnrOrder(!0))}),e._UZ(1,"cf-icon",45),e.TgZ(2,"span"),e._uU(3,"T\u1ea1o m\u1edbi ngay"),e.qZA()()}}function vr(n,a){if(1&n&&(e.TgZ(0,"div",54)(1,"div"),e._UZ(2,"img",59),e.qZA(),e.TgZ(3,"div",60)(4,"div",57),e._uU(5,"Ch\u01b0a c\xf3 y\xeau c\u1ea7u canh v\xe9"),e.qZA(),e.TgZ(6,"div",58)(7,"div"),e._uU(8,"T\u1ea1o y\xeau c\u1ea7u canh v\xe9 r\u1ebb gi\xfap b\u1ea1n canh \u0111\u01b0\u1ee3c gi\xe1 v\xe9 th\u1ea5p h\u01a1n \u0111\u1eb7t ch\u1ed7 ban \u0111\u1ea7u c\u1ee7a b\u1ea1n m\u1ed9t c\xe1ch t\u1ef1 \u0111\u1ed9ng v\xe0 d\u1ec5 d\xe0ng nh\u1ea5t"),e.qZA()()(),e.YNc(9,hr,4,0,"button",61),e.qZA()),2&n){const t=e.oxw(2);e.xp6(9),e.Q6J("ngIf",t.canMonitorLowFareTicket)}}function xr(n,a){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,mr,11,0,"div",53),e.YNc(2,vr,10,1,"div",53),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isEmptyOrder),e.xp6(1),e.Q6J("ngIf",t.isEmptyOrder)}}function Er(n,a){1&n&&(e.TgZ(0,"div"),e._UZ(1,"ticket-item-skeleton",63)(2,"ticket-item-skeleton",63)(3,"ticket-item-skeleton",63),e.qZA())}function Tr(n,a){1&n&&e._UZ(0,"cf-spinner")}function Cr(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"cf-select",71),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw(2);return e.KtG(o.filterData.ownerId=r)}),e.TgZ(1,"label",70)(2,"span"),e._uU(3,"Thu\u1ed9c \u0111\u1ea1i l\xfd"),e.qZA()()()}if(2&n){const t=e.oxw(2);e.Q6J("status","default")("data",t.agentOptions||e.DdM(5,_e))("placeholder","")("allowSearch",!0)("ngModel",t.filterData.ownerId)}}function Or(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",64)(1,"div",65)(2,"cf-input-group",66),e._UZ(3,"cf-icon",20),e.TgZ(4,"input",67,22),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.filterData.searchText=r)}),e.qZA()(),e.YNc(6,Cr,4,6,"cf-select",68),e.TgZ(7,"cf-select",69),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.filterData.airline=r)}),e.TgZ(8,"label",70)(9,"span"),e._uU(10,"H\xe3ng bay"),e.qZA()()(),e.TgZ(11,"cf-select",71),e.NdJ("ngModelChange",function(r){e.CHM(t);const o=e.oxw();return e.KtG(o.filterData.sortByType=r)}),e.TgZ(12,"label",70)(13,"span"),e._uU(14,"S\u1eafp x\u1ebfp"),e.qZA()()()(),e.TgZ(15,"div")(16,"button",72),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.searchPnrOrders())}),e._UZ(17,"cf-icon",73),e.TgZ(18,"div"),e._uU(19,"T\xecm ki\u1ebfm"),e.qZA()()()()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngModel",t.filterData.searchText),e.xp6(2),e.Q6J("ngIf",t.viewListAgentForMonitorFare),e.xp6(1),e.Q6J("status","default")("data",t.airlineOptions)("allowSearch",!1)("ngModel",t.filterData.airline),e.xp6(4),e.Q6J("status","default")("data",t.orderbyOptions||e.DdM(11,_e))("placeholder","")("allowSearch",!1)("ngModel",t.filterData.sortByType)}}let Dr=(()=>{class n{constructor(t,i,r,o,d,g,u,m,T,h,x,S){this._modal=i,this._ticketLowFareService=r,this._locationDataService=o,this._flightDataService=d,this._cd=g,this._permissionService=u,this._toastService=m,this._router=T,this._eventLogService=h,this._bottomSheetService=x,this._mobileDetectService=S,this.STATUS_ORDER=v.b,this.tabSelected="ALL",this.listTab=[{value:"ALL",text:"T\u1ea5t c\u1ea3",counter:0,active:!0},{value:v.b.IN_PROCESS,text:"\u0110ang ho\u1ea1t \u0111\u1ed9ng",counter:0,active:!1},{value:v.b.COMPLETED,text:"Th\xe0nh c\xf4ng",counter:0,active:!1},{value:v.b.CANCEL,text:"\u0110\xe3 k\u1ebft th\xfac",counter:0,active:!1}],this.orderbyOptions=[{value:"TIME_UPDATE",text:"Ng\xe0y c\u1eadp nh\u1eadt"},{value:"TIME_CREATE",text:"Ng\xe0y y\xeau c\u1ea7u"},{value:"TIME_EXPIRE",text:"H\u1ea1n canh v\xe9"},{value:"AIRLINE",text:"H\xe3ng bay"},{value:"PNR",text:"M\xe3 \u0111\u1eb7t ch\u1ed7"}],this.airlineOptions=[{value:"ALL",text:"T\u1ea5t c\u1ea3"},{value:"VN",text:"Vietnam Airlines"},{value:"VJ",text:"VietJet Air"},{value:"QH",text:"Bamboo Airways"}],this.agentOptions=[{value:"",text:"T\u1ea5t c\u1ea3"}],this.searchValueChanged$=new ir.x,this.isSkeleton=!0,this.isSpinner=!1,this.isEmptyOrder=!1,this.isEmptyResult=!1,this.listPnrOrder=[],this.currentTab="ALL",this.filterData={airline:"ALL",sortByType:"TIME_UPDATE",ownerId:"",searchText:"",offset:1,limit:10},this.totalItem=0,this.viewListAgentForMonitorFare=this._permissionService.hasPermission(Q.or.ViewListAgentForMonitorFare),this.canMonitorLowFareTicket=this._permissionService.hasPermission(Q.or.CanMonitorLowFareTicket),this.canCreateOrder=!1,this.TYPE_ORDER=I.G,this.availableSlotData={available:!1,type:I.G.DOWN_FARE_TICKET,amount:0,currency:"%"},t.registerIcons([p.TM4,p.SK7])}ngOnInit(){this.viewListAgentForMonitorFare&&this.getListAgentFilter(),this.searchPnrOrders(),this.searchValueChanged$.pipe((0,rr.b)(1e3)).subscribe(t=>{this.isEmptyResult=!0,this.searchPnrOrders()})}getListAgentFilter(){this._ticketLowFareService.getAgentFilterOrder().subscribe({next:t=>{var i;if("OK"===t.status){const r=(null===(i=t.data)||void 0===i?void 0:i.map(o=>({value:o.id,text:o.username})))||[];this.agentOptions=[...this.agentOptions,...r]}}})}getReqSearch(){let t={getAllState:!1,listState:[],searchText:this.filterData.searchText,airline:this.filterData.airline,sortByType:this.filterData.sortByType,ownerId:this.filterData.ownerId||"",pageOffset:this.filterData.offset,pageSize:this.filterData.limit,type:I.G.DOWN_FARE_TICKET};switch(this.currentTab){case v.b.IN_PROCESS:t=Object.assign(Object.assign({},t),{getAllState:!1,listState:[v.b.CREATE,v.b.IN_PROCESS,v.b.IN_PROCESS_PRICE_UP]});break;case v.b.COMPLETED:t=Object.assign(Object.assign({},t),{getAllState:!1,listState:[v.b.COMPLETED]});break;case v.b.CANCEL:t=Object.assign(Object.assign({},t),{getAllState:!1,listState:[v.b.CANCEL,v.b.EXPIRED]});break;default:t=Object.assign(Object.assign({},t),{getAllState:!0,listState:[]})}return t}onFilterChange(){this.isEmptyResult=!0,this.filterData.offset=1,this.searchPnrOrders()}searchPnrOrders(){this._mobileDetectService.isMobile()&&this.btsSearchMobile&&this.btsSearchMobile.dismiss(),this.isSkeleton=!0;const t=this.getReqSearch();this._ticketLowFareService.getListPnrOrder(t).pipe((0,P.x)(()=>this.isSkeleton=!1)).subscribe({next:i=>{var r,o;if("OK"===i.status){1===this.filterData.offset&&(this.listPnrOrder=[]);const d=this.listTab.find(u=>u.value===this.currentTab);d&&(d.counter=i.data.total),this.orderTaskStatus=i.data.orderTaskStatus,this.canCreateOrder=null===(r=i.data.orderTaskStatus)||void 0===r?void 0:r.canCreateOrder;const g=(null===(o=i.data.listOrder)||void 0===o?void 0:o.map(u=>{var m,T,h,x,S,w,J,j,H,K,z;let q={code:"",localTime:""},M={code:"",localTime:""};const U=u.ticketInfo.journeys.find(E=>0===E.leg),te=u.ticketInfo.journeys.find(E=>1===E.leg);"OW"===u.ticketInfo.flightType?U&&(q={code:U.startPoint,localTime:U.departTime},M={code:U.endPoint,localTime:U.arrivalTime}):U&&te&&(q={code:U.startPoint,localTime:U.departTime},M={code:te.startPoint,localTime:te.departTime});const L=(null===(m=u.ticketInfo.passengers)||void 0===m?void 0:m.map(E=>({key:E.key||"",parentKey:E.parentKey||"",firstName:E.firstName||"",lastName:E.lastName||"",displayName:`${E.lastName} ${E.firstName}`,birthDay:E.birthday?D(E.birthday).format("DD/MM/YYYY"):"",type:E.type||"",namePrefix:E.namePrefix,gender:E.gender})))||[],ne=(null==L?void 0:L.filter(E=>"INF"===E.type.toUpperCase()))||[],B=(null==L?void 0:L.filter(E=>"INF"!==E.type.toUpperCase()))||[];return ne.forEach(E=>{const k=B.find(_=>_.key===E.parentKey);k&&(k.child=E)}),{orderId:u.orderId,code:u.code,canUpdate:u.canUpdate,state:u.state,stateDisplay:u.stateDisplay,airline:u.ticketInfo.airline,airlineLogo:this._flightDataService.getSmallAirlineLogoByCode(u.ticketInfo.airline),flightType:u.ticketInfo.flightType,monitorType:u.monitorType,startPoint:q.code,startPointName:this._locationDataService.getCityNameByCode(q.code),endPoint:M.code,endPointName:this._locationDataService.getCityNameByCode(M.code),departTime:q.localTime?D(q.localTime).format("DD/MM/YYYY HH:mm"):"",arriveTime:M.localTime?D(M.localTime).format("DD/MM/YYYY HH:mm"):"",orderInfo:{monitors:u.monitorType===C.$.FARE&&(null===(T=u.orderInfo.fareMonitors)||void 0===T?void 0:T.map(E=>({currentFareClass:E.currentFareClass,expectLowerFareClass:E.expectLowerFareClass,onlyCareLowerFare:E.onlyCareLowerFare,specifyFareClass:E.specifyFareClass})))||[],timeCreated:u.orderInfo.timeCreate?D(u.orderInfo.timeCreate).format("DD/MM/YYYY HH:mm"):"",timeExpired:u.orderInfo.timeExpire?D(u.orderInfo.timeExpire).format("DD/MM/YYYY HH:mm"):"",timeUpdated:u.orderInfo.timeUpdate?D(u.orderInfo.timeUpdate).format("DD/MM/YYYY HH:mm"):"",targetPrice:u.monitorType===C.$.PRICE?u.orderInfo.priceMonitors[0].targetPrice:0},fareInfo:{originalPnr:(null===(h=u.fareInfo)||void 0===h?void 0:h.originalPnr)||"",detectedPnr:(null===(x=u.fareInfo)||void 0===x?void 0:x.detectedPnr)||"",originalFare:(null===(S=u.fareInfo)||void 0===S?void 0:S.originalFare)||0,detectedFare:(null===(w=u.fareInfo)||void 0===w?void 0:w.detectedFare)||0,higherFare:(null===(J=u.fareInfo)||void 0===J?void 0:J.higherFare)||0,lowerFare:(null===(j=u.fareInfo)||void 0===j?void 0:j.originalFare)-(null===(H=u.fareInfo)||void 0===H?void 0:H.detectedFare)},ownerId:(null===(K=u.ownerInfo)||void 0===K?void 0:K.id)||"",ownerName:(null===(z=u.ownerInfo)||void 0===z?void 0:z.name)||"",journeys:u.ticketInfo.journeys.map(E=>({arrivalTime:E.arrivalTime,departTime:E.departTime,startPoint:E.startPoint,endPoint:E.endPoint,duration:E.duration,leg:E.leg,segments:E.segments.map(k=>({departTime:k.departTime,arriveTime:k.arriveTime,endPoint:k.endPoint,startPoint:k.startPoint,flightNumber:k.flightNumber}))})),passengers:B||[],availableSlotInfo:{amountPerPax:u.availableSlotInfo.amountPerPax||0,currency:u.availableSlotInfo.currency||"",free:u.availableSlotInfo.free,percent:u.availableSlotInfo.percent||0,type:u.availableSlotInfo.type}}}))||[];this.listPnrOrder=[...this.listPnrOrder,...g],this.counterState(i.data.total),this.totalItem=i.data.total,this.listPnrOrder.length?(this.isEmptyResult=!1,this.isEmptyOrder=!1):(this.isEmptyResult=!0,this.isEmptyOrder=i.data.empty)}else this.listPnrOrder=[]},error:()=>{this.listPnrOrder=[]}})}counterState(t){this.listTab.forEach(i=>{var r,o;i.value===this.currentTab&&(i.counter=t),["CREATE","IN_PROCESS","IN_PROCESS_PRICE_UP"].includes(i.value)&&!i.counter&&(i.counter=(null===(r=this.orderTaskStatus)||void 0===r?void 0:r.inProcessTask)||0),"COMPLETED"===i.value&&!i.counter&&(i.counter=(null===(o=this.orderTaskStatus)||void 0===o?void 0:o.completeTask)||0)})}onChangeTab(t,i){t.value!==this.currentTab&&(i.scrollIntoView({behavior:"smooth",inline:"center"}),this.listPnrOrder=[],this.filterData.offset=1,this.listTab.forEach(r=>r.active=!1),t.active=!0,this.currentTab=t.value,this.searchPnrOrders())}onShowPnrOrder(t,i=!1,r=!1){this._router.navigate([`admin/pnr-order-detail/${t}`],{state:{isUpdated:i,isUpdatedFail:r}})}onEditPnrOrder(t){if(this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(W,{containerFullHeigh:!0,headerTitle:"Ch\u1ec9nh s\u1eeda y\xeau c\u1ea7u canh v\xe9",leftButtonIcon:"",rightButtonIcon:"close",data:{orderId:t}});i.containerInstance._rightButtonClick.subscribe(()=>{i.dismiss()}),i.afterDismissed().subscribe(r=>{"OK"===r&&(this.onShowPnrOrder(t,!0),this.listPnrOrder.forEach(o=>{o.orderId===t&&(o.canUpdate=!1)})),"ERROR"===r&&this.onShowPnrOrder(t,!1,!0)})}else this._modal.open(W,{orderId:t,sourceEvent:"CARD_MANAGE"}).afterClosed$.subscribe({next:r=>{"OK"===r.data&&(this.onShowPnrOrder(t,!0),this.listPnrOrder.forEach(o=>{o.orderId===t&&(o.canUpdate=!1)})),"ERROR"===r.data&&this.onShowPnrOrder(t,!1,!0)}})}onCancelPnrOrder(t,i){this._eventLogService.captureCancelDownFare({source:1}),this._mobileDetectService.isMobile()?(this.isSpinner=!0,this._ticketLowFareService.cancelPnrOrder(t).pipe((0,P.x)(()=>this.isSpinner=!1)).subscribe({next:r=>{"OK"===r.status?(this._toastService.add({severity:"success",summary:"H\u1ee7y y\xeau c\u1ea7u canh v\xe9 th\xe0nh c\xf4ng",detail:`H\u1ee7y y\xeau c\u1ea7u canh v\xe9 <strong>#${i}</strong> th\xe0nh c\xf4ng.`,sticky:!1}),this.searchPnrOrders()):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9 <strong>#${i}</strong> l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})}})):this._modal.open(O.V0,{title:"H\u1ee7y y\xeau c\u1ea7u canh v\xe9 n\xe0y?",body:`B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n h\u1ee7y y\xeau c\u1ea7u canh v\xe9 <strong>#${i}</strong>?`,okText:"X\xe1c nh\u1eadn",cancelText:"H\u1ee7y b\u1ecf",isSecondary:!0}).afterClosed$.subscribe({next:o=>{o.data&&(this.isSpinner=!0,this._ticketLowFareService.cancelPnrOrder(t).pipe((0,P.x)(()=>this.isSpinner=!1)).subscribe({next:d=>{"OK"===d.status?(this._toastService.add({severity:"success",summary:"H\u1ee7y y\xeau c\u1ea7u canh v\xe9 th\xe0nh c\xf4ng",detail:`H\u1ee7y y\xeau c\u1ea7u canh v\xe9 ${i} th\xe0nh c\xf4ng.`,sticky:!1}),this.searchPnrOrders()):this._toastService.add({severity:"error",summary:"C\xf3 l\u1ed7i x\u1ea3y ra",detail:`Kh\xf4ng th\u1ec3 h\u1ee7y y\xeau c\u1ea7u canh v\xe9 ${i} l\xfac n\xe0y. Vui l\xf2ng th\u1eed l\u1ea1i.`,sticky:!0})}}))}})}onChange(t,i){switch(t){case"DETAIL":this.onShowPnrOrder(i.orderId);break;case"EDIT":this.onEditPnrOrder(i.orderId);break;case"CREATE_NEW":this.onCreateNewRegistration(i);break;case"CANCEL":this.onCancelPnrOrder(i.orderId,i.code);break;case"BOOKING_DETAIL":this.gotoBookingDetail(i.airline.toUpperCase(),i.fareInfo.originalPnr)}}gotoBookingDetail(t,i){this._router.navigate([`admin/booking-detail/${t}/${i}`])}onScrollDown(){this.filterData.offset*this.filterData.limit<this.totalItem&&(this.filterData.offset+=1,this.searchPnrOrders())}onRegisterPnrOrder(t){if(this._eventLogService.captureOpenFormDownFare({hasPNR:0,source:t?4:3}),this._mobileDetectService.isMobile()){const i=this._bottomSheetService.open(s.g,{headerTitle:"T\u1ea1o y\xeau c\u1ea7u canh v\xe9 r\u1ebb",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",containerFullHeigh:!0,data:{isSuggest:!0,sourceEvent:t?"EMPTY_STATE":"HEADER_MANAGE"}});i.containerInstance._rightButtonClick.subscribe(r=>{this.searchPnrOrders(),i.dismiss()})}else this._modal.open(s.g,{isSuggest:!0,sourceEvent:t?"EMPTY_STATE":"HEADER_MANAGE"}).afterClosed$.subscribe({next:()=>{this.searchPnrOrders()}})}onCreateNewRegistration(t){const i={airline:t.airline,pnr:t.fareInfo.originalPnr};this.isSpinner=!0,this._ticketLowFareService.canMonitorLowFare(i).pipe((0,P.x)(()=>this.isSpinner=!1)).subscribe({next:r=>{var o,d,g,u,m;if("OK"===r.status&&null!==(o=r.data.canMonitor)&&void 0!==o&&o.enable){const T={airline:t.airline,bookingCode:t.fareInfo.originalPnr,targetPrice:t.monitorType===C.$.PRICE?t.orderInfo.targetPrice:0,totalCharge:t.fareInfo.originalFare||0,monitorType:t.monitorType,monitors:t.monitorType===C.$.FARE&&(null===(d=t.orderInfo.monitors)||void 0===d?void 0:d.map(h=>({specifyFareClass:h.specifyFareClass,currentFareClass:h.currentFareClass,onlyCareLowerFare:h.onlyCareLowerFare})))||[],passengers:t.passengers,journeys:t.journeys.map(h=>({airline:t.airline,airlineName:t.airline,airlineLogo:t.airlineLogo,flightNumber:`${t.airline}${t.journeys[0].segments[0].flightNumber}`,startPoint:h.startPoint,endPoint:h.endPoint,startTime:new Date(h.departTime),endTime:new Date(h.arrivalTime),segments:h.segments.map(x=>({flightNumber:x.flightNumber,fareClass:"",duration:h.duration,shortDuration:(0,G.N)(h.duration)}))})),ownerId:t.ownerId,availableSlotInfo:t.availableSlotInfo};if(this._mobileDetectService.isMobile()){const h=this._bottomSheetService.open(s.g,{headerTitle:"T\u1ea1o y\xeau c\u1ea7u canh v\xe9 r\u1ebb",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",leftButtonIcon:"",containerFullHeigh:!0,data:{registerOrderDetail:T,regenerate:!0,sourceEvent:"REGENERATE"}});h.containerInstance._rightButtonClick.subscribe(x=>h.dismiss())}else this._modal.open(s.g,{registerOrderDetail:T,regenerate:!0,sourceEvent:"REGENERATE"}).afterClosed$.subscribe({next:()=>{this.searchPnrOrders()}})}else if("OK"!==r.status||null!==(g=r.data.canMonitor)&&void 0!==g&&g.enable){const T=null===(m=null===(u=r.objectError)||void 0===u?void 0:u.errorDescription)||void 0===m?void 0:m.vi;if(this._mobileDetectService.isMobile()){const h=this._bottomSheetService.open(O.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",body:T,okText:"Canh v\xe9 kh\xe1c",cancelText:"\u0110\xf3ng",hasIcon:!0,status:"error"}});h.containerInstance._rightButtonClick.subscribe(()=>{h.dismiss()}),h.afterDismissed().subscribe(x=>{h.dismiss(),x&&this.onRegisterPnrOrder(!1)})}else this._modal.open(O.z5,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:T,status:"error",cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch",secondaryAction:!0})}else{const T=r.data.canMonitor.reason.desc;if(this._mobileDetectService.isMobile()){const h=this._bottomSheetService.open(O.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",body:T,okText:"Canh v\xe9 kh\xe1c",cancelText:"\u0110\xf3ng",hasIcon:!0,status:"error"}});h.containerInstance._rightButtonClick.subscribe(()=>{h.dismiss()}),h.afterDismissed().subscribe(x=>{h.dismiss(),x&&this.onRegisterPnrOrder(!1)})}else this._modal.open(O.z5,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:T,status:"error",cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch",secondaryAction:!0})}},error:()=>{if(this._mobileDetectService.isMobile()){const r=this._bottomSheetService.open(O.Q4,{headerTitle:"",rightButtonIcon:"close",rightButtonIconClass:"text-neutral-gray-4",data:{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",body:`M\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${i.pnr}</strong> kh\xf4ng h\u1ee3p l\u1ec7 \u0111\u1ec3 t\u1ea1o y\xeau c\u1ea7u canh v\xe9. Vui l\xf2ng canh v\xe9 v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 kh\xe1c.`,okText:"Canh v\xe9 kh\xe1c",cancelText:"\u0110\xf3ng",hasIcon:!0,status:"error"}});r.containerInstance._rightButtonClick.subscribe(()=>{r.dismiss()}),r.afterDismissed().subscribe(o=>{r.dismiss(),o&&this.onRegisterPnrOrder(!1)})}else this._modal.open(O.z5,{title:"M\xe3 \u0111\u1eb7t ch\u1ed7 kh\xf4ng h\u1ee3p l\u1ec7",content:`M\xe3 \u0111\u1eb7t ch\u1ed7 <strong>${i.pnr}</strong> kh\xf4ng h\u1ee3p l\u1ec7 \u0111\u1ec3 t\u1ea1o y\xeau c\u1ea7u canh v\xe9. Vui l\xf2ng canh v\xe9 v\u1edbi m\xe3 \u0111\u1eb7t ch\u1ed7 kh\xe1c.`,status:"error",cancelText:"\u0110\xf3ng",okText:"Xem danh s\xe1ch",secondaryAction:!0})}})}openSearchBts(t){this.btsSearchMobile=this._bottomSheetService.open(t,{headerTitle:"T\xecm ki\u1ebfm",containerFullHeigh:!0,rightButtonIcon:"",leftButtonIcon:"close",leftButtonIconClass:"text-neutral-gray-4",restoreFocus:!1}),this.btsSearchMobile.containerInstance._leftButtonClick.subscribe(i=>{this.btsSearchMobile.dismiss()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.KNP),e.Y36(X.oE),e.Y36(ge.s),e.Y36(ar._),e.Y36(ve.G),e.Y36(e.sBO),e.Y36(Q.$A),e.Y36(me.BX),e.Y36(Ee.F0),e.Y36(he.x),e.Y36(Y.a2),e.Y36(ce.L))},n.\u0275cmp=e.Xpm({type:n,selectors:[["manage-pnr-orders"]],hostAttrs:[1,"h-full"],standalone:!0,features:[e.jDz],decls:51,vars:21,consts:[[1,"flex","flex-col","h-full","w-full"],[1,"py-4","px-[30px]","bg-neutral-white"],[1,"flex","justify-between","items-center","gap-x-6","md:flex-col","md:gap-y-4"],[1,"flex","flex-1","flex-col","gap-y-1.5"],[1,"text-heading-lg","md:text-heading-sm"],[1,"text-express-sm","text-neutral-gray-4","md:text-body-sm"],[1,"flex","justify-end","md:justify-between","items-center","gap-x-6","w-fit","md:w-full"],[4,"ngIf"],["cf-button","","size","medium","color","primary-1","class","justify-center whitespace-nowrap",3,"disabled","disabledOneClick","click",4,"ngIf"],[1,"mt-[30px]","md:mt-4","px-4","py-3","rounded","flex","justify-between","gap-x-4","items-center","bg-neutral-gray-1","text-neutral-gray-6"],["note",""],[1,"flex","gap-x-2","justify-between","items-center"],["icon","circle_information","size","small"],[1,"text-body-md-short"],["icon","close","size","small",3,"click"],[1,"flex","flex-col","gap-y-5","mt-[30px]","md:mt-4"],[1,"flex","overflow-x-auto"],[4,"ngFor","ngForOf"],[1,"flex","justify-between"],[1,"!w-[250px]","md:mr-4","md:hidden"],["cfHeadIcon","","icon","search","size","small",1,"text-neutral-gray-4"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm theo PNR, s\xe2n bay","autocomplete","off",3,"ngModel","ngModelChange"],["tableSearchInput",""],[1,"hidden","md:block","md:!w-full","md:!max-w-full"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm theo PNR, s\xe2n bay, m\xe3 y\xeau c\u1ea7u","autocomplete","off",3,"ngModel","ngModelChange","focus"],[1,"flex","gap-x-4","items-center","md:hidden"],["class","flex items-center gap-x-2.5",4,"ngIf"],[1,"flex","items-center","gap-x-2.5"],[1,"text-express-md","whitespace-nowrap"],["textField","text","valueField","value",1,"!max-w-none","w-[160px]",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange","selectedChange"],["textField","text","valueField","value",1,"!max-w-none","w-full",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange","selectedChange"],[1,"flex-auto","h-full","w-full"],[1,"h-full","pt-8","pb-4","px-[30px]","flex","justify-center"],[1,"w-[1000px]","max-w-[1000px]"],[1,"w-full","h-full"],[1,"flex","flex-col","gap-y-[30px]","md:gap-y-4"],["class","flex flex-col gap-y-[30px] md:gap-y-4","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled",4,"ngIf"],["bottomSheetSearch",""],[3,"content","availableSlotData"],["availableSlotRef",""],[1,"flex","flex-col","justify-between","whitespace-nowrap","items-end","cursor-default","md:items-start"],[1,"text-express-sm","text-neutral-gray-4","flex","items-center","gap-x-2"],["icon","circle_help","size","small"],[1,"text-express-xl","md:text-express-lg"],["cf-button","","size","medium","color","primary-1",1,"justify-center","whitespace-nowrap",3,"disabled","disabledOneClick","click"],["icon","plus","size","small",1,"mr-2.5"],[1,"py-2.5","pr-5","pl-0","flex","gap-x-2.5","border-b","border-neutral-gray-1","cursor-pointer",3,"ngClass","click"],["tabElement",""],[1,"flex","items-center","whitespace-nowrap","text-heading-md","text-neutral-gray-4","md:text-express-md",3,"ngClass"],[1,"!text-express-xs","!p-1","bg-neutral-gray-4","ml-2",3,"color","ngClass"],["textField","text","valueField","value",1,"!max-w-none","w-[115px]",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange","selectedChange"],["infinite-scroll","",1,"flex","flex-col","gap-y-[30px]","md:gap-y-4",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","scrollWindow","fromRoot","alwaysCallback","scrolled"],[3,"pnrOrderData","actionChange","retriveBookingCode"],["class","bg-neutral-white rounded-lg shadow-cf-info-card h-full w-full p-[120px] flex flex-col justify-center items-center gap-y-8 md:px-5 md:py-[80px]",4,"ngIf"],[1,"bg-neutral-white","rounded-lg","shadow-cf-info-card","h-full","w-full","p-[120px]","flex","flex-col","justify-center","items-center","gap-y-8","md:px-5","md:py-[80px]"],["src","assets/images/empty_result.png","alt","empty",1,"w-[160px]","h-160px","object-contain"],[1,"flex","flex-col","justify-between","items-center"],[1,"text-heading-md"],[1,"text-center","text-body-md-short"],["src","assets/images/add-task.svg","alt","empty",1,"w-[160px]","h-160px","object-contain"],[1,"flex","flex-col","gap-y-2","justify-between","items-center"],["cf-button","","size","medium","color","primary-1","class","justify-center",3,"click",4,"ngIf"],["cf-button","","size","medium","color","primary-1",1,"justify-center",3,"click"],[1,"rounded","border","border-neutral-gray-1"],[1,"p-4","w-full","flex","flex-col","justify-between"],[1,"flex","flex-col","gap-y-4"],[1,"!max-w-none","w-full"],["size","medium","cf-input","","placeholder","T\xecm ki\u1ebfm theo PNR, s\xe2n bay, m\xe3 y\xeau c\u1ea7u","autocomplete","off",3,"ngModel","ngModelChange"],["class","!max-w-none w-full","textField","text","valueField","value",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange",4,"ngIf"],["textField","text","valueField","value","size","medium","placeholder","",1,"!max-w-none","w-full",3,"status","data","allowSearch","ngModel","ngModelChange"],["cfLabel","",1,"text-espressive-sm","text-black","mb-1.5"],["textField","text","valueField","value",1,"!max-w-none","w-full",3,"status","data","placeholder","allowSearch","ngModel","ngModelChange"],["cf-button","",1,"w-full","justify-center","gap-x-2",3,"click"],["icon","search","size","small"]],template:function(t,i){if(1&t){const r=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),e._uU(5,"Canh v\xe9 r\u1ebb"),e.qZA(),e.TgZ(6,"div",5),e._uU(7," Y\xean t\xe2m gia t\u0103ng l\u1ee3i nhu\u1eadn v\xec ch\xfang t\xf4i lu\xf4n theo d\xf5i bi\u1ebfn \u0111\u1ed9ng v\u1ec1 gi\xe1 v\xe0 c\u1eadp nh\u1eadt t\u1ef1 \u0111\u1ed9ng cho b\u1ea1n "),e.qZA()(),e.TgZ(8,"div",6),e.YNc(9,lr,4,2,"div",7),e.YNc(10,cr,4,2,"button",8),e.qZA()(),e.TgZ(11,"div",9,10)(13,"div",11),e._UZ(14,"cf-icon",12),e.TgZ(15,"div",13),e._uU(16,"Th\xf4ng tin hi\u1ec3n th\u1ecb kh\xf4ng ph\u1ea3i l\xe0 th\xf4ng tin c\u1eadp nh\u1eadt th\u1eddi gian th\u1ef1c. T\u1ed5ng chi ph\xed c\xf3 th\u1ec3 thay \u0111\u1ed5i sau \u0111\xf3."),e.qZA()(),e.TgZ(17,"cf-icon",14),e.NdJ("click",function(){e.CHM(r);const d=e.MAs(12);return e.KtG(d.style.display="none")}),e.qZA()(),e.TgZ(18,"div",15)(19,"div",16),e.YNc(20,pr,8,13,"ng-container",17),e.qZA(),e.TgZ(21,"div",18)(22,"cf-input-group",19),e._UZ(23,"cf-icon",20),e.TgZ(24,"input",21,22),e.NdJ("ngModelChange",function(d){return i.filterData.searchText=d})("ngModelChange",function(d){return i.searchValueChanged$.next(d)}),e.qZA()(),e.TgZ(26,"cf-input-group",23),e._UZ(27,"cf-icon",20),e.TgZ(28,"input",24,22),e.NdJ("ngModelChange",function(d){return i.filterData.searchText=d})("focus",function(){e.CHM(r);const d=e.MAs(50);return e.KtG(i.openSearchBts(d))}),e.qZA()(),e.TgZ(30,"div",25),e.YNc(31,_r,4,6,"div",26),e.TgZ(32,"div",27)(33,"div",28),e._uU(34,"H\xe3ng bay:"),e.qZA(),e.TgZ(35,"cf-select",29),e.NdJ("ngModelChange",function(d){return i.filterData.airline=d})("selectedChange",function(){return i.onFilterChange()}),e.qZA()(),e.TgZ(36,"div",27)(37,"div",28),e._uU(38,"S\u1eafp x\u1ebfp:"),e.qZA(),e.TgZ(39,"cf-select",30),e.NdJ("ngModelChange",function(d){return i.filterData.sortByType=d})("selectedChange",function(){return i.onFilterChange()}),e.qZA()()()()()(),e.TgZ(40,"div",31)(41,"div",32)(42,"div",33)(43,"div",34)(44,"div",35),e.YNc(45,gr,2,7,"div",36),e.YNc(46,xr,3,2,"div",7),e.qZA(),e.YNc(47,Er,4,0,"div",7),e.qZA()()()()(),e.YNc(48,Tr,1,0,"cf-spinner",7),e.YNc(49,Or,20,12,"ng-template",null,37,e.W1O)}2&t&&(e.xp6(9),e.Q6J("ngIf",i.orderTaskStatus),e.xp6(1),e.Q6J("ngIf",i.canMonitorLowFareTicket),e.xp6(10),e.Q6J("ngForOf",i.listTab),e.xp6(4),e.Q6J("ngModel",i.filterData.searchText),e.xp6(4),e.Q6J("ngModel",i.filterData.searchText),e.xp6(3),e.Q6J("ngIf",i.viewListAgentForMonitorFare),e.xp6(4),e.Q6J("status","default")("data",i.airlineOptions)("placeholder","")("allowSearch",!0)("ngModel",i.filterData.airline),e.xp6(4),e.Q6J("status","default")("data",i.orderbyOptions||e.DdM(20,_e))("placeholder","")("allowSearch",!1)("ngModel",i.filterData.sortByType),e.xp6(6),e.Q6J("ngIf",!i.isEmptyResult&&i.listPnrOrder.length),e.xp6(1),e.Q6J("ngIf",i.isEmptyResult&&!i.isSkeleton),e.xp6(1),e.Q6J("ngIf",i.isSkeleton),e.xp6(1),e.Q6J("ngIf",i.isSpinner))},dependencies:[l.ez,l.mk,l.sg,l.O5,c.u5,c.Fj,c.JJ,c.On,y.N8,y.Xq,c.UX,A.j$,A.ND,A.BN,p.AxE,p.Sm8,be.q,oe.Rq,oe.Ry,ye.b,nr,R.IA,O.OR,Y.DW,le._],encapsulation:2}),n})();var yr=f(94333)},4688:(re,N,f)=>{f.d(N,{b:()=>$});var s=f(36895),l=f(94650),y=f(72506);function p(O,R){if(1&O){const v=l.EpF();l.TgZ(0,"cf-icon",3),l.NdJ("click",function(C){l.CHM(v);const I=l.oxw();return l.KtG(I.close(C))}),l.qZA()}}const Z=["*"];let $=(()=>{class O{constructor(v,F,C){this.renderer=v,this.elementRef=F,this.mode="default",this.type="solid",this.size="medium",this.color="red",this.onClose=new l.vpe,C.registerIcons([y.UNF])}ngOnChanges(v){this.loadClasses()}ngOnInit(){this.loadClasses()}loadClasses(){this.classes="rounded inline-flex justify-center items-center gap-x-1 "+this.getSizeClass()+" "+this.getModeClass()}getSizeClass(){return"small"===this.size?"py-1 px-2 text-express-sm":"xsmall"===this.size?"py-[2px] px-1 text-express-sm":"py-1.5 px-3 text-express-md"}getModeClass(){return"outline"===this.type?`bg-white bordertext-${this.color}-4 border-${this.color}-4`:"inverted"===this.type?`bg-${this.color}-1 text-${this.color}-4`:"gray-2"===this.color?"text-neutral-gray-6 bg-neutral-gray-2":`text-neutral-white bg-${this.color}-4`}close(v){this.onClose.emit(v),v.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}}return O.\u0275fac=function(v){return new(v||O)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(y.KNP))},O.\u0275cmp=l.Xpm({type:O,selectors:[["cf-label"]],hostVars:2,hostBindings:function(v,F){2&v&&l.Tol(F.classes)},inputs:{mode:"mode",type:"type",size:"size",color:"color"},outputs:{onClose:"onClose"},standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:Z,decls:4,vars:1,consts:[[1,"flex","justify-between","items-center","gap-x-2"],[1,"text-ellipsis","overflow-hidden","whitespace-normal","flex","items-center"],["icon","close","size","small","class","cursor-pointer",3,"click",4,"ngIf"],["icon","close","size","small",1,"cursor-pointer",3,"click"]],template:function(v,F){1&v&&(l.F$t(),l.TgZ(0,"div",0)(1,"div",1),l.Hsn(2),l.qZA(),l.YNc(3,p,1,0,"cf-icon",2),l.qZA()),2&v&&(l.xp6(3),l.Q6J("ngIf","closeable"===F.mode))},dependencies:[s.ez,s.O5,y.AxE,y.Sm8],encapsulation:2,changeDetection:0}),O})()}}]);